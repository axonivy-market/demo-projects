<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile">
<body>
  <ui:composition>
  
    <p:ajaxExceptionHandler 
    type="javax.faces.application.ViewExpiredException" 
    update="viewExpiredExceptionDialog" 
    onexception="PF('viewExpiredExceptionDialog').show();"/>
    
  <p:dialog id="viewExpiredExceptionDialog" header="View or Session Expired" widgetVar="viewExpiredExceptionDialog" height="50px">
    <b><h:outputText value="Custom Exception Handling for ViewExpiredException"/></b>
    <br/>
    <h:outputText value="The view or session has expired."/>
    <br/>
    <h:outputLink value="#{ivy.html.loginRef()}">Please login again.</h:outputLink> 
  </p:dialog>
  
  <p:ajaxExceptionHandler 
    update="ajaxExceptionDialog" 
    onexception="PF('ajaxExceptionDialog').show();"/>
   
  <p:dialog id="ajaxExceptionDialog" header="Error" widgetVar="ajaxExceptionDialog" height="400px">
    <b><h:outputText value="Custom Exception Handling for Throwable"/></b>
	<br/>
    <h:outputText value="Error Id: #{errorPage.exceptionId}"/>
	<br/>
   	<c:if test="#{errorPage.showDetails}">
      <h:outputText value="Message: #{errorPage.message}"/>
	  <br/>
	  <h:outputText value="StackTrace: "/>
	  <br />
	  <pre><code>#{errorPage.getStackTrace()}</code></pre>
	</c:if>	  
  </p:dialog>  

  </ui:composition>
</body>
</html>