<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:body>
	<ui:composition template="/PageTemplate.xhtml">

	<ui:define name="center">
		<p:layoutUnit position="center" header="Partial Update Demo">
		<h:form id="Form">
    		<p:panel id="panel">
    		<p>
    		This demo explains how panel of a UI can be updated by using AJAX without to reload the whole HTML page.<br/>
    		The two buttons in the below demo increases the same counter variable, but each panel updates only his own view part.
    		</p>
    	 		
    	 		<p:panel header="Panel A" id="counterPanel_1">
    	 		  	<h:outputText>Counter:</h:outputText>
    	 		  	<h:outputText value="#{data.counter}"/>
    	 		  	<br/>
    	 		  	<ui:remove>
    	 		  	<!-- 
    	 		  	Increases the counter 
    	 		  	but only updates the panel 'counterPanel_1' 
    	 		  	without to reload the whole page or update other panels
    	 		  	  -->
    	 		  	</ui:remove>
    	 		  	<p:commandButton value="Increase counter then update 'Panel A'" update="counterPanel_1" actionListener="#{logic.increaseCounter}"/>
    	 		</p:panel>
    	 		<br/>
    	 		<p:panel header="Panel B" id="counterPanel_2">
    	 		  	<h:outputText>Counter:</h:outputText>
    	 		  	<h:outputText value="#{data.counter}"/>
    	 		  	<br/>
    	 		  	<ui:remove>
    	 		  	<!-- 
    	 		  	Increases the counter 
    	 		  	but only updates the panel 'counterPanel_2' 
    	 		  	without to reload the whole page or update other panels
    	 		  	  -->
    	 		  	</ui:remove>
    	 		  	<p:commandButton value="Increase counter then update 'Panel B'" update="counterPanel_2" actionListener="#{logic.increaseCounter}"/>
    	 		</p:panel>
    	 		<br/>
   	 		  	<ui:remove>
   	 		  	<!-- 
   	 		  	Increases the counter 
   	 		  	and then updates both panels 
   	 		  	without to reload the whole page
                -->
                </ui:remove>
   	 		  	<p:commandButton value="Increase counter then update both panels" update="counterPanel_1 counterPanel_2" actionListener="#{logic.increaseCounter}"/>
    		</p:panel>	 	
    	</h:form>
		</p:layoutUnit>
	</ui:define>

	</ui:composition>
</h:body>
</html>