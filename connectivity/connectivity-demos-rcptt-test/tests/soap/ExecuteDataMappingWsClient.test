--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _aaETQPhDEeaBd7rbMJob0A,_EFdg4NJ0EeaR9M6EuzThAQ,_uTeBUD3gEeadqZIC2MODiA,_vNHwsD3hEeadqZIC2MODiA,_iWGD0D31EeadqZIC2MODiA,_j1ZYwD4IEea1-MPAK3G86w
Element-Name: ExecuteDataMappingWsClient
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _kcK58OGpEeeXn4UcxfcCuQ
Runtime-Version: 2.5.2.202107052356
Save-Time: 5/18/22, 4:51 PM
Testcase-Type: ecl
Verifications: _SbgVwD39EeadqZIC2MODiA

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

proc "startMappingProcess" [val processName]
{
	clearRuntimeLog
	let[val proc [format "soap\\/client\\/dataMapping\\/%s" $processName]]
	{
		startBpmProcess -projectName $project -ivpPath $proc
	}
}

proc "useEnvironment" [val env]
{
	get-preferences-menu | click
	with [get-window Preferences] {
		get-tree | select "Axon Ivy/Process Engine"
		get-combo -after [get-label "Use environment for simulation:"] | select $env
		get-button "Apply and Close" | click -metaKeys ""
	}
}

let [val project "connectivity-demos"]
{
	// setup
	importArchive
	showOnlyUserRuntimeLog
	startEngines
	simulationSelected false
	useEnvironment "dev-axonivy"

	startMappingProcess "resolveToCache.ivp"
	assertRuntimeLogMsg "the time on the remote system is 20" // e.g. 2018-MM-DD ...

	startMappingProcess "mapComplexData.ivp"
	assertRuntimeLogMsg "created person with id " // UUID
	simulationSelected true
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
