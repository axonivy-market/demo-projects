<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite">
<cc:interface componentType="IvyComponent" />

<cc:implementation>
	<h:form id="webServerForm" styleClass="configChanged">
		<h:panelGrid columns="3" cellpadding="20" cellspacing="20"
			rendered="#{data.settings.connectionInfo.connectionOK}">
			<p:fieldset id="HTTPFieldSet" legend="HTTP Connector">
				<h:panelGrid columns="2" cellpadding="5" cellspacing="10">
					<p:outputLabel for="HTTPEnabledCheckbox" id="HTTPEnabledLabel"
						value="Enabled: " />
					<p:selectBooleanCheckbox id="HTTPEnabledCheckbox"
						styleClass="webserver-checkbox"
						value="#{data.settings.webServerConfig.httpEnabled}">
						<p:ajax />
					</p:selectBooleanCheckbox>

					<p:outputLabel for="HTTPPortInput" id="HTTPPortLabel"
						value="Port: " />
					<p:inputText id="HTTPPortInput" styleClass="port-input"
						value="#{data.settings.webServerConfig.httpPort}">
						<p:ajax event="keyup" />
					</p:inputText>
				</h:panelGrid>
			</p:fieldset>

			<p:fieldset id="HTTPSFieldSet" legend="HTTPS Connector">
				<h:panelGrid columns="2" cellpadding="5" cellspacing="10">
					<p:outputLabel for="HTTPSEnabledCheckbox" id="HTTPSEnabledLabel"
						value="Enabled: " />
					<p:selectBooleanCheckbox id="HTTPSEnabledCheckbox"
						styleClass="webserver-checkbox"
						value="#{data.settings.webServerConfig.httpsEnabled}">
						<p:ajax />
					</p:selectBooleanCheckbox>

					<p:outputLabel for="HTTPSPortInput" id="HTTPSPortLabel"
						value="Port: " />
					<p:inputText id="HTTPSPortInput" styleClass="port-input"
						value="#{data.settings.webServerConfig.httpsPort}">
						<p:ajax event="keyup" />
					</p:inputText>
				</h:panelGrid>
			</p:fieldset>

			<p:fieldset id="AJPFieldSet" legend="AJP Connector">
				<h:panelGrid columns="2" cellpadding="5" cellspacing="10">
					<p:outputLabel for="AJPEnabledCheckbox" id="AJPEnabledLabel"
						value="Enabled: " />
					<p:selectBooleanCheckbox id="AJPEnabledCheckbox"
						styleClass="webserver-checkbox"
						value="#{data.settings.webServerConfig.ajpEnabled}">
						<p:ajax />
					</p:selectBooleanCheckbox>

					<p:outputLabel for="AJPPortInput" id="AJPPortLabel" value="Port: " />
					<p:inputText id="AJPPortInput" styleClass="port-input"
						value="#{data.settings.webServerConfig.ajpPort}">
						<p:ajax event="keyup" />
					</p:inputText>
				</h:panelGrid>
			</p:fieldset>
		</h:panelGrid>
		<br/>
		
		<p:commandButton id="savePortsButton" icon="fa fa-save"
			value="Save to Database" actionListener="#{logic.save}"
			update="growl"
			rendered="#{data.settings.connectionInfo.connectionOK}" />
		<p:commandButton id="webServerTabNextButton" value="Next"
			rendered="#{data.settings.connectionInfo.connectionOK}"
			icon="fa fa-arrow-circle-right" styleClass="next-button"
			onclick="PF('accordionPanel').select(4);" />
		
		<ic:com.axonivy.engine.config.ui.settings.component.ConnectionStateComponent
					id="connectionStateComponent" settings="#{data.settings}"
					rendered="#{!data.settings.connectionInfo.connectionOK}"/>
	</h:form>
</cc:implementation>
</html>