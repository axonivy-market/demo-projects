<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/HtmlDemo.xhtml">
    <ui:param name="centerHeader" value="Lazy Loading Table Demo" />
    <ui:define name="breadcrumb">Output/Lazy Loading Table Demo</ui:define>

    <ui:define name="content">
      <h:form id="form">
        <h:panelGroup id="data" layout="block">
          <p>This demo shows the use of a LazyDataModel which provides the data in the load method.</p>
          <h:panelGrid>
            <f:facet name="header">
              <p:messages></p:messages>
            </f:facet>

            <p:dataTable id="theTable" widgetVar="theTable" value="#{data.lazyModel}" var="person" rows="10"
              rowKey="#{person.id}" draggableColumns="true" draggableRows="true" paginator="true"
              rowsPerPageTemplate="10, 20, 50" lazy="true"
              paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}">

              <f:facet name="header">
                <div class="customers-table-header">
                  <span class="ui-input-icon-left filter-container">
                    <i class="pi pi-search"/>
                    <p:inputText id="globalFilter" onkeyup="PF('theTable').filter()" placeholder="Global Search"/>
                  </span>
                </div>
              </f:facet>

              <p:column headerText="Id" sortBy="#{person.id}" style="width:60px" id="personId">
                <p:outputLabel value="#{person.id}" />
              </p:column>

              <p:column headerText="First name" filterMatchMode="startsWith" filterBy="#{person.firstname}"
                sortBy="#{person.firstname}" styleClass="filterColumn" style="width:200px">
                <p:outputLabel value="#{person.firstname}"></p:outputLabel>
              </p:column>

              <p:column headerText="Name" filterMatchMode="startsWith" filterBy="#{person.name}" sortBy="#{person.name}"
                styleClass="filterColumn" style="width:200px">
                <p:outputLabel value="#{person.name}"></p:outputLabel>
              </p:column>

              <p:column headerText="Year of birth" filterBy="#{person.birthYear}" filterMatchMode="startsWith"
                sortBy="#{person.birthYear}" styleClass="filterColumn" style="width:200px">
                <p:outputLabel value="#{person.birthYear}"></p:outputLabel>
              </p:column>
            </p:dataTable>
          </h:panelGrid>
        </h:panelGroup>
      </h:form>

      <style type="text/css">
        .filterColumn span {
          float: left;
          padding-top: 5%;
        }
      </style>

    </ui:define>
  </ui:composition>
</h:body>

</html>
