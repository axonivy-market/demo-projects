[Ivy]
[>Created: Tue May 05 17:49:59 CEST 2009]
1168625F1BC1155F 3.11 #module
>Proto >Proto Collection #zClass
Ts0 TaskDisplayListProcess Big #zClass
Ts0 RD #cInfo
Ts0 #process
Ts0 @TextInP .xml .xml #zField
Ts0 @TextInP .responsibility .responsibility #zField
Ts0 @TextInP .resExport .resExport #zField
Ts0 @TextInP .type .type #zField
Ts0 @TextInP .processKind .processKind #zField
Ts0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Ts0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Ts0 @AnnotationInP-0n ai ai #zField
Ts0 @MessageFlowInP-0n messageIn messageIn #zField
Ts0 @MessageFlowOutP-0n messageOut messageOut #zField
Ts0 @RichDialogInitStart f0 '' #zField
Ts0 @RichDialogProcessEnd f1 '' #zField
Ts0 @RichDialogProcessStart f3 '' #zField
Ts0 @RichDialogProcessEnd f4 '' #zField
Ts0 @RichDialogProcessStart f6 '' #zField
Ts0 @RichDialogProcessStart f11 '' #zField
Ts0 @RichDialogProcessStart f13 '' #zField
Ts0 @RichDialogProcessStep f15 '' #zField
Ts0 @RichDialogProcessStep f17 '' #zField
Ts0 @PushWFArc f16 '' #zField
Ts0 @RichDialogProcessStart f28 '' #zField
Ts0 @RichDialogProcessEnd f29 '' #zField
Ts0 @RichDialogProcessStart f33 '' #zField
Ts0 @RichDialogProcessEnd f36 '' #zField
Ts0 @RichDialogProcessStart f22 '' #zField
Ts0 @RichDialogProcessEnd f23 '' #zField
Ts0 @RichDialogProcessStart f25 '' #zField
Ts0 @RichDialogProcessEnd f26 '' #zField
Ts0 @RichDialogProcessStep f30 '' #zField
Ts0 @PushWFArc f38 '' #zField
Ts0 @RichDialog f41 '' #zField
Ts0 @RichDialogProcessStep f49 '' #zField
Ts0 @RichDialogMethodStart f51 '' #zField
Ts0 @Alternative f12 '' #zField
Ts0 @PushWFArc f57 '' #zField
Ts0 @RichDialogProcessStep f21 '' #zField
Ts0 @RichDialogMethodStart f20 '' #zField
Ts0 @RichDialogProcessEnd f59 '' #zField
Ts0 @PushWFArc f61 '' #zField
Ts0 @RichDialogProcessEnd f37 '' #zField
Ts0 @RichDialogProcessStep f65 '' #zField
Ts0 @PushWFArc f64 '' #zField
Ts0 @Alternative f67 '' #zField
Ts0 @PushWFArc f68 '' #zField
Ts0 @RichDialogMethodStart f76 '' #zField
Ts0 @RichDialogProcessStep f79 '' #zField
Ts0 @PushWFArc f80 '' #zField
Ts0 @PushWFArc f71 '' #zField
Ts0 @Alternative f81 '' #zField
Ts0 @RichDialogProcessStep f84 '' #zField
Ts0 @PushWFArc f85 '' #zField
Ts0 @PushWFArc f83 '' #zField
Ts0 @RichDialogProcessStep f2 '' #zField
Ts0 @Alternative f40 '' #zField
Ts0 @PushWFArc f44 '' #zField
Ts0 @RichDialogProcessStep f90 '' #zField
Ts0 @RichDialog f34 '' #zField
Ts0 @PushWFArc f63 '' #zField
Ts0 @PushWFArc f58 '' #zField
Ts0 @RichDialogProcessStart f92 '' #zField
Ts0 @RichDialogProcessStart f99 '' #zField
Ts0 @RichDialogProcessStep f101 '' #zField
Ts0 @PushWFArc f102 '' #zField
Ts0 @PushWFArc f94 '' #zField
Ts0 @PushWFArc f95 '' #zField
Ts0 @RichDialogProcessStep f103 '' #zField
Ts0 @PushWFArc f104 '' #zField
Ts0 @PushWFArc f82 '' #zField
Ts0 @RichDialog f105 '' #zField
Ts0 @PushWFArc f70 '' #zField
Ts0 @RichDialogBroadcastStart f42 '' #zField
Ts0 @Alternative f32 '' #zField
Ts0 @PushWFArc f72 '' #zField
Ts0 @RichDialogProcessStep f73 '' #zField
Ts0 @PushWFArc f74 '' #zField
Ts0 @PushWFArc f69 '' #zField
Ts0 @PushWFArc f75 '' #zField
Ts0 @RichDialogProcessStep f96 '' #zField
Ts0 @PushWFArc f97 '' #zField
Ts0 @Alternative f100 '' #zField
Ts0 @PushWFArc f106 '' #zField
Ts0 @PushWFArc f62 '' #zField
Ts0 @PushWFArc f120 '' #zField
Ts0 @Alternative f121 '' #zField
Ts0 @PushWFArc f122 '' #zField
Ts0 @RichDialogProcessStep f124 '' #zField
Ts0 @PushWFArc f125 '' #zField
Ts0 @RichDialogProcessStart f126 '' #zField
Ts0 @Alternative f128 '' #zField
Ts0 @PushWFArc f129 '' #zField
Ts0 @PushWFArc f24 '' #zField
Ts0 @RichDialogProcessStep f131 '' #zField
Ts0 @PushWFArc f132 '' #zField
Ts0 @PushWFArc f46 '' #zField
Ts0 @RichDialogProcessStep f133 '' #zField
Ts0 @PushWFArc f134 '' #zField
Ts0 @PushWFArc f130 '' #zField
Ts0 @RichDialogBroadcastStart f135 '' #zField
Ts0 @PushWFArc f53 '' #zField
Ts0 @RichDialogProcessStep f137 '' #zField
Ts0 @PushWFArc f140 '' #zField
Ts0 @PushWFArc f141 '' #zField
Ts0 @PushWFArc f93 '' #zField
Ts0 @PushWFArc f91 '' #zField
Ts0 @PushWFArc f8 '' #zField
Ts0 @PushWFArc f87 '' #zField
Ts0 @RichDialogProcessStep f119 '' #zField
Ts0 @PushWFArc f150 '' #zField
Ts0 @PushWFArc f149 '' #zField
Ts0 @RichDialogProcessStart f151 '' #zField
Ts0 @RichDialogProcessEnd f152 '' #zField
Ts0 @RichDialogProcessStep f154 '' #zField
Ts0 @PushWFArc f155 '' #zField
Ts0 @PushWFArc f153 '' #zField
Ts0 @RichDialog f156 '' #zField
Ts0 @Alternative f157 '' #zField
Ts0 @PushWFArc f158 '' #zField
Ts0 @PushWFArc f43 '' #zField
Ts0 @PushWFArc f159 '' #zField
Ts0 @PushWFArc f160 '' #zField
Ts0 @RichDialogProcessStart f161 '' #zField
Ts0 @RichDialogProcessStart f162 '' #zField
Ts0 @RichDialogProcessEnd f163 '' #zField
Ts0 @RichDialog f167 '' #zField
Ts0 @Alternative f169 '' #zField
Ts0 @PushWFArc f170 '' #zField
Ts0 @RichDialogProcessStep f171 '' #zField
Ts0 @PushWFArc f172 '' #zField
Ts0 @PushWFArc f173 '' #zField
Ts0 @Alternative f174 '' #zField
Ts0 @PushWFArc f175 '' #zField
Ts0 @PushWFArc f176 '' #zField
Ts0 @Alternative f177 '' #zField
Ts0 @PushWFArc f178 '' #zField
Ts0 @RichDialog f179 '' #zField
Ts0 @Alternative f181 '' #zField
Ts0 @PushWFArc f182 '' #zField
Ts0 @RichDialogProcessStep f183 '' #zField
Ts0 @PushWFArc f184 '' #zField
Ts0 @RichDialogProcessStep f187 '' #zField
Ts0 @PushWFArc f188 '' #zField
Ts0 @PushWFArc f168 '' #zField
Ts0 @RichDialogProcessStep f189 '' #zField
Ts0 @PushWFArc f190 '' #zField
Ts0 @PushWFArc f180 '' #zField
Ts0 @RichDialogProcessStart f191 '' #zField
Ts0 @RichDialogProcessEnd f192 '' #zField
Ts0 @Alternative f194 '' #zField
Ts0 @PushWFArc f195 '' #zField
Ts0 @RichDialogProcessStep f196 '' #zField
Ts0 @PushWFArc f198 '' #zField
Ts0 @RichDialogProcessStart f199 '' #zField
Ts0 @PushWFArc f166 '' #zField
Ts0 @PushWFArc f186 '' #zField
Ts0 @Alternative f185 '' #zField
Ts0 @PushWFArc f201 '' #zField
Ts0 @RichDialogProcessStep f202 '' #zField
Ts0 @PushWFArc f204 '' #zField
Ts0 @RichDialogProcessStep f205 '' #zField
Ts0 @PushWFArc f206 '' #zField
Ts0 @PushWFArc f86 '' #zField
Ts0 @RichDialogProcessStart f60 '' #zField
Ts0 @RichDialogProcessEnd f208 '' #zField
Ts0 @PushWFArc f209 '' #zField
Ts0 @PushWFArc f5 '' #zField
Ts0 @RichDialogProcessStart f7 '' #zField
Ts0 @PushWFArc f14 '' #zField
Ts0 @RichDialogProcessStart f39 '' #zField
Ts0 @RichDialogProcessStep f89 '' #zField
Ts0 @PushWFArc f98 '' #zField
Ts0 @PushWFArc f47 '' #zField
Ts0 @RichDialogMethodStart f111 '' #zField
Ts0 @RichDialogInitStart f113 '' #zField
Ts0 @PushWFArc f114 '' #zField
Ts0 @RichDialogMethodStart f9 '' #zField
Ts0 @RichDialogProcessEnd f50 '' #zField
Ts0 @PushWFArc f52 '' #zField
Ts0 @Alternative f56 '' #zField
Ts0 @PushWFArc f88 '' #zField
Ts0 @PushWFArc f110 '' #zField
Ts0 @PushWFArc f115 '' #zField
Ts0 @PushWFArc f10 '' #zField
Ts0 @PushWFArc f18 '' #zField
Ts0 @PushWFArc f48 '' #zField
Ts0 @RichDialogMethodStart f45 '' #zField
Ts0 @PushWFArc f54 '' #zField
Ts0 @RichDialogProcessStep f55 '' #zField
Ts0 @PushWFArc f116 '' #zField
Ts0 @PushWFArc f112 '' #zField
Ts0 @PushWFArc f117 '' #zField
Ts0 @Alternative f123 '' #zField
Ts0 @PushWFArc f139 '' #zField
Ts0 @PushWFArc f142 '' #zField
Ts0 @Alternative f143 '' #zField
Ts0 @PushWFArc f145 '' #zField
Ts0 @PushWFArc f146 '' #zField
Ts0 @RichDialogProcessStep f147 '' #zField
Ts0 @PushWFArc f144 '' #zField
Ts0 @RichDialogProcessStep f197 '' #zField
Ts0 @PushWFArc f138 '' #zField
Ts0 @RichDialogFireEvent f207 '' #zField
Ts0 @PushWFArc f210 '' #zField
Ts0 @PushWFArc f211 '' #zField
Ts0 @RichDialogProcessEnd f127 '' #zField
Ts0 @PushWFArc f212 '' #zField
Ts0 @RichDialogEnd f77 '' #zField
Ts0 @RichDialog f78 '' #zField
Ts0 @RichDialogProcessStep f214 '' #zField
Ts0 @PushWFArc f215 '' #zField
Ts0 @PushWFArc f213 '' #zField
Ts0 @Alternative f216 '' #zField
Ts0 @PushWFArc f217 '' #zField
Ts0 @PushWFArc f148 '' #zField
Ts0 @PushWFArc f218 '' #zField
Ts0 @RichDialogProcessStep f219 '' #zField
Ts0 @PushWFArc f220 '' #zField
Ts0 @RichDialog f221 '' #zField
Ts0 @PushWFArc f222 '' #zField
Ts0 @Alternative f223 '' #zField
Ts0 @PushWFArc f224 '' #zField
Ts0 @PushWFArc f203 '' #zField
Ts0 @PushWFArc f225 '' #zField
Ts0 @RichDialogBroadcastStart f226 '' #zField
Ts0 @PushWFArc f229 '' #zField
Ts0 @Alternative f19 '' #zField
Ts0 @PushWFArc f31 '' #zField
Ts0 @PushWFArc f27 '' #zField
Ts0 @RichDialog f35 '' #zField
Ts0 @PushWFArc f66 '' #zField
Ts0 @PushWFArc f107 '' #zField
Ts0 @Alternative f108 '' #zField
Ts0 @PushWFArc f109 '' #zField
Ts0 @PushWFArc f118 '' #zField
Ts0 @RichDialog f136 '' #zField
Ts0 @PushWFArc f227 '' #zField
Ts0 @PushWFArc f228 '' #zField
Ts0 @Alternative f230 '' #zField
Ts0 @PushWFArc f231 '' #zField
Ts0 @PushWFArc f164 '' #zField
Ts0 @RichDialog f232 '' #zField
Ts0 @PushWFArc f233 '' #zField
Ts0 @PushWFArc f234 '' #zField
Ts0 @Alternative f235 '' #zField
Ts0 @PushWFArc f236 '' #zField
Ts0 @PushWFArc f200 '' #zField
Ts0 @RichDialog f237 '' #zField
Ts0 @PushWFArc f238 '' #zField
Ts0 @PushWFArc f239 '' #zField
Ts0 @Alternative f240 '' #zField
Ts0 @PushWFArc f241 '' #zField
Ts0 @PushWFArc f193 '' #zField
Ts0 @RichDialog f242 '' #zField
Ts0 @PushWFArc f243 '' #zField
Ts0 @PushWFArc f244 '' #zField
Ts0 @Alternative f245 '' #zField
Ts0 @PushWFArc f246 '' #zField
Ts0 @PushWFArc f247 '' #zField
Ts0 @RichDialog f165 '' #zField
Ts0 @PushWFArc f248 '' #zField
Ts0 @PushWFArc f249 '' #zField
>Proto Ts0 Ts0 TaskDisplayListProcess #zField
Ts0 f0 guid 1168B153651C96FA #txt
Ts0 f0 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f0 method start() #txt
Ts0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f0 inParameterMapAction 'out.runningTaskMode=true;
out.taskDisplayMode=-1;
out.taskDisplayModeText="";
' #txt
Ts0 f0 outParameterDecl '<> result;
' #txt
Ts0 f0 embeddedRdInitializations '* ' #txt
Ts0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
        <nameStyle>7,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f0 70 78 20 20 13 0 #rect
Ts0 f0 @|RichDialogInitStartIcon #fIcon
Ts0 f1 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f1 67 459 26 26 14 0 #rect
Ts0 f1 @|RichDialogProcessEndIcon #fIcon
Ts0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggleFindTaskCriterias</name>
        <nameStyle>23,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f3 guid 1168B156EC627FDE #txt
Ts0 f3 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f3 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f3 actionTable 'out=in;
' #txt
Ts0 f3 870 62 20 20 13 0 #rect
Ts0 f3 @|RichDialogProcessStartIcon #fIcon
Ts0 f4 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f4 867 419 26 26 14 0 #rect
Ts0 f4 @|RichDialogProcessEndIcon #fIcon
Ts0 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTaskConfirmed</name>
        <nameStyle>17,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f6 guid 1168C59F197FF1E6 #txt
Ts0 f6 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f6 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f6 actionTable 'out=in;
' #txt
Ts0 f6 990 62 20 20 13 0 #rect
Ts0 f6 @|RichDialogProcessStartIcon #fIcon
Ts0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refreshTaskDisplayList</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f11 guid 1168CA38A597F980 #txt
Ts0 f11 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f11 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f11 actionTable 'out=in;
' #txt
Ts0 f11 470 110 20 20 13 0 #rect
Ts0 f11 @|RichDialogProcessStartIcon #fIcon
Ts0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTaskCanceled</name>
        <nameStyle>16,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f13 guid 116A02A82789CBB6 #txt
Ts0 f13 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f13 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f13 actionTable 'out=in;
' #txt
Ts0 f13 1134 62 20 20 13 0 #rect
Ts0 f13 @|RichDialogProcessStartIcon #fIcon
Ts0 f15 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f15 actionTable 'out=in;
' #txt
Ts0 f15 actionCode '// close the collapse pane
panel.findTaskCollapsiblePane.collapsed = true;

// show the task information area
panel.taskListAndTaskInformationSplitPane.setStyleProperties("{/orientation \"VERTICAL_SPLIT\"/dividerLocation \"0.45\"}");' #txt
Ts0 f15 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close the 
criterias panel</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f15 982 364 36 24 20 -2 #rect
Ts0 f15 @|RichDialogProcessStepIcon #fIcon
Ts0 f17 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f17 actionTable 'out=in;
' #txt
Ts0 f17 actionCode 'import ch.ivyteam.ivy.persistence.IQueryResult;
import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.PropertyOrder;
import ch.ivyteam.ivy.workflow.IPropertyFilter;
import ch.ivyteam.ivy.workflow.TaskState;
import ch.ivyteam.ivy.workflow.WorkflowPriority;


IQueryResult queryResult;
List<ITask> result= [];

List<PropertyOrder> order = [];
IPropertyFilter filter;
java.util.EnumSet states;
int startIndex = 0;
int count = -1;
Boolean returnAllCount = true;
int resultCount;
int allCount;



// setup order
order.add(new PropertyOrder(ch.ivyteam.ivy.workflow.TaskProperty.NAME));




// setup filter




// task states
// states = java.util.EnumSet.of(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED, ch.ivyteam.ivy.workflow.TaskState.RESUMED);
if (!panel.taskStatesList.getSelectedListEntries().isEmpty())
{	
	java.util.List taskStatesListTmp = panel.taskStatesList.getSelectedListEntries();
	List<TaskState> taskStatesList;
	taskStatesList.clear();
	taskStatesList.addAll(taskStatesListTmp as List<TaskState>);
	states = java.util.EnumSet.copyOf(taskStatesList);
}
else
{
	// consider only the SUSPENDED state
	states = java.util.EnumSet.of(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED);	
}




// task priorities (WorkflowPriority)
// ch.ivyteam.ivy.workflow.WorkflowPriority
// filter = filter.and(ch.ivyteam.ivy.workflow.TaskProperty.PRIORITY, ch.ivyteam.logicalexpression.RelationalOperator.EQUAL, Object)
if (!panel.taskPrioritiesList.getSelectedListEntries().isEmpty())
{
	java.util.List taskPrioritiesListTmp = panel.taskPrioritiesList.getSelectedListEntries();
	List<WorkflowPriority> taskPrioritiesList;
	taskPrioritiesList.clear();
	taskPrioritiesList.addAll(taskPrioritiesListTmp as List<WorkflowPriority>);

	IPropertyFilter taskPrioritiesFilter;

	for(WorkflowPriority currentTaskPriority: taskPrioritiesList)
	{
		if (#taskPrioritiesFilter is initialized)
		{
			taskPrioritiesFilter = taskPrioritiesFilter.or(ch.ivyteam.ivy.workflow.TaskProperty.PRIORITY, ch.ivyteam.logicalexpression.RelationalOperator.EQUAL, currentTaskPriority.intValue());
		}
		else
		{
			taskPrioritiesFilter = ivy.wf.createTaskPropertyFilter(ch.ivyteam.ivy.workflow.TaskProperty.PRIORITY, ch.ivyteam.logicalexpression.RelationalOperator.EQUAL, currentTaskPriority.intValue());
		}
	}
	
	// add the task priorities filter to the main filter
	filter = (#filter is initialized)? filter.and(taskPrioritiesFilter): taskPrioritiesFilter;
}




// task activator
if (in.findTaskCriteriaTaskActivator.length() > 0)
{
	IPropertyFilter taskActivatorFilter = 
			ivy.wf.createTaskPropertyFilter(ch.ivyteam.ivy.workflow.TaskProperty.ACTIVATOR_NAME, ch.ivyteam.logicalexpression.RelationalOperator.LIKE, "%" + in.findTaskCriteriaTaskActivator + "%");
	filter = (#filter is initialized)? filter.and(taskActivatorFilter): taskActivatorFilter;
}


// business main contact
if (in.findTaskCriteriaBusinessMainContact.length() > 0)
{
	IPropertyFilter businessMainContactFilter = 
		ivy.wf.createTaskPropertyFilter(ch.ivyteam.ivy.workflow.TaskProperty.BUSINESS_MAIN_CONTACT_NAME, ch.ivyteam.logicalexpression.RelationalOperator.LIKE, "%" + in.findTaskCriteriaBusinessMainContact + "%");
	filter = (#filter is initialized)? filter.and(businessMainContactFilter): businessMainContactFilter;
}


// task stage code
if (in.findTaskCriteriaTaskStage.length() > 0)
{
	IPropertyFilter taskStagePropertyFilter = 
		ivy.wf.createTaskPropertyFilter(ch.ivyteam.ivy.workflow.TaskProperty.KIND_CODE, ch.ivyteam.logicalexpression.RelationalOperator.LIKE, "%" + in.findTaskCriteriaTaskStage + "%");
	filter = (#filter is initialized)? filter.and(taskStagePropertyFilter): taskStagePropertyFilter;
}


// business creator
if (in.findTaskCriteriaBusinessCreator.length() > 0)
{
	IPropertyFilter businessCreatorPropertyFilter = 
		ivy.wf.createTaskPropertyFilter(ch.ivyteam.ivy.workflow.TaskProperty.BUSINESS_CREATOR_USER, ch.ivyteam.logicalexpression.RelationalOperator.LIKE, "%" + in.findTaskCriteriaBusinessCreator + "%");
	filter = (#filter is initialized)? filter.and(businessCreatorPropertyFilter): businessCreatorPropertyFilter;
}



returnAllCount = true;

in.findTaskCriteriaResultCount = (panel.returnAllFoundTasksCheckBox.isSelected()? -1: panel.countTextField.getText().toNumber());


// find 
// findWorkTasks(IPropertyFilter filter, List order, int startIndex, int count, boolean returnAllCount, EnumSet includeTaskStates) 
// queryResult = ivy.session.findWorkTasks(filter, order, startIndex, count, returnAllCount, states);
queryResult = ivy.session.findWorkTasks(filter, order, startIndex, in.findTaskCriteriaResultCount, returnAllCount, states);


// results
resultCount = queryResult.getResultCount(); // number of results returned
allCount = queryResult.getAllCount(); // number of all results found
result.addAll(queryResult.getResultList());


out.tasks.clear();
out.tasks.addAll(result);

out.filteredTasks.clear();
out.filteredTasks.addAll(result);


// inform the user about the found result
out.footerMessage = "Displayed " + in.tasks.size() + " task" + (in.tasks.size() > 1? "s": "") + " of available " + allCount + ".";' #txt
Ts0 f17 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Find the tasks
and load them</name>
        <nameStyle>28,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f17 982 252 36 24 20 -2 #rect
Ts0 f17 @|RichDialogProcessStepIcon #fIcon
Ts0 f16 expr out #txt
Ts0 f16 1000 276 1000 364 #arcP
Ts0 f28 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startTaskUnderThisTab</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f28 guid 116A0E226E35360E #txt
Ts0 f28 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f28 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f28 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListChildrenDisplayId;
' #txt
Ts0 f28 110 534 20 20 13 0 #rect
Ts0 f28 @|RichDialogProcessStartIcon #fIcon
Ts0 f29 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f29 107 971 26 26 14 0 #rect
Ts0 f29 @|RichDialogProcessEndIcon #fIcon
Ts0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>openTaskInformationUnderThisTab</name>
        <nameStyle>31,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f33 guid 116A4E0E799A14D1 #txt
Ts0 f33 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f33 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f33 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListChildrenDisplayId;
' #txt
Ts0 f33 870 534 20 20 13 0 #rect
Ts0 f33 @|RichDialogProcessStartIcon #fIcon
Ts0 f36 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f36 867 971 26 26 14 0 #rect
Ts0 f36 @|RichDialogProcessEndIcon #fIcon
Ts0 f22 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegateTasks</name>
        <nameStyle>13,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f22 guid 116CE5EA710FB1B8 #txt
Ts0 f22 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f22 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f22 actionTable 'out=in;
out.securityMember=null;
' #txt
Ts0 f22 1206 534 20 20 13 0 #rect
Ts0 f22 @|RichDialogProcessStartIcon #fIcon
Ts0 f23 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f23 1203 987 26 26 14 0 #rect
Ts0 f23 @|RichDialogProcessEndIcon #fIcon
Ts0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>parkTasks</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f25 guid 116CE60D53BB777D #txt
Ts0 f25 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f25 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f25 actionTable 'out=in;
' #txt
Ts0 f25 1654 534 20 20 13 0 #rect
Ts0 f25 @|RichDialogProcessStartIcon #fIcon
Ts0 f26 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f26 1651 971 26 26 14 0 #rect
Ts0 f26 @|RichDialogProcessEndIcon #fIcon
Ts0 f30 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f30 actionTable 'out=in;
' #txt
Ts0 f30 actionCode 'import java.util.Iterator;
import ch.ivyteam.ivy.workflow.ITask;


Iterator tasksIterator;
Number currentTaskIndexInTheSelectedList = -1;

try
{
	if (panel.tasksTable.#selectedListEntries != null && panel.tasksTable.selectedListEntry instanceof ITask)
	{
	
	  out.selectedTasks = panel.tasksTable.selectedListEntries as List<ITask>;
	
		tasksIterator = out.selectedTasks.iterator();
		
		while (tasksIterator.hasNext())
		{
	      // State of Task must be one of the following values CREATED, RESUMED but not SUSPENDED
	      ITask currentTask = tasksIterator.next() as ITask;
				currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(currentTask);
	
	      if (currentTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.CREATED) || 
	          currentTask.getState().equals( ch.ivyteam.ivy.workflow.TaskState.RESUMED))
	      {
							// park the task
	            ivy.session.parkTask(currentTask);
	
							// update the list of dispayed tasks
							out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);
							
							// fire the broadcast event
							// no needed anymore with 4.1
							// panel.fireXivyTaskParked(currentTask.getIdentifier());
	      }			
		}
	}
}
catch (Exception ex)
{
	out.exception = ex;	
}' #txt
Ts0 f30 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Do the loop,
park the selected task(s)
update the task list
fire the bcevent &quot;xivyTaskParked&quot;</name>
        <nameStyle>93,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f30 1646 692 36 24 20 -2 #rect
Ts0 f30 @|RichDialogProcessStepIcon #fIcon
Ts0 f38 expr out #txt
Ts0 f38 1664 554 1664 692 #arcP
Ts0 f41 targetWindow NEW #txt
Ts0 f41 targetDisplay TOP #txt
Ts0 f41 richDialogId ch.ivyteam.ivy.workflow.ui.common.SecurityMemberSelect #txt
Ts0 f41 startMethod startAndChooseSecurityMember() #txt
Ts0 f41 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f41 requestActionDecl '<> param;' #txt
Ts0 f41 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f41 responseMappingAction 'out=in;
out.securityMember=result.aSecurityMember;
out.securityMemberSelected=result.aSecurityMemberSelected;
' #txt
Ts0 f41 windowConfiguration '#Fri Aug 01 20:27:12 CEST 2008
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=<%\\=in.delegateTaskWindowTitle%>
' #txt
Ts0 f41 isAsynch false #txt
Ts0 f41 isInnerRd true #txt
Ts0 f41 isDialog true #txt
Ts0 f41 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load the Rich Dialog
and choose the security member</name>
        <nameStyle>51,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f41 1198 700 36 24 20 -2 #rect
Ts0 f41 @|RichDialogIcon #fIcon
Ts0 f49 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f49 actionTable 'out=in;
' #txt
Ts0 f49 actionCode '
import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;
import ch.ivyteam.ivy.persistence.IQueryResult;
import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.PropertyOrder;
import ch.ivyteam.ivy.workflow.IPropertyFilter;



IQueryResult queryResult;
List<ITask> result = [];

List<PropertyOrder> order = [];
IPropertyFilter filter;
java.util.EnumSet states;
int startIndex;
int count;
Boolean returnAllCount;
int resultCount;
int allCount;



// setup order
order.add(new PropertyOrder(ch.ivyteam.ivy.workflow.TaskProperty.NAME));


// setup filter
filter = in.#originalPropertyFilter;


// states
states = null;


// results configuration
startIndex = 0;
count = -1;	// get all results
returnAllCount = true;

// find 
queryResult = WorkflowUIAccessPermissionHandler.findTasks(filter, order, startIndex, count, returnAllCount, in.runningTaskMode, in.taskDisplayMode);

// results
resultCount = queryResult.getResultCount(); // number of results returned
allCount = queryResult.getAllCount(); // number of all results found
result.addAll(queryResult.getResultList());


out.tasks.clear();
out.tasks.addAll(result);


// inform the user about the found result
out.footerMessage = "Found " + in.tasks.size() + " task" + (in.tasks.size() > 1? "s": "");' #txt
Ts0 f49 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f49 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>find the tasks
according to the
recieved 
original property filter</name>
        <nameStyle>42,9
24,0,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f49 62 316 36 24 20 -2 #rect
Ts0 f49 @|RichDialogProcessStepIcon #fIcon
Ts0 f51 guid 118516FE5774DC78 #txt
Ts0 f51 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f51 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.workflow.IPropertyFilter aPropertyFilter> param = methodEvent.getInputArguments();
' #txt
Ts0 f51 inParameterMapAction 'out.originalPropertyFilter=param.aPropertyFilter;
' #txt
Ts0 f51 outParameterDecl '<> result;
' #txt
Ts0 f51 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findAndDisplayTasks(IPropertyFilter)</name>
        <nameStyle>36,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f51 406 166 20 20 13 0 #rect
Ts0 f51 @|RichDialogMethodStartIcon #fIcon
Ts0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f12 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f12 866 642 28 28 14 0 #rect
Ts0 f12 @|AlternativeIcon #fIcon
Ts0 f57 expr out #txt
Ts0 f57 880 554 880 642 #arcP
Ts0 f21 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f21 actionTable 'out=in;
' #txt
Ts0 f21 actionCode 'import ch.ivyteam.ivy.event.SystemEventCategory;
import ch.ivyteam.ivy.workflow.ui.utils.UniqueDisplayIdFactory;
import ch.ivyteam.ivy.richdialog.widgets.displays.RTabbedDisplay;


out.taskListChildrenDisplayId = "xivyTaskDisplayId" + UniqueDisplayIdFactory.buildTaskListDisplayId();
panel.taskDisplayTabbedDisplay.displayId = out.taskListChildrenDisplayId;

out.hasPermissionDelegateTasks = ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.DELEGATE_TASKS);


// build the list of task states for find criteria
out.taskStatesList = [];
out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED);
out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.RESUMED);
out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.PARKED);

if (out.hasWfAdministratorPermissions)
{
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.CREATED);	
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.DELAYED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.DESTROYED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.DONE);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.FAILED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.JOIN_FAILED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.JOINING);
	// out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.PARKED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.READY_FOR_JOIN);
	// out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.RESUMED);
	// out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.UNASSIGNED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.WAITING_FOR_INTERMEDIATE_EVENT);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.ZOMBIE);
}



// build the list of task priorities
out.taskPrioritiesList = [];
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.EXCEPTION);
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.HIGH);
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.NORMAL);
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.LOW);



out.delegateTaskWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskShortDesc");



// register to System events of Workflow category
ivy.rd.subscribeToSystemEvents(SystemEventCategory.WORKFLOW);' #txt
Ts0 f21 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>build the unique display id
build the list of task states 
build the list of task priorities
define if should be wfAdministrator mode or not
define permissions
register System events of Workflow category</name>
        <nameStyle>203,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f21 62 164 36 24 20 -2 #rect
Ts0 f21 @|RichDialogProcessStepIcon #fIcon
Ts0 f20 guid 1189D75281BC256E #txt
Ts0 f20 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f20 method getDisplayId() #txt
Ts0 f20 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f20 outParameterDecl '<java.lang.String aDisplayId> result;
' #txt
Ts0 f20 outParameterMapAction 'result.aDisplayId=in.displayId;
' #txt
Ts0 f20 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getDisplayId()</name>
        <nameStyle>14,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f20 1270 86 20 20 13 0 #rect
Ts0 f20 @|RichDialogMethodStartIcon #fIcon
Ts0 f59 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f59 1267 427 26 26 14 0 #rect
Ts0 f59 @|RichDialogProcessEndIcon #fIcon
Ts0 f61 expr out #txt
Ts0 f61 1280 106 1280 427 #arcP
Ts0 f37 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f37 419 971 26 26 14 0 #rect
Ts0 f37 @|RichDialogProcessEndIcon #fIcon
Ts0 f65 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f65 actionTable 'out=in;
' #txt
Ts0 f65 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import java.util.Iterator;

Iterator iterator;
ITask currentTask;
Boolean found = false;
Number taskIndexInTheList = -1;


iterator = in.filteredTasks.iterator();


while (iterator.hasNext() && !found)
{
	currentTask = iterator.next() as ITask;
	if (currentTask.getIdentifier() == in.broadcastedTaskIdentifier)
	{
		found = true;
		taskIndexInTheList = in.filteredTasks.indexOf(currentTask);
		out.filteredTasks.elementChanged(currentTask);
		// out.filteredTasks.elementChangedAt(taskIndexInTheList);
	}   
}' #txt
Ts0 f65 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f65 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if task found
update the task state</name>
        <nameStyle>51,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f65 414 700 36 24 20 -2 #rect
Ts0 f65 @|RichDialogProcessStepIcon #fIcon
Ts0 f64 expr out #txt
Ts0 f64 432 724 432 971 #arcP
Ts0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f67 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f67 106 586 28 28 14 0 #rect
Ts0 f67 @|AlternativeIcon #fIcon
Ts0 f68 expr out #txt
Ts0 f68 120 554 120 586 #arcP
Ts0 f76 guid 1189E88D7EEAAAB4 #txt
Ts0 f76 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f76 method close() #txt
Ts0 f76 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close()</name>
    </language>
</elementInfo>
' #txt
Ts0 f76 1374 102 20 20 13 0 #rect
Ts0 f76 @|RichDialogMethodStartIcon #fIcon
Ts0 f79 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f79 actionTable 'out=in;
' #txt
Ts0 f79 actionCode 'panel.footerLabel.text = "Invalid selection.";' #txt
Ts0 f79 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f79 286 660 36 24 20 -2 #rect
Ts0 f79 @|RichDialogProcessStepIcon #fIcon
Ts0 f80 expr in #txt
Ts0 f80 134 600 304 660 #arcP
Ts0 f80 1 304 600 #addKink
Ts0 f80 0 0.710471366366112 0 0 #arcLabel
Ts0 f71 expr out #txt
Ts0 f71 304 684 133 984 #arcP
Ts0 f71 1 304 984 #addKink
Ts0 f71 0 0.7065989631614573 0 0 #arcLabel
Ts0 f81 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f81 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f81 106 706 28 28 14 0 #rect
Ts0 f81 @|AlternativeIcon #fIcon
Ts0 f84 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f84 actionTable 'out=in;
' #txt
Ts0 f84 actionCode 'panel.footerLabel.text = "Only the task with state SUSPENDED or PARKED could be started.";' #txt
Ts0 f84 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f84 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f84 222 756 36 24 20 -2 #rect
Ts0 f84 @|RichDialogProcessStepIcon #fIcon
Ts0 f85 expr in #txt
Ts0 f85 134 720 240 756 #arcP
Ts0 f85 1 240 720 #addKink
Ts0 f85 1 0.32004585027398386 0 0 #arcLabel
Ts0 f83 expr out #txt
Ts0 f83 240 780 132 983 #arcP
Ts0 f83 1 240 976 #addKink
Ts0 f83 0 0.8073424290654124 0 0 #arcLabel
Ts0 f2 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f2 actionTable 'out=in;
' #txt
Ts0 f2 actionCode 'import java.util.Iterator;
import ch.ivyteam.ivy.workflow.ITask;


ITask currentTask;
Iterator tasksIterator;
Number currentTaskIndexInTheTasks = -1;


try
{
	out.selectedTasks = panel.tasksTable.selectedListEntries as List<ITask>;
	
	for(int i=0; i<out.selectedTasks.size(); i++)
	{
		currentTask = out.selectedTasks.get(i);
	
		if (currentTask.isExpired())
		{
			currentTask.setExpiryActivator(in.securityMember);
		}
		else
		{
			currentTask.setOriginalActivator(in.securityMember);
		}
		
		// fire the bcevent that task has been delegated
		panel.fireXivyTaskDelegated(currentTask.getIdentifier());
		
		// remove the task from the task list
		currentTaskIndexInTheTasks = in.filteredTasks.indexOf(currentTask);
		out.filteredTasks.removeAt(currentTaskIndexInTheTasks);
	}
}
catch (Exception ex)
{
	out.exception = ex;	
}

' #txt
Ts0 f2 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f2 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop and
delegate each task,
fire the bcevent &quot;xivyTaskDelegated&quot;
remove the delegated tasks
from task list</name>
        <nameStyle>114,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f2 1198 804 36 24 20 -2 #rect
Ts0 f2 @|RichDialogProcessStepIcon #fIcon
Ts0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f40 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f40 1202 570 28 28 14 0 #rect
Ts0 f40 @|AlternativeIcon #fIcon
Ts0 f44 expr out #txt
Ts0 f44 1216 554 1216 570 #arcP
Ts0 f90 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f90 actionTable 'out=in;
' #txt
Ts0 f90 actionCode 'panel.findTaskCollapsiblePane.collapsed = !panel.findTaskCollapsiblePane.collapsed;' #txt
Ts0 f90 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f90 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggle the
find task area</name>
        <nameStyle>25,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f90 862 180 36 24 20 -2 #rect
Ts0 f90 @|RichDialogProcessStepIcon #fIcon
Ts0 f34 targetWindow THIS #txt
Ts0 f34 targetDisplay <%=in.selectedTaskDisplayId%> #txt
Ts0 f34 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDisplay #txt
Ts0 f34 startMethod start(ch.ivyteam.ivy.workflow.ITask,Boolean,Boolean) #txt
Ts0 f34 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f34 panelName '<%=in.selectedTask.name%> - Task id <%=in.selectedTask.getIdentifier()%>' #txt
Ts0 f34 requestActionDecl '<ch.ivyteam.ivy.workflow.ITask aTask, Boolean aStartTaskRequested, Boolean aHasWfAdministratorPermissions> param;' #txt
Ts0 f34 requestMappingAction 'param.aTask=in.selectedTask;
param.aStartTaskRequested=false;
param.aHasWfAdministratorPermissions=in.hasWfAdministratorPermissions;
' #txt
Ts0 f34 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f34 responseMappingAction 'out=in;
' #txt
Ts0 f34 windowConfiguration '#Fri Jul 18 18:29:20 CEST 2008
use_default=true
' #txt
Ts0 f34 isAsynch true #txt
Ts0 f34 isInnerRd true #txt
Ts0 f34 isDialog false #txt
Ts0 f34 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load the Rich Dialog
with task details
to specified display id</name>
        <nameStyle>62,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f34 862 916 36 24 20 -2 #rect
Ts0 f34 @|RichDialogIcon #fIcon
Ts0 f63 expr out #txt
Ts0 f63 880 940 880 971 #arcP
Ts0 f58 expr in #txt
Ts0 f58 894 656 893 984 #arcP
Ts0 f58 1 1000 656 #addKink
Ts0 f58 2 1000 984 #addKink
Ts0 f58 1 0.45970145375293403 0 0 #arcLabel
Ts0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>openTaskInformationOnSibling</name>
        <nameStyle>28,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f92 guid 118C22345A17837B #txt
Ts0 f92 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f92 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f92 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListParentDisplayId;
' #txt
Ts0 f92 934 574 20 20 13 0 #rect
Ts0 f92 @|RichDialogProcessStartIcon #fIcon
Ts0 f99 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startTaskOnSiblingTab</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f99 guid 118C223601C9E2B6 #txt
Ts0 f99 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f99 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f99 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListParentDisplayId;
' #txt
Ts0 f99 166 566 20 20 13 0 #rect
Ts0 f99 @|RichDialogProcessStartIcon #fIcon
Ts0 f101 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f101 actionTable 'out=in;
' #txt
Ts0 f101 actionCode 'out.selectedTask = panel.tasksTable.getSelectedListEntry() as ch.ivyteam.ivy.workflow.ITask;

out.taskAlreadyLoadedOnDisplay = false;' #txt
Ts0 f101 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f101 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get the 
selected task
task already loaded to false</name>
        <nameStyle>51,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f101 862 724 36 24 20 -2 #rect
Ts0 f101 @|RichDialogProcessStepIcon #fIcon
Ts0 f102 expr in #txt
Ts0 f102 outCond 'panel.tasksTable.getSelectedListEntry() != null && panel.tasksTable.getSelectedListEntry() instanceof ch.ivyteam.ivy.workflow.ITask' #txt
Ts0 f102 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selected entry != null
and selected entry is ITask</name>
        <nameStyle>50,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f102 880 670 880 724 #arcP
Ts0 f94 expr out #txt
Ts0 f94 944 594 891 653 #arcP
Ts0 f94 1 944 640 #addKink
Ts0 f94 1 0.07112480377861213 0 0 #arcLabel
Ts0 f95 expr out #txt
Ts0 f95 166 579 130 596 #arcP
Ts0 f103 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f103 actionTable 'out=in;
' #txt
Ts0 f103 actionCode 'out.selectedTask = panel.tasksTable.getSelectedListEntry() as ch.ivyteam.ivy.workflow.ITask;

out.taskAlreadyLoadedOnDisplay = false;' #txt
Ts0 f103 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f103 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get the 
selected task
task already loaded to false</name>
        <nameStyle>51,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f103 102 660 36 24 20 0 #rect
Ts0 f103 @|RichDialogProcessStepIcon #fIcon
Ts0 f104 expr in #txt
Ts0 f104 outCond '(panel.tasksTable.getSelectedListEntry() != null) && (panel.tasksTable.getSelectedListEntry() instanceof ch.ivyteam.ivy.workflow.ITask)' #txt
Ts0 f104 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>table selection != null
and instanceof ITask</name>
        <nameStyle>44,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f104 120 614 120 660 #arcP
Ts0 f82 expr out #txt
Ts0 f82 120 684 120 706 #arcP
Ts0 f105 targetWindow THIS #txt
Ts0 f105 targetDisplay <%=in.selectedTaskDisplayId%> #txt
Ts0 f105 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDisplay #txt
Ts0 f105 startMethod start(ch.ivyteam.ivy.workflow.ITask,Boolean,Boolean) #txt
Ts0 f105 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f105 panelName '<%=in.selectedTask.name%> - Task id <%=in.selectedTask.getIdentifier()%>' #txt
Ts0 f105 requestActionDecl '<ch.ivyteam.ivy.workflow.ITask aTask, Boolean aStartTaskRequested, Boolean aHasWfAdministratorPermissions> param;' #txt
Ts0 f105 requestMappingAction 'param.aTask=in.selectedTask;
param.aStartTaskRequested=true;
param.aHasWfAdministratorPermissions=in.hasWfAdministratorPermissions;
' #txt
Ts0 f105 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f105 responseMappingAction 'out=in;
' #txt
Ts0 f105 windowConfiguration '#Fri Jul 18 18:28:58 CEST 2008
use_default=true
' #txt
Ts0 f105 isAsynch true #txt
Ts0 f105 isInnerRd true #txt
Ts0 f105 isDialog false #txt
Ts0 f105 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load the Rich Dialog
with task to start
to specified display id</name>
        <nameStyle>63,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f105 102 916 36 24 20 -2 #rect
Ts0 f105 @|RichDialogIcon #fIcon
Ts0 f70 expr out #txt
Ts0 f70 120 940 120 971 #arcP
Ts0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Accepted broadcast: xivyRefreshTaskList</name>
        <nameStyle>39,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f42 guid 118C650A535D72B2 #txt
Ts0 f42 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f42 broadcast xivyRefreshTaskList #txt
Ts0 f42 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f42 actionTable 'out=in;
' #txt
Ts0 f42 534 182 20 20 13 0 #rect
Ts0 f42 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f32 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f32 106 842 28 28 14 0 #rect
Ts0 f32 @|AlternativeIcon #fIcon
Ts0 f72 expr in #txt
Ts0 f72 outCond !in.taskAlreadyLoadedOnDisplay #txt
Ts0 f72 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is not
already loaded</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f72 120 870 120 916 #arcP
Ts0 f73 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f73 actionTable 'out=in;
' #txt
Ts0 f73 actionCode 'import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;
import com.ulcjava.base.application.ULCComponent;
import ch.ivyteam.ivy.richdialog.widgets.displays.RTabbedDisplay;


RTabbedDisplay selectedTabbedDisplay;
List<ULCComponent> componentsList;


if (in.selectedTaskDisplayId.equals(in.taskListParentDisplayId))
{
	// parent display
	selectedTabbedDisplay = in.taskDisplayListParentDisplay;
	componentsList = in.taskDisplayListParentDisplay.getComponents().toList();
}
else
{
	// display under this tab
	selectedTabbedDisplay = panel.taskDisplayTabbedDisplay as RTabbedDisplay;
	componentsList = panel.taskDisplayTabbedDisplay.getComponents().toList();
}



for (int i=0; i< componentsList.size(); i++)
{
	ULCComponent currentComponent = componentsList.get(i);
	
	if (currentComponent instanceof TaskDisplayPanel && (currentComponent as TaskDisplayPanel).getTaskIdentifier() == in.selectedTask.getIdentifier().intValue())
	{
		// task has been already loaded
		// it should be selected and refresh
		(currentComponent as TaskDisplayPanel).refresh();
		selectedTabbedDisplay.setSelectedComponent(currentComponent);
		out.taskAlreadyLoadedOnDisplay = true;
		
		// exit from the loop
		i = componentsList.size();
	}
	
}


' #txt
Ts0 f73 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if the task is loaded
set as selected and 
refresh it</name>
        <nameStyle>69,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f73 102 772 36 24 20 -2 #rect
Ts0 f73 @|RichDialogProcessStepIcon #fIcon
Ts0 f74 expr in #txt
Ts0 f74 outCond 'in.selectedTask.getState() == ch.ivyteam.ivy.workflow.TaskState.SUSPENDED ||
in.selectedTask.getState() == ch.ivyteam.ivy.workflow.TaskState.PARKED' #txt
Ts0 f74 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task state is 
SUSPENDED, PARKED</name>
        <nameStyle>32,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f74 120 734 120 772 #arcP
Ts0 f69 expr out #txt
Ts0 f69 120 796 120 842 #arcP
Ts0 f75 expr in #txt
Ts0 f75 134 856 132 980 #arcP
Ts0 f75 1 184 856 #addKink
Ts0 f75 2 184 968 #addKink
Ts0 f75 1 0.40252838460502105 0 0 #arcLabel
Ts0 f96 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f96 actionTable 'out=in;
' #txt
Ts0 f96 actionCode 'import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;
import com.ulcjava.base.application.ULCComponent;
import ch.ivyteam.ivy.richdialog.widgets.displays.RTabbedDisplay;


RTabbedDisplay selectedTabbedDisplay;
List<ULCComponent> componentsList;


if (in.selectedTaskDisplayId.equals(in.taskListParentDisplayId))
{
	// parent display
	selectedTabbedDisplay = in.taskDisplayListParentDisplay;
	componentsList = in.taskDisplayListParentDisplay.getComponents().toList();
}
else
{
	// display under this tab
	selectedTabbedDisplay = panel.taskDisplayTabbedDisplay as RTabbedDisplay;
	componentsList = panel.taskDisplayTabbedDisplay.getComponents().toList();
}



for (int i=0; i< componentsList.size(); i++)
{
	ULCComponent currentComponent = componentsList.get(i);
	
	if (currentComponent instanceof TaskDisplayPanel && (currentComponent as TaskDisplayPanel).getTaskIdentifier() == in.selectedTask.getIdentifier().intValue())
	{
		// task has been already loaded
		// it should be selected and refresh
		(currentComponent as TaskDisplayPanel).refresh();
		selectedTabbedDisplay.setSelectedComponent(currentComponent);
		out.taskAlreadyLoadedOnDisplay = true;
		
		// exit from the loop
		i = componentsList.size();
	}
	
}


' #txt
Ts0 f96 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f96 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if the task is loaded
set as selected and 
refresh it</name>
        <nameStyle>69,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f96 862 780 36 24 20 -2 #rect
Ts0 f96 @|RichDialogProcessStepIcon #fIcon
Ts0 f97 expr out #txt
Ts0 f97 880 748 880 780 #arcP
Ts0 f100 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f100 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f100 866 842 28 28 14 0 #rect
Ts0 f100 @|AlternativeIcon #fIcon
Ts0 f106 expr out #txt
Ts0 f106 880 804 880 842 #arcP
Ts0 f62 expr in #txt
Ts0 f62 outCond !in.taskAlreadyLoadedOnDisplay #txt
Ts0 f62 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is not
already loaded</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f62 880 870 880 916 #arcP
Ts0 f120 expr in #txt
Ts0 f120 894 856 892 982 #arcP
Ts0 f120 1 944 856 #addKink
Ts0 f120 2 944 976 #addKink
Ts0 f120 1 0.47026520291019663 0 0 #arcLabel
Ts0 f121 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f121 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f121 986 98 28 28 14 0 #rect
Ts0 f121 @|AlternativeIcon #fIcon
Ts0 f122 expr out #txt
Ts0 f122 1000 82 1000 98 #arcP
Ts0 f124 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f124 actionTable 'out=in;
' #txt
Ts0 f124 actionCode 'out.footerMessage = "At least one task state should be selected.";' #txt
Ts0 f124 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f124 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform
the user</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f124 1062 148 36 24 20 -2 #rect
Ts0 f124 @|RichDialogProcessStepIcon #fIcon
Ts0 f125 expr in #txt
Ts0 f125 1014 112 1080 148 #arcP
Ts0 f125 1 1080 112 #addKink
Ts0 f125 0 0.652490792772134 0 0 #arcLabel
Ts0 f126 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close</name>
        <nameStyle>5,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f126 guid 118EB87984A5A5A8 #txt
Ts0 f126 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f126 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f126 actionTable 'out=in;
' #txt
Ts0 f126 1406 150 20 20 13 0 #rect
Ts0 f126 @|RichDialogProcessStartIcon #fIcon
Ts0 f128 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f128 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f128 1202 738 28 28 14 0 #rect
Ts0 f128 @|AlternativeIcon #fIcon
Ts0 f129 expr out #txt
Ts0 f129 1216 724 1216 738 #arcP
Ts0 f24 expr in #txt
Ts0 f24 outCond in.securityMemberSelected #txt
Ts0 f24 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>security member
selected</name>
        <nameStyle>24,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f24 1216 766 1216 804 #arcP
Ts0 f131 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f131 actionTable 'out=in;
' #txt
Ts0 f131 actionCode 'out.footerMessage = "Invalid selection";' #txt
Ts0 f131 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f131 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform
the user</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f131 1502 612 36 24 20 -2 #rect
Ts0 f131 @|RichDialogProcessStepIcon #fIcon
Ts0 f132 expr in #txt
Ts0 f132 1230 584 1520 612 #arcP
Ts0 f132 1 1520 584 #addKink
Ts0 f132 1 0.28047265414484485 0 0 #arcLabel
Ts0 f46 expr out #txt
Ts0 f46 1520 636 1229 1000 #arcP
Ts0 f46 1 1520 1000 #addKink
Ts0 f46 0 0.822006485091491 0 0 #arcLabel
Ts0 f133 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f133 actionTable 'out=in;
' #txt
Ts0 f133 actionCode 'out.footerMessage = "No role or user has been selected. Delegate task canceled.";' #txt
Ts0 f133 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f133 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform
the user</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f133 1414 796 36 24 20 -2 #rect
Ts0 f133 @|RichDialogProcessStepIcon #fIcon
Ts0 f134 expr in #txt
Ts0 f134 1230 752 1432 796 #arcP
Ts0 f134 1 1432 752 #addKink
Ts0 f134 0 0.5319693068644793 0 0 #arcLabel
Ts0 f130 expr out #txt
Ts0 f130 1432 820 1228 998 #arcP
Ts0 f130 1 1432 976 #addKink
Ts0 f130 0 0.9508766700823038 0 0 #arcLabel
Ts0 f135 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Accepted broadcast: xivyTaskDelegated</name>
        <nameStyle>37,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f135 guid 118EBEE8542826BA #txt
Ts0 f135 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f135 broadcast xivyTaskDelegated #txt
Ts0 f135 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f135 actionTable 'out=in;
out.broadcastedTaskIdentifier=param.aTaskIdentifier;
' #txt
Ts0 f135 590 630 20 20 13 0 #rect
Ts0 f135 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f53 expr out #txt
Ts0 f53 1144 82 1018 376 #arcP
Ts0 f53 1 1144 376 #addKink
Ts0 f53 0 0.7235416216603601 0 0 #arcLabel
Ts0 f137 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f137 actionTable 'out=in;
' #txt
Ts0 f137 actionCode 'if (!panel.findTaskCollapsiblePane.isCollapsed())
{
	// hide the task information area
	panel.taskListAndTaskInformationSplitPane.setStyleProperties("{/orientation \"VERTICAL_SPLIT\"/dividerLocation \"1\"}");	
}
else
{
	// show the task information area
	panel.taskListAndTaskInformationSplitPane.setStyleProperties("{/orientation \"VERTICAL_SPLIT\"/dividerLocation \"0.45\"}");
}


' #txt
Ts0 f137 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f137 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggle (show/hide)
task details area</name>
        <nameStyle>36,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f137 862 364 36 24 20 -2 #rect
Ts0 f137 @|RichDialogProcessStepIcon #fIcon
Ts0 f140 expr out #txt
Ts0 f140 880 388 880 419 #arcP
Ts0 f140 0 0.44751558400331654 0 0 #arcLabel
Ts0 f141 expr out #txt
Ts0 f141 880 82 880 180 #arcP
Ts0 f93 expr out #txt
Ts0 f93 880 204 880 364 #arcP
Ts0 f93 0 0.5246309286664335 0 0 #arcLabel
Ts0 f91 expr out #txt
Ts0 f91 982 376 898 376 #arcP
Ts0 f91 0 0.5640085624617712 0 0 #arcLabel
Ts0 f8 expr out #txt
Ts0 f8 1080 172 893 432 #arcP
Ts0 f8 1 1080 432 #addKink
Ts0 f8 0 0.7774232464642803 0 0 #arcLabel
Ts0 f87 expr out #txt
Ts0 f87 80 98 80 164 #arcP
Ts0 f87 0 0.5241792439081309 0 0 #arcLabel
Ts0 f119 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f119 actionTable 'out=in;
' #txt
Ts0 f119 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import java.util.Iterator;

Iterator iterator;
ITask currentTask;
Boolean found = false;
Number taskIndexInTheList = -1;


iterator = in.filteredTasks.iterator();

out.footerMessage = "";

while (iterator.hasNext() && !found)
{
	currentTask = iterator.next() as ITask;
	if (currentTask.getIdentifier() == in.broadcastedTaskIdentifier)
	{
		out.filteredTasks.remove(currentTask);
		found = true;		
	}   
}
' #txt
Ts0 f119 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f119 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if task found
remove it from task list</name>
        <nameStyle>54,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f119 582 788 36 24 20 -2 #rect
Ts0 f119 @|RichDialogProcessStepIcon #fIcon
Ts0 f150 expr out #txt
Ts0 f150 600 650 600 788 #arcP
Ts0 f150 0 0.8041288016850019 0 0 #arcLabel
Ts0 f149 expr out #txt
Ts0 f149 600 812 445 984 #arcP
Ts0 f149 1 600 984 #addKink
Ts0 f149 0 0.8098513016100446 0 0 #arcLabel
Ts0 f151 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateButtonsAccordingToSelection</name>
        <nameStyle>33,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f151 guid 11A0591A096BF4F3 #txt
Ts0 f151 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f151 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f151 actionTable 'out=in;
' #txt
Ts0 f151 1854 534 20 20 13 0 #rect
Ts0 f151 @|RichDialogProcessStartIcon #fIcon
Ts0 f152 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f152 1851 971 26 26 14 0 #rect
Ts0 f152 @|RichDialogProcessEndIcon #fIcon
Ts0 f154 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f154 actionTable 'out=in;
' #txt
Ts0 f154 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.TaskState;


if (panel.tasksTable.getSelectedListEntry() != null & panel.tasksTable.getSelectedListEntry() instanceof ITask)
{
	ITask currentTask = panel.tasksTable.getSelectedListEntry() as ITask;
	
	in.filteredTasks.elementChangedAt(in.filteredTasks.indexOf(currentTask));
	
	// information on task
	panel.informOnTaskButton.enabled = true;
	panel.informOnTaskUnderThisTabMenuItem.enabled = panel.informOnTaskButton.enabled;
	panel.informOnTaskOnSiblingTabMenuItem.enabled = panel.informOnTaskButton.enabled;

	// start task
	panel.startTaskButton.enabled = (in.taskDisplayMode == 2)?
																			false:
																			(currentTask.getState().equals(TaskState.SUSPENDED) || currentTask.getState().equals(TaskState.PARKED));
																																
	panel.startTaskUnderThisTabMenuItem.enabled = panel.startTaskButton.enabled;
	panel.startTaskOnSiblingTabMenuItem.enabled = panel.startTaskButton.enabled;


	// park task
	panel.parkTaskButton.enabled = currentTask.getState().equals(TaskState.RESUMED);
	panel.parkTaskMenuItem.enabled = panel.parkTaskButton.enabled;


	// delegate task
	panel.delegateTaskButton.enabled = ((in.hasPermissionDelegateTasks || in.hasWfAdministratorPermissions) && 
																			(currentTask.getState().equals(TaskState.SUSPENDED) || currentTask.getState().equals(TaskState.PARKED)));
	panel.delegateTaskMenuItem.enabled = panel.delegateTaskButton.enabled;

	
	// set expiry date
	panel.setTaskExpiryDateButton.enabled = (in.hasWfAdministratorPermissions && currentTask.getExpiryTimestamp() is initialized);
	panel.setTaskExpiryDateMenuItem.enabled = panel.setTaskExpiryDateButton.enabled;

	
	// set blocking delay date
	panel.setTaskBlockingDelayDateButton.enabled = (in.hasWfAdministratorPermissions && 
																									(currentTask.getDelayTimestamp() is initialized) && currentTask.getState().equals(TaskState.SUSPENDED));
	panel.setTaskBlockingDelayDateMenuItem.enabled = panel.setTaskBlockingDelayDateButton.enabled;


	// reset the task
	// AssertionError: State of Task must be one of the following values RESUMED, CREATED, PARKED, READY_FOR_JOIN but is DELAYED
	panel.resetTaskButton.enabled = (in.hasWfAdministratorPermissions && 
																		(currentTask.getState().equals(TaskState.CREATED) || 
																		currentTask.getState().equals(TaskState.RESUMED) ||
																		currentTask.getState().equals(TaskState.PARKED)));
	panel.resetTaskMenuItem.enabled = panel.resetTaskButton.enabled;		
					

																		
	// destroy the task
	panel.destroyTaskButton.enabled = (in.hasWfAdministratorPermissions && 
																		(currentTask.getState().equals(TaskState.DELAYED) ||
																		currentTask.getState().equals(TaskState.SUSPENDED) ||
																		currentTask.getState().equals(TaskState.PARKED) ||
																		currentTask.getState().equals(TaskState.RESUMED) ||
																		currentTask.getState().equals(TaskState.UNASSIGNED) ||
																		currentTask.getState().equals(TaskState.FAILED) ||
																		currentTask.getState().equals(TaskState.READY_FOR_JOIN) ||
																		currentTask.getState().equals(TaskState.JOINING) ||
																		currentTask.getState().equals(TaskState.JOIN_FAILED) ||
																		currentTask.getState().equals(TaskState.CREATED)));

	panel.destroyTaskMenuItem.enabled = panel.destroyTaskButton.enabled;
																		
}
else
{
	// information on task
	panel.informOnTaskButton.enabled = false;
	panel.informOnTaskUnderThisTabMenuItem.enabled = panel.informOnTaskButton.enabled;
	panel.informOnTaskOnSiblingTabMenuItem.enabled = panel.informOnTaskButton.enabled;
	
	// start task
	panel.startTaskButton.enabled = false;																
	panel.startTaskUnderThisTabMenuItem.enabled = panel.startTaskButton.enabled;
	panel.startTaskOnSiblingTabMenuItem.enabled = panel.startTaskButton.enabled;
	
	// park task
	panel.parkTaskButton.enabled = false;
	panel.parkTaskMenuItem.enabled = panel.parkTaskButton.enabled;

	// delegate task
	panel.delegateTaskButton.enabled = false;	
	panel.delegateTaskMenuItem.enabled = panel.delegateTaskButton.enabled;
	
	// set expiry date
	panel.setTaskExpiryDateButton.enabled = false;
	
	// set blocking delay date
	panel.setTaskBlockingDelayDateButton.enabled = false;
	
	// cancel the task
	panel.resetTaskButton.enabled = false;
	panel.resetTaskMenuItem.enabled = false;
	
	// destroy the task
	panel.destroyTaskButton.enabled = false;
	panel.destroyTaskMenuItem.enabled = panel.destroyTaskButton.enabled;
	
}' #txt
Ts0 f154 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f154 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update buttons
and popup menu items
acc. to the table selection</name>
        <nameStyle>63,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f154 1846 708 36 24 21 2 #rect
Ts0 f154 @|RichDialogProcessStepIcon #fIcon
Ts0 f155 expr out #txt
Ts0 f155 1864 554 1864 708 #arcP
Ts0 f153 expr out #txt
Ts0 f153 1864 732 1864 971 #arcP
Ts0 f156 targetWindow NEW #txt
Ts0 f156 targetDisplay TOP #txt
Ts0 f156 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.MessageDialog #txt
Ts0 f156 startMethod showMessageWithTitle(String,String) #txt
Ts0 f156 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f156 requestActionDecl '<String aMessageTitle, String aMessageText> param;' #txt
Ts0 f156 requestMappingAction 'param.aMessageTitle="Permission denied to delegate the tasks";
param.aMessageText="You don''t have the permission called ''" + ch.ivyteam.ivy.security.IPermission.DELEGATE_TASKS.getName() + "'' that will gives you possibility to do that action. \nContact your Workflow Administrator for that.";
' #txt
Ts0 f156 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f156 responseMappingAction 'out=in;
' #txt
Ts0 f156 windowConfiguration '#Tue May 20 14:09:30 CEST 2008
height=200
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=550
title=Information
' #txt
Ts0 f156 isAsynch false #txt
Ts0 f156 isInnerRd true #txt
Ts0 f156 isDialog true #txt
Ts0 f156 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user
permission denied</name>
        <nameStyle>33,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f156 1462 684 36 24 20 -2 #rect
Ts0 f156 @|RichDialogIcon #fIcon
Ts0 f157 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f157 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f157 1202 626 28 28 14 0 #rect
Ts0 f157 @|AlternativeIcon #fIcon
Ts0 f158 expr in #txt
Ts0 f158 outCond 'panel.tasksTable.#selectedListEntries != null' #txt
Ts0 f158 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selected tasks != null</name>
        <nameStyle>22,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f158 1216 598 1216 626 #arcP
Ts0 f43 expr in #txt
Ts0 f43 outCond 'ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.DELEGATE_TASKS)' #txt
Ts0 f43 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>permission ok</name>
        <nameStyle>13,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f43 1216 654 1216 700 #arcP
Ts0 f159 expr in #txt
Ts0 f159 1230 640 1480 684 #arcP
Ts0 f159 1 1480 640 #addKink
Ts0 f159 0 0.564897361812016 0 0 #arcLabel
Ts0 f160 expr out #txt
Ts0 f160 1480 708 1228 999 #arcP
Ts0 f160 1 1480 984 #addKink
Ts0 f160 0 0.9181230687456964 0 0 #arcLabel
Ts0 f161 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setTaskExpiryTimestamp</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f161 guid 11A06D4212D900B5 #txt
Ts0 f161 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f161 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f161 actionTable 'out=in;
' #txt
Ts0 f161 422 1046 20 20 13 0 #rect
Ts0 f161 @|RichDialogProcessStartIcon #fIcon
Ts0 f162 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setTaskBlockingDelayTimestamp</name>
        <nameStyle>29,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f162 guid 11A06D4293CB465C #txt
Ts0 f162 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f162 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f162 actionTable 'out=in;
' #txt
Ts0 f162 686 1046 20 20 13 0 #rect
Ts0 f162 @|RichDialogProcessStartIcon #fIcon
Ts0 f163 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f163 419 1523 26 26 14 0 #rect
Ts0 f163 @|RichDialogProcessEndIcon #fIcon
Ts0 f167 targetWindow NEW #txt
Ts0 f167 targetDisplay TOP #txt
Ts0 f167 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDateSelect #txt
Ts0 f167 startMethod selectTaskExpiryDate(String,String) #txt
Ts0 f167 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f167 requestActionDecl '<String aTitle, String aText> param;' #txt
Ts0 f167 requestActionCode 'param.aTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampShortDesc");
param.aText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampLongDesc");' #txt
Ts0 f167 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f167 responseMappingAction 'out=in;
out.taskDateSelectDisabledSelectionDate=result.aDisabledDateSelection;
out.taskDateSelectPressedButton=result.aPressedButton;
out.taskDateSelectSelectedDate=result.aSelectedDate;
' #txt
Ts0 f167 windowConfiguration '#Thu Jul 03 15:34:03 CEST 2008
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Task expiry date
' #txt
Ts0 f167 isAsynch false #txt
Ts0 f167 isInnerRd true #txt
Ts0 f167 isDialog true #txt
Ts0 f167 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>select the new
task expiry date</name>
        <nameStyle>31,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f167 414 1220 36 24 20 -2 #rect
Ts0 f167 @|RichDialogIcon #fIcon
Ts0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f169 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f169 418 1266 28 28 14 0 #rect
Ts0 f169 @|AlternativeIcon #fIcon
Ts0 f170 expr out #txt
Ts0 f170 432 1244 432 1266 #arcP
Ts0 f171 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f171 actionTable 'out=in;
' #txt
Ts0 f171 actionCode 'try
{
	
	if (in.taskDateSelectDisabledSelectionDate)
	{
		in.selectedTask.setExpiryTimestamp(null);
	}
	else
	{
		in.selectedTask.setExpiryTimestamp(in.taskDateSelectSelectedDate);
	}
	
	
	Number indexOfSelectedTask = out.tasks.indexOf(in.selectedTask);
	out.filteredTasks.elementChangedAt(indexOfSelectedTask);
	
}
catch (Exception ex)
{
	out.exception = ex;	
}' #txt
Ts0 f171 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f171 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set the expiry date 
and update the list of tasks</name>
        <nameStyle>49,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f171 414 1332 36 24 20 -2 #rect
Ts0 f171 @|RichDialogProcessStepIcon #fIcon
Ts0 f172 expr in #txt
Ts0 f172 outCond in.taskDateSelectPressedButton.equalsIgnoreCase("ok") #txt
Ts0 f172 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ok pressed</name>
        <nameStyle>10,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f172 432 1294 432 1332 #arcP
Ts0 f173 expr in #txt
Ts0 f173 446 1280 445 1536 #arcP
Ts0 f173 1 552 1280 #addKink
Ts0 f173 2 552 1536 #addKink
Ts0 f173 1 0.4081206979362798 0 0 #arcLabel
Ts0 f174 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f174 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f174 418 1098 28 28 14 0 #rect
Ts0 f174 @|AlternativeIcon #fIcon
Ts0 f175 expr out #txt
Ts0 f175 432 1066 432 1098 #arcP
Ts0 f176 expr in #txt
Ts0 f176 446 1112 445 1536 #arcP
Ts0 f176 1 600 1112 #addKink
Ts0 f176 2 600 1536 #addKink
Ts0 f176 1 0.42316247071589663 0 0 #arcLabel
Ts0 f177 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f177 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f177 682 1098 28 28 14 0 #rect
Ts0 f177 @|AlternativeIcon #fIcon
Ts0 f178 expr out #txt
Ts0 f178 696 1066 696 1098 #arcP
Ts0 f179 targetWindow NEW #txt
Ts0 f179 targetDisplay TOP #txt
Ts0 f179 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDateSelect #txt
Ts0 f179 startMethod selectTaskBlockingDelayDate(String,String) #txt
Ts0 f179 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f179 requestActionDecl '<String aTitle, String aText> param;' #txt
Ts0 f179 requestActionCode 'param.aTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampShortDesc");
param.aText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampLongDesc");' #txt
Ts0 f179 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f179 responseMappingAction 'out=in;
out.taskDateSelectDisabledSelectionDate=result.aDisabledDateSelection;
out.taskDateSelectPressedButton=result.aPressedButton;
out.taskDateSelectSelectedDate=result.aSelectedDate;
' #txt
Ts0 f179 windowConfiguration '#Thu Jul 03 15:34:50 CEST 2008
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Task blocking delay date
' #txt
Ts0 f179 isAsynch false #txt
Ts0 f179 isInnerRd true #txt
Ts0 f179 isDialog true #txt
Ts0 f179 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>select the new
task blocking delay date</name>
        <nameStyle>39,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f179 678 1220 36 24 20 -2 #rect
Ts0 f179 @|RichDialogIcon #fIcon
Ts0 f181 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f181 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f181 682 1266 28 28 14 0 #rect
Ts0 f181 @|AlternativeIcon #fIcon
Ts0 f182 expr out #txt
Ts0 f182 696 1244 696 1266 #arcP
Ts0 f183 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f183 actionTable 'out=in;
' #txt
Ts0 f183 actionCode 'try
{
	if (in.taskDateSelectDisabledSelectionDate)
	{
		in.selectedTask.setDelayTimestamp(null);
	}
	else
	{
		in.selectedTask.setDelayTimestamp(in.taskDateSelectSelectedDate);
	}
	
	Number indexOfSelectedTask = out.tasks.indexOf(in.selectedTask);
	out.filteredTasks.elementChangedAt(indexOfSelectedTask);
}
catch(Exception ex)
{
	out.exception = ex;
}' #txt
Ts0 f183 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f183 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set the blocking delay date
and update list of tasks</name>
        <nameStyle>52,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f183 678 1332 36 24 20 -2 #rect
Ts0 f183 @|RichDialogProcessStepIcon #fIcon
Ts0 f184 expr in #txt
Ts0 f184 outCond in.taskDateSelectPressedButton.equalsIgnoreCase("ok") #txt
Ts0 f184 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ok pressed</name>
        <nameStyle>10,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f184 696 1294 696 1332 #arcP
Ts0 f187 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f187 actionTable 'out=in;
' #txt
Ts0 f187 actionCode 'out.selectedTask = 
	panel.tasksTable.getSelectedListEntry() as ch.ivyteam.ivy.workflow.ITask;' #txt
Ts0 f187 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f187 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remember the
selected task</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f187 414 1172 36 24 20 -2 #rect
Ts0 f187 @|RichDialogProcessStepIcon #fIcon
Ts0 f188 expr in #txt
Ts0 f188 outCond 'panel.tasksTable.getSelectedListEntry() != null && panel.tasksTable.getSelectedListEntry() instanceof ch.ivyteam.ivy.workflow.ITask' #txt
Ts0 f188 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selected entry != null
and task instance</name>
        <nameStyle>40,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f188 432 1126 432 1172 #arcP
Ts0 f168 expr out #txt
Ts0 f168 432 1196 432 1220 #arcP
Ts0 f189 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f189 actionTable 'out=in;
' #txt
Ts0 f189 actionCode 'out.selectedTask = 
	panel.tasksTable.getSelectedListEntry() as ch.ivyteam.ivy.workflow.ITask;' #txt
Ts0 f189 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f189 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remember the
selected task</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f189 678 1172 36 24 20 -2 #rect
Ts0 f189 @|RichDialogProcessStepIcon #fIcon
Ts0 f190 expr in #txt
Ts0 f190 outCond 'panel.tasksTable.getSelectedListEntry() != null && panel.tasksTable.getSelectedListEntry() instanceof ch.ivyteam.ivy.workflow.ITask' #txt
Ts0 f190 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selected entry != null
and task instance</name>
        <nameStyle>40,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f190 696 1126 696 1172 #arcP
Ts0 f180 expr out #txt
Ts0 f180 696 1196 696 1220 #arcP
Ts0 f191 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetTask</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f191 guid 11A0856682016BF4 #txt
Ts0 f191 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f191 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f191 actionTable 'out=in;
' #txt
Ts0 f191 958 1046 20 20 13 0 #rect
Ts0 f191 @|RichDialogProcessStartIcon #fIcon
Ts0 f192 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f192 955 1523 26 26 14 0 #rect
Ts0 f192 @|RichDialogProcessEndIcon #fIcon
Ts0 f194 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f194 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f194 954 1098 28 28 14 0 #rect
Ts0 f194 @|AlternativeIcon #fIcon
Ts0 f195 expr out #txt
Ts0 f195 968 1066 968 1098 #arcP
Ts0 f196 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f196 actionTable 'out=in;
' #txt
Ts0 f196 actionCode 'try
{
	out.selectedTask.reset();
	
	Number indexOfSelectedTask = out.tasks.indexOf(out.selectedTask);
	
	out.filteredTasks.elementChangedAt(indexOfSelectedTask);
}
catch (Exception ex)
{
	out.exception = ex;
}
' #txt
Ts0 f196 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f196 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remember the
selected task
and reset it</name>
        <nameStyle>39,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f196 950 1380 36 24 20 -2 #rect
Ts0 f196 @|RichDialogProcessStepIcon #fIcon
Ts0 f198 expr in #txt
Ts0 f198 982 1112 981 1536 #arcP
Ts0 f198 1 1136 1112 #addKink
Ts0 f198 2 1136 1536 #addKink
Ts0 f198 1 0.46827506590861234 0 0 #arcLabel
Ts0 f199 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>destroyTask</name>
        <nameStyle>11,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f199 guid 11A085A17A139EA8 #txt
Ts0 f199 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f199 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f199 actionTable 'out=in;
' #txt
Ts0 f199 1214 1046 20 20 13 0 #rect
Ts0 f199 @|RichDialogProcessStartIcon #fIcon
Ts0 f166 expr in #txt
Ts0 f166 710 1280 445 1536 #arcP
Ts0 f166 1 816 1280 #addKink
Ts0 f166 2 816 1536 #addKink
Ts0 f166 1 0.350666226702224 0 0 #arcLabel
Ts0 f186 expr in #txt
Ts0 f186 710 1112 445 1536 #arcP
Ts0 f186 1 864 1112 #addKink
Ts0 f186 2 864 1536 #addKink
Ts0 f186 1 0.40047013396376785 0 0 #arcLabel
Ts0 f185 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f185 1210 1098 28 28 14 0 #rect
Ts0 f185 @|AlternativeIcon #fIcon
Ts0 f201 expr out #txt
Ts0 f201 1224 1066 1224 1098 #arcP
Ts0 f202 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f202 actionTable 'out=in;
' #txt
Ts0 f202 actionCode 'try
{
	out.selectedTask.destroy();
	
	Number indexOfSelectedTask = out.tasks.indexOf(out.selectedTask);
	
	out.filteredTasks.elementChangedAt(indexOfSelectedTask);
}
catch (Exception ex)
{
	out.exception = ex;	
}' #txt
Ts0 f202 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f202 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remember the
selected task
and destroy it</name>
        <nameStyle>41,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f202 1206 1388 36 24 20 -2 #rect
Ts0 f202 @|RichDialogProcessStepIcon #fIcon
Ts0 f204 expr in #txt
Ts0 f204 1238 1112 981 1536 #arcP
Ts0 f204 1 1392 1112 #addKink
Ts0 f204 2 1392 1536 #addKink
Ts0 f204 1 0.6799774213660794 0 0 #arcLabel
Ts0 f205 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f205 actionTable 'out=in;
' #txt
Ts0 f205 actionCode 'out.filteredTasks.clear();

out.filteredTasks.addAll(in.tasks);' #txt
Ts0 f205 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f205 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clear filtered tasks
and add all tasks</name>
        <nameStyle>38,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f205 62 404 36 24 20 -2 #rect
Ts0 f205 @|RichDialogProcessStepIcon #fIcon
Ts0 f206 expr out #txt
Ts0 f206 80 340 80 404 #arcP
Ts0 f206 0 0.7145526639437965 0 0 #arcLabel
Ts0 f86 expr out #txt
Ts0 f86 80 428 80 459 #arcP
Ts0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTasksByNameOrCaseName</name>
        <nameStyle>25,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f60 guid 11A6D1CCD4AB222D #txt
Ts0 f60 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f60 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f60 actionTable 'out=in;
' #txt
Ts0 f60 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import java.util.regex.Pattern;


out.filteredTasks.clear();


if (out.tasks.size() > 0)
{
	Pattern patternOnName = Pattern.compile(".*" + in.nameCriteria + ".*", Pattern.CASE_INSENSITIVE);
	
	for(ITask currentTask: in.tasks)
	{
		if (patternOnName.matcher(currentTask.getName()).matches() || 
					patternOnName.matcher(currentTask.getCase().getName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getProcessCategoryCode()).matches() || 
					patternOnName.matcher(currentTask.getCase().getProcessCategoryName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getProcessCode()).matches() ||
					patternOnName.matcher(currentTask.getCase().getProcessName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getTypeCode()).matches() ||
					patternOnName.matcher(currentTask.getCase().getTypeName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getSubTypeCode()).matches() ||					
					patternOnName.matcher(currentTask.getCase().getSubTypeName()).matches() ||
					
					patternOnName.matcher("" + currentTask.getCase().getBusinessMainContactId()).matches() ||
					patternOnName.matcher(currentTask.getCase().getBusinessMainContactName()).matches() ||
					
					patternOnName.matcher("" + currentTask.getCase().getBusinessStartTimestamp()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getBusinessCreatorUser()).matches() ||
					
					patternOnName.matcher(currentTask.getKindCode()).matches() ||
					patternOnName.matcher(currentTask.getKindName()).matches()
				)
		{
			out.filteredTasks.add(currentTask);
		}
	}
}
else
{
	out.filteredTasks.addAll(in.tasks);	
}



out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/found") + " " + 
										out.filteredTasks.size() + " " +
										ivy.cms.co("/ch/ivyteam/workflow/ui/task/plainStrings/task") + (out.filteredTasks.size() > 0? "s": "");

' #txt
Ts0 f60 726 70 20 20 13 0 #rect
Ts0 f60 @|RichDialogProcessStartIcon #fIcon
Ts0 f208 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f208 723 459 26 26 14 0 #rect
Ts0 f208 @|RichDialogProcessEndIcon #fIcon
Ts0 f209 expr out #txt
Ts0 f209 736 90 736 459 #arcP
Ts0 f5 expr in #txt
Ts0 f5 outCond !panel.taskStatesList.getSelectedListEntries().isEmpty() #txt
Ts0 f5 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task state(s) 
is(are) selected</name>
        <nameStyle>31,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f5 1000 126 1000 252 #arcP
Ts0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>returnAllTasksSelected</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f7 guid 11A7307DA9F4D640 #txt
Ts0 f7 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f7 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f7 actionTable 'out=in;
' #txt
Ts0 f7 actionCode 'panel.countTextField.enabled = !panel.returnAllFoundTasksCheckBox.isSelected();' #txt
Ts0 f7 1166 286 20 20 13 0 #rect
Ts0 f7 @|RichDialogProcessStartIcon #fIcon
Ts0 f14 expr out #txt
Ts0 f14 1176 306 893 432 #arcP
Ts0 f14 1 1176 432 #addKink
Ts0 f14 1 0.391636255447552 0 0 #arcLabel
Ts0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onLoad</name>
        <nameStyle>6,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f39 guid 11AE8E7F33044A1E #txt
Ts0 f39 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f39 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f39 actionTable 'out=in;
' #txt
Ts0 f39 510 326 20 20 13 0 #rect
Ts0 f39 @|RichDialogProcessStartIcon #fIcon
Ts0 f89 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f89 actionTable 'out=in;
' #txt
Ts0 f89 actionCode 'import com.ulcjava.base.application.border.ULCTitledBorder;


panel.refreshTaskListMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/refreshTaskListShortDesc");
panel.refreshTaskListMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/refreshTaskListLongDesc");
panel.refreshTaskListMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/refreshTaskList16");



panel.findTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/findTaskShortDesc");
panel.findTaskMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/findTaskLongDesc");
panel.findTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/findTask16");



panel.informOnTaskUnderThisTabMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/informOnTaskShortDesc") + " " + 
																							ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/underThisTab");
																							
panel.informOnTaskUnderThisTabMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/informOnTaskLongDesc") ;
panel.informOnTaskUnderThisTabMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/informOnTask16");



panel.informOnTaskOnSiblingTabMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/informOnTaskShortDesc") + " " + 
																							ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/onSiblingTab");
																							
panel.informOnTaskOnSiblingTabMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/informOnTaskLongDesc") ;
panel.informOnTaskOnSiblingTabMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/informOnTask16");



panel.startTaskUnderThisTabMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/startTaskShortDesc") + " " + 
																							ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/underThisTab");
panel.startTaskUnderThisTabMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/startTaskLongDesc");
panel.startTaskUnderThisTabMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/startTask16");


panel.startTaskOnSiblingTabMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/startTaskShortDesc") + " " + 
																							ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/onSiblingTab");
panel.startTaskOnSiblingTabMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/startTaskLongDesc");
panel.startTaskOnSiblingTabMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/startTask16");


panel.parkTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskShortDesc");
panel.parkTaskMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskLongDesc");
panel.parkTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/parkTask16");


panel.delegateTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskShortDesc");
panel.delegateTaskMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskLongDesc");
panel.delegateTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/delegateTask16");


panel.setTaskExpiryDateMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampShortDesc");
panel.setTaskExpiryDateMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampLongDesc");
panel.setTaskExpiryDateMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/setTaskExpiryTimestamp16");


panel.setTaskBlockingDelayDateMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampShortDesc");
panel.setTaskBlockingDelayDateMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampLongDesc");
panel.setTaskBlockingDelayDateMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/setTaskBlockingDelayTimestamp16");


panel.resetTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/cancelTaskShortDesc");
panel.resetTaskMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/cancelTaskLongDesc");
panel.resetTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/cancelTask16");


panel.destroyTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskShortDesc");
panel.destroyTaskMenuItem.toolTipText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskLongDesc");
panel.destroyTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/destroyTask16");


// if parent display not defined, then use the existing one
if (!in.#taskDisplayListParentDisplay is initialized)
{
	in.taskDisplayListParentDisplay = panel.taskDisplayTabbedDisplay;
}
' #txt
Ts0 f89 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f89 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>define text, tooltiptext and icons 
on the popup menu entries
from cms
define the parent display if not defined</name>
        <nameStyle>111,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f89 502 396 36 24 20 -2 #rect
Ts0 f89 @|RichDialogProcessStepIcon #fIcon
Ts0 f98 expr out #txt
Ts0 f98 520 346 520 396 #arcP
Ts0 f98 0 0.5084264667537303 0 0 #arcLabel
Ts0 f47 expr out #txt
Ts0 f47 520 420 93 472 #arcP
Ts0 f47 1 520 472 #addKink
Ts0 f47 1 0.35549566480491523 0 0 #arcLabel
Ts0 f111 guid 11B2C29E18858E15 #txt
Ts0 f111 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f111 method refresh() #txt
Ts0 f111 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh()</name>
    </language>
</elementInfo>
' #txt
Ts0 f111 502 150 20 20 13 0 #rect
Ts0 f111 @|RichDialogMethodStartIcon #fIcon
Ts0 f113 guid 11B2C397226E51AC #txt
Ts0 f113 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f113 method start(Boolean,ch.ivyteam.ivy.richdialog.widgets.displays.RTabbedDisplay,ch.ivyteam.ivy.workflow.IPropertyFilter,Number,Boolean) #txt
Ts0 f113 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Boolean aRunningTaskMode,ch.ivyteam.ivy.richdialog.widgets.displays.RTabbedDisplay aTaskDisplayListParentDisplay,ch.ivyteam.ivy.workflow.IPropertyFilter aPropertyFilter,java.lang.Number aTaskDisplayMode,java.lang.Boolean aHasWfAdministratorPermissions> param = methodEvent.getInputArguments();
' #txt
Ts0 f113 inParameterMapAction 'out.hasWfAdministratorPermissions=param.aHasWfAdministratorPermissions;
out.originalPropertyFilter=param.aPropertyFilter;
out.runningTaskMode=param.aRunningTaskMode;
out.taskDisplayListParentDisplay=param.aTaskDisplayListParentDisplay;
out.taskDisplayMode=param.aTaskDisplayMode;
out.taskDisplayModeText=ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/taskDisplayMode" + param.aTaskDisplayMode + "LongDesc");
out.taskListParentDisplayId=param.aTaskDisplayListParentDisplay.displayId;
' #txt
Ts0 f113 outParameterDecl '<> result;
' #txt
Ts0 f113 embeddedRdInitializations '* ' #txt
Ts0 f113 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start(Boolean, RTabbedDisplay,IPropertyFilter,Number,Boolean)</name>
        <nameStyle>61,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f113 134 78 20 20 13 0 #rect
Ts0 f113 @|RichDialogInitStartIcon #fIcon
Ts0 f114 expr out #txt
Ts0 f114 144 98 98 176 #arcP
Ts0 f114 1 144 176 #addKink
Ts0 f114 1 0.007622397463515455 0 0 #arcLabel
Ts0 f9 guid 11B3DADB5466EF52 #txt
Ts0 f9 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f9 method caseIsInitialized() #txt
Ts0 f9 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f9 outParameterDecl '<java.lang.Boolean aCaseIsInitialized> result;
' #txt
Ts0 f9 outParameterMapAction 'result.aCaseIsInitialized=in.#aCase is initialized;
' #txt
Ts0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>caseIsInitialized()</name>
        <nameStyle>19,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f9 670 150 20 20 13 0 #rect
Ts0 f9 @|RichDialogMethodStartIcon #fIcon
Ts0 f50 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f50 667 299 26 26 14 0 #rect
Ts0 f50 @|RichDialogProcessEndIcon #fIcon
Ts0 f52 expr out #txt
Ts0 f52 680 170 680 299 #arcP
Ts0 f56 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f56 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f56 66 258 28 28 14 0 #rect
Ts0 f56 @|AlternativeIcon #fIcon
Ts0 f88 expr out #txt
Ts0 f88 80 188 80 258 #arcP
Ts0 f110 expr in #txt
Ts0 f110 outCond 'in.#originalPropertyFilter is initialized' #txt
Ts0 f110 80 286 80 316 #arcP
Ts0 f115 expr out #txt
Ts0 f115 416 186 94 272 #arcP
Ts0 f115 1 416 272 #addKink
Ts0 f115 0 0.38774390401101694 0 0 #arcLabel
Ts0 f10 expr out #txt
Ts0 f10 480 130 94 272 #arcP
Ts0 f10 1 480 272 #addKink
Ts0 f10 1 0.6644507902066362 0 0 #arcLabel
Ts0 f18 expr out #txt
Ts0 f18 544 202 94 272 #arcP
Ts0 f18 1 544 272 #addKink
Ts0 f18 0 0.7503596951646745 0 0 #arcLabel
Ts0 f48 expr out #txt
Ts0 f48 512 170 94 272 #arcP
Ts0 f48 1 512 272 #addKink
Ts0 f48 1 0.3106180666817441 0 0 #arcLabel
Ts0 f45 guid 11B40754687FB16D #txt
Ts0 f45 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f45 method findTasksByCase(ch.ivyteam.ivy.workflow.ICase) #txt
Ts0 f45 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.workflow.ICase aCase> param = methodEvent.getInputArguments();
' #txt
Ts0 f45 inParameterMapAction 'out.aCase=param.aCase;
' #txt
Ts0 f45 outParameterDecl '<> result;
' #txt
Ts0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTasksByCase(ICase)</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f45 598 110 20 20 13 0 #rect
Ts0 f45 @|RichDialogMethodStartIcon #fIcon
Ts0 f54 expr out #txt
Ts0 f54 608 130 94 272 #arcP
Ts0 f54 1 608 272 #addKink
Ts0 f54 1 0.31609858833696647 0 0 #arcLabel
Ts0 f55 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f55 actionTable 'out=in;
' #txt
Ts0 f55 actionCode 'import ch.ivyteam.ivy.workflow.ITask;

List<ITask> result = [];
result = in.aCase.getTasks();

out.tasks.clear();
out.tasks.addAll(result);
' #txt
Ts0 f55 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f55 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get tasks 
of the case</name>
        <nameStyle>22,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f55 222 316 36 24 20 -2 #rect
Ts0 f55 @|RichDialogProcessStepIcon #fIcon
Ts0 f116 expr in #txt
Ts0 f116 outCond 'in.#aCase is initialized' #txt
Ts0 f116 93 273 240 316 #arcP
Ts0 f116 1 240 288 #addKink
Ts0 f116 0 0.7182183850583899 0 0 #arcLabel
Ts0 f112 expr out #txt
Ts0 f112 240 340 98 416 #arcP
Ts0 f112 1 240 416 #addKink
Ts0 f112 1 0.26627527012032626 0 0 #arcLabel
Ts0 f117 expr in #txt
Ts0 f117 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do nothing</name>
        <nameStyle>10,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f117 94 272 93 472 #arcP
Ts0 f117 1 344 280 #addKink
Ts0 f117 2 344 472 #addKink
Ts0 f117 1 0.1889362128916778 0 0 #arcLabel
Ts0 f123 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f123 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f123 1210 1338 28 28 14 0 #rect
Ts0 f123 @|AlternativeIcon #fIcon
Ts0 f139 expr in #txt
Ts0 f139 outCond 'in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.DELAYED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.RESUMED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.UNASSIGNED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.FAILED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.READY_FOR_JOIN) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.JOINING) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.JOIN_FAILED) ||
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.CREATED)' #txt
Ts0 f139 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task''s state ok 
to destroy </name>
        <nameStyle>28,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f139 1224 1366 1224 1388 #arcP
Ts0 f142 expr in #txt
Ts0 f142 1238 1352 981 1536 #arcP
Ts0 f142 1 1328 1352 #addKink
Ts0 f142 2 1328 1536 #addKink
Ts0 f142 1 0.6878603693958169 0 0 #arcLabel
Ts0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f143 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f143 954 1338 28 28 14 0 #rect
Ts0 f143 @|AlternativeIcon #fIcon
Ts0 f145 expr in #txt
Ts0 f145 outCond 'in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.RESUMED) || 
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.CREATED) || 
in.selectedTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED)' #txt
Ts0 f145 968 1366 968 1380 #arcP
Ts0 f146 expr in #txt
Ts0 f146 982 1352 981 1536 #arcP
Ts0 f146 1 1072 1352 #addKink
Ts0 f146 2 1072 1536 #addKink
Ts0 f146 1 0.32191951040526695 0 0 #arcLabel
Ts0 f147 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f147 actionTable 'out=in;
' #txt
Ts0 f147 actionCode 'out.selectedTask = 
		panel.tasksTable.getSelectedListEntry() as ch.ivyteam.ivy.workflow.ITask;' #txt
Ts0 f147 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f147 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save 
the selected task</name>
        <nameStyle>23,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f147 950 1300 36 24 20 -2 #rect
Ts0 f147 @|RichDialogProcessStepIcon #fIcon
Ts0 f144 expr out #txt
Ts0 f144 968 1324 968 1338 #arcP
Ts0 f197 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f197 actionTable 'out=in;
' #txt
Ts0 f197 actionCode 'out.selectedTask = 
		panel.tasksTable.getSelectedListEntry() as ch.ivyteam.ivy.workflow.ITask;' #txt
Ts0 f197 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f197 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save the
selected task</name>
        <nameStyle>22,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f197 1206 1300 36 24 20 -2 #rect
Ts0 f197 @|RichDialogProcessStepIcon #fIcon
Ts0 f138 expr out #txt
Ts0 f138 1224 1324 1224 1338 #arcP
Ts0 f207 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Fire the RDEvent
&quot;closeTaskDisplayList&quot;</name>
        <nameStyle>39,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f207 actionCode panel.fireCloseTaskDisplayList(); #txt
Ts0 f207 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f207 fireEvent closeTaskDisplayList() #txt
Ts0 f207 1366 308 36 24 20 -2 #rect
Ts0 f207 @|RichDialogFireEventIcon #fIcon
Ts0 f210 expr out #txt
Ts0 f210 1384 122 1384 308 #arcP
Ts0 f211 expr out #txt
Ts0 f211 1416 170 1400 308 #arcP
Ts0 f211 1 1416 296 #addKink
Ts0 f211 0 0.5105102294335333 0 0 #arcLabel
Ts0 f127 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f127 1371 427 26 26 14 0 #rect
Ts0 f127 @|RichDialogProcessEndIcon #fIcon
Ts0 f212 expr out #txt
Ts0 f212 1384 332 1384 427 #arcP
Ts0 f77 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f77 guid 11E2BBEE89DCB077 #txt
Ts0 f77 1403 427 26 26 14 0 #rect
Ts0 f77 @|RichDialogEndIcon #fIcon
Ts0 f78 targetWindow NEW #txt
Ts0 f78 targetDisplay TOP #txt
Ts0 f78 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.QuestionDialog #txt
Ts0 f78 startMethod askQuestionWithTitle(String,String,String,List<String>) #txt
Ts0 f78 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f78 panelName <%=in.questionWindowTitle%> #txt
Ts0 f78 requestActionDecl '<String icon, String questionTitle, String questionText, List<String> buttons> param;' #txt
Ts0 f78 requestMappingAction 'param.buttons=["yes", "no"];
' #txt
Ts0 f78 requestActionCode 'param.icon = "question";
param.questionTitle = in.questionTitle;
param.questionText = in.questionText;

/*
param.questionTitle = 
			ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/confirmLoadAllTasksShortDesc");
			
param.questionText = 
			ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/confirmLoadAllTasksLongDesc");
			
*/' #txt
Ts0 f78 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f78 responseMappingAction 'out=in;
out.questionDialogPressedButtonResult=result.pressedButton;
' #txt
Ts0 f78 windowConfiguration '#Sun Dec 14 22:52:32 CET 2008
height=200
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=550
title=<%\\=in.questionWindowTitle%>
' #txt
Ts0 f78 isAsynch false #txt
Ts0 f78 isInnerRd true #txt
Ts0 f78 isDialog true #txt
Ts0 f78 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Question dialog
continue loading all tasks?</name>
        <nameStyle>43,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f78 950 1204 36 24 20 -2 #rect
Ts0 f78 @|RichDialogIcon #fIcon
Ts0 f214 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f214 actionTable 'out=in;
' #txt
Ts0 f214 actionCode 'out.questionWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/confirmation");

out.questionTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/cancelTaskShortDesc"); 

out.questionText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/continue");
' #txt
Ts0 f214 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f214 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepare question title
and text</name>
        <nameStyle>31,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f214 950 1164 36 24 20 -2 #rect
Ts0 f214 @|RichDialogProcessStepIcon #fIcon
Ts0 f215 expr in #txt
Ts0 f215 outCond 'panel.tasksTable.getSelectedListEntry() != null && panel.tasksTable.getSelectedListEntry() instanceof ch.ivyteam.ivy.workflow.ITask' #txt
Ts0 f215 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection != null 
and is a task</name>
        <nameStyle>32,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f215 968 1126 968 1164 #arcP
Ts0 f213 expr out #txt
Ts0 f213 968 1188 968 1204 #arcP
Ts0 f216 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f216 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f216 954 1242 28 28 14 0 #rect
Ts0 f216 @|AlternativeIcon #fIcon
Ts0 f217 expr out #txt
Ts0 f217 968 1228 968 1242 #arcP
Ts0 f148 expr in #txt
Ts0 f148 outCond in.questionDialogPressedButtonResult.equals("yes") #txt
Ts0 f148 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f148 968 1270 968 1300 #arcP
Ts0 f218 expr in #txt
Ts0 f218 982 1256 981 1536 #arcP
Ts0 f218 1 1104 1256 #addKink
Ts0 f218 2 1104 1536 #addKink
Ts0 f218 1 0.30156433950130573 0 0 #arcLabel
Ts0 f219 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f219 actionTable 'out=in;
' #txt
Ts0 f219 actionCode 'out.questionWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/confirmation");

out.questionTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskShortDesc");

out.questionText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/continue");
' #txt
Ts0 f219 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f219 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepare question title
and text</name>
        <nameStyle>31,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f219 1206 1164 36 24 20 -2 #rect
Ts0 f219 @|RichDialogProcessStepIcon #fIcon
Ts0 f220 expr in #txt
Ts0 f220 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection != null
and is a task</name>
        <nameStyle>31,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f220 1224 1126 1224 1164 #arcP
Ts0 f221 targetWindow NEW #txt
Ts0 f221 targetDisplay TOP #txt
Ts0 f221 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.QuestionDialog #txt
Ts0 f221 startMethod askQuestionWithTitle(String,String,String,List<String>) #txt
Ts0 f221 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f221 panelName <%=in.questionWindowTitle%> #txt
Ts0 f221 requestActionDecl '<String icon, String questionTitle, String questionText, List<String> buttons> param;' #txt
Ts0 f221 requestMappingAction 'param.buttons=["yes", "no"];
' #txt
Ts0 f221 requestActionCode 'param.icon = "question";
param.questionTitle = in.questionTitle;
param.questionText = in.questionText;

/*
param.questionTitle = 
			ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/confirmLoadAllTasksShortDesc");
			
param.questionText = 
			ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/confirmLoadAllTasksLongDesc");
			
*/' #txt
Ts0 f221 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f221 responseMappingAction 'out=in;
out.questionDialogPressedButtonResult=result.pressedButton;
' #txt
Ts0 f221 windowConfiguration '#Sun Dec 14 22:52:50 CET 2008
height=200
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=550
title=<%\\=in.questionWindowTitle%>
' #txt
Ts0 f221 isAsynch false #txt
Ts0 f221 isInnerRd true #txt
Ts0 f221 isDialog true #txt
Ts0 f221 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Question dialog
continue loading all tasks?</name>
        <nameStyle>43,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f221 1206 1204 36 24 20 -2 #rect
Ts0 f221 @|RichDialogIcon #fIcon
Ts0 f222 expr out #txt
Ts0 f222 1224 1188 1224 1204 #arcP
Ts0 f223 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f223 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f223 1210 1242 28 28 14 0 #rect
Ts0 f223 @|AlternativeIcon #fIcon
Ts0 f224 expr out #txt
Ts0 f224 1224 1228 1224 1242 #arcP
Ts0 f203 expr in #txt
Ts0 f203 outCond in.questionDialogPressedButtonResult.equals("yes") #txt
Ts0 f203 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f203 1224 1270 1224 1300 #arcP
Ts0 f225 expr in #txt
Ts0 f225 1238 1256 981 1536 #arcP
Ts0 f225 1 1360 1256 #addKink
Ts0 f225 2 1360 1536 #addKink
Ts0 f225 1 0.9432801396712388 0 0 #arcLabel
Ts0 f226 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ivy_systemevent_workflow_task_changed</name>
        <nameStyle>37,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f226 guid 11E4147805919F81 #txt
Ts0 f226 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f226 broadcast ivy_systemevent_workflow_task_changed #txt
Ts0 f226 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f226 actionTable 'out=in;
out.broadcastedTaskIdentifier=param.aWorkflowSystemEventParameter.getIdentifiers().get(0) as Number;
' #txt
Ts0 f226 422 534 20 20 13 0 #rect
Ts0 f226 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f229 expr out #txt
Ts0 f229 432 554 432 700 #arcP
Ts0 f229 0 0.6395396119816713 0 0 #arcLabel
Ts0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f19 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f19 1650 794 28 28 14 0 #rect
Ts0 f19 @|AlternativeIcon #fIcon
Ts0 f31 expr out #txt
Ts0 f31 1664 716 1664 794 #arcP
Ts0 f27 expr in #txt
Ts0 f27 outCond 'in.#exception == null' #txt
Ts0 f27 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f27 1664 822 1664 971 #arcP
Ts0 f35 targetWindow NEW #txt
Ts0 f35 targetDisplay TOP #txt
Ts0 f35 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.ErrorDialog #txt
Ts0 f35 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f35 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f35 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f35 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f35 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f35 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f35 responseMappingAction 'out=in;
' #txt
Ts0 f35 windowConfiguration '#Mon Apr 27 00:09:45 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f35 isAsynch false #txt
Ts0 f35 isInnerRd true #txt
Ts0 f35 isDialog true #txt
Ts0 f35 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show
error dialog</name>
        <nameStyle>17,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f35 1742 860 36 24 20 -2 #rect
Ts0 f35 @|RichDialogIcon #fIcon
Ts0 f66 expr in #txt
Ts0 f66 1678 808 1760 860 #arcP
Ts0 f66 1 1760 808 #addKink
Ts0 f66 1 0.16116133066661872 0 0 #arcLabel
Ts0 f107 expr out #txt
Ts0 f107 1760 884 1677 984 #arcP
Ts0 f107 1 1760 984 #addKink
Ts0 f107 0 0.7614934725566147 0 0 #arcLabel
Ts0 f108 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f108 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f108 1202 898 28 28 14 0 #rect
Ts0 f108 @|AlternativeIcon #fIcon
Ts0 f109 expr out #txt
Ts0 f109 1216 828 1216 898 #arcP
Ts0 f109 0 0.9690956827408201 0 0 #arcLabel
Ts0 f118 expr in #txt
Ts0 f118 outCond 'in.#exception == null' #txt
Ts0 f118 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f118 1216 926 1216 987 #arcP
Ts0 f136 targetWindow NEW #txt
Ts0 f136 targetDisplay TOP #txt
Ts0 f136 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.ErrorDialog #txt
Ts0 f136 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f136 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f136 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f136 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f136 requestActionCode 'param.error = new java.lang.Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskFailed").toString() + in.selectedTask.getIdentifier(),
	in.exception);

ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskFailed").toString() + in.selectedTask.getIdentifier(), 
	in.exception);' #txt
Ts0 f136 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f136 responseMappingAction 'out=in;
' #txt
Ts0 f136 windowConfiguration '#Mon Apr 27 00:09:36 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f136 isAsynch false #txt
Ts0 f136 isInnerRd true #txt
Ts0 f136 isDialog true #txt
Ts0 f136 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show
error dialog</name>
        <nameStyle>17,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f136 1278 940 36 24 20 -2 #rect
Ts0 f136 @|RichDialogIcon #fIcon
Ts0 f227 expr in #txt
Ts0 f227 1230 912 1296 940 #arcP
Ts0 f227 1 1296 912 #addKink
Ts0 f227 0 0.7253141469135801 0 0 #arcLabel
Ts0 f228 expr out #txt
Ts0 f228 1296 964 1228 996 #arcP
Ts0 f228 1 1296 976 #addKink
Ts0 f228 1 0.31722231981890764 0 0 #arcLabel
Ts0 f230 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f230 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f230 418 1378 28 28 14 -16 #rect
Ts0 f230 @|AlternativeIcon #fIcon
Ts0 f231 expr out #txt
Ts0 f231 432 1356 432 1378 #arcP
Ts0 f164 expr in #txt
Ts0 f164 outCond 'in.#exception == null' #txt
Ts0 f164 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f164 432 1406 432 1523 #arcP
Ts0 f232 targetWindow NEW #txt
Ts0 f232 targetDisplay TOP #txt
Ts0 f232 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.ErrorDialog #txt
Ts0 f232 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f232 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f232 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f232 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f232 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);


ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f232 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f232 responseMappingAction 'out=in;
' #txt
Ts0 f232 windowConfiguration '#Mon Apr 27 00:22:37 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f232 isAsynch false #txt
Ts0 f232 isInnerRd true #txt
Ts0 f232 isDialog true #txt
Ts0 f232 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f232 486 1420 36 24 20 -2 #rect
Ts0 f232 @|RichDialogIcon #fIcon
Ts0 f233 expr in #txt
Ts0 f233 446 1392 504 1420 #arcP
Ts0 f233 1 504 1392 #addKink
Ts0 f233 0 0.7414335424923689 0 0 #arcLabel
Ts0 f234 expr out #txt
Ts0 f234 504 1444 445 1536 #arcP
Ts0 f234 1 504 1536 #addKink
Ts0 f234 0 0.5582356547776101 0 0 #arcLabel
Ts0 f235 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f235 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f235 682 1378 28 28 14 0 #rect
Ts0 f235 @|AlternativeIcon #fIcon
Ts0 f236 expr out #txt
Ts0 f236 696 1356 696 1378 #arcP
Ts0 f236 0 0.5906754678307391 0 0 #arcLabel
Ts0 f200 expr in #txt
Ts0 f200 outCond 'in.#exception == null' #txt
Ts0 f200 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f200 696 1406 445 1536 #arcP
Ts0 f200 1 696 1536 #addKink
Ts0 f200 1 0.365450428998305 0 0 #arcLabel
Ts0 f237 targetWindow NEW #txt
Ts0 f237 targetDisplay TOP #txt
Ts0 f237 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.ErrorDialog #txt
Ts0 f237 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f237 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f237 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f237 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f237 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f237 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f237 responseMappingAction 'out=in;
' #txt
Ts0 f237 windowConfiguration '#Mon Apr 27 00:25:43 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f237 isAsynch false #txt
Ts0 f237 isInnerRd true #txt
Ts0 f237 isDialog true #txt
Ts0 f237 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f237 742 1436 36 24 20 -2 #rect
Ts0 f237 @|RichDialogIcon #fIcon
Ts0 f238 expr in #txt
Ts0 f238 710 1392 760 1436 #arcP
Ts0 f238 1 760 1392 #addKink
Ts0 f238 0 0.9020113168155675 0 0 #arcLabel
Ts0 f239 expr out #txt
Ts0 f239 760 1460 445 1536 #arcP
Ts0 f239 1 760 1536 #addKink
Ts0 f239 1 0.4233140623957903 0 0 #arcLabel
Ts0 f240 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f240 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f240 954 1426 28 28 14 0 #rect
Ts0 f240 @|AlternativeIcon #fIcon
Ts0 f241 expr out #txt
Ts0 f241 968 1404 968 1426 #arcP
Ts0 f193 expr in #txt
Ts0 f193 outCond 'in.#exception == null' #txt
Ts0 f193 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f193 968 1454 968 1523 #arcP
Ts0 f242 targetWindow NEW #txt
Ts0 f242 targetDisplay TOP #txt
Ts0 f242 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.ErrorDialog #txt
Ts0 f242 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f242 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f242 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f242 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f242 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/resetTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/resetTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f242 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f242 responseMappingAction 'out=in;
' #txt
Ts0 f242 windowConfiguration '#Mon Apr 27 00:28:39 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f242 isAsynch false #txt
Ts0 f242 isInnerRd true #txt
Ts0 f242 isDialog true #txt
Ts0 f242 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f242 1014 1460 36 24 20 -2 #rect
Ts0 f242 @|RichDialogIcon #fIcon
Ts0 f243 expr in #txt
Ts0 f243 977 1445 1014 1463 #arcP
Ts0 f244 expr out #txt
Ts0 f244 1032 1484 981 1536 #arcP
Ts0 f244 1 1032 1536 #addKink
Ts0 f244 1 0.022674115514358446 0 0 #arcLabel
Ts0 f245 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f245 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f245 1210 1426 28 28 14 0 #rect
Ts0 f245 @|AlternativeIcon #fIcon
Ts0 f246 expr out #txt
Ts0 f246 1224 1412 1224 1426 #arcP
Ts0 f246 0 0.2789269004312667 0 0 #arcLabel
Ts0 f247 expr in #txt
Ts0 f247 outCond 'in.#exception == null' #txt
Ts0 f247 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f247 1224 1454 981 1536 #arcP
Ts0 f247 1 1224 1536 #addKink
Ts0 f247 1 0.3104047977233754 0 0 #arcLabel
Ts0 f165 targetWindow NEW #txt
Ts0 f165 targetDisplay TOP #txt
Ts0 f165 richDialogId ch.ivyteam.ivy.richdialog.common.dialogs.ErrorDialog #txt
Ts0 f165 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f165 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f165 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f165 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f165 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f165 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f165 responseMappingAction 'out=in;
' #txt
Ts0 f165 windowConfiguration '#Mon Apr 27 00:30:51 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f165 isAsynch false #txt
Ts0 f165 isInnerRd true #txt
Ts0 f165 isDialog true #txt
Ts0 f165 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f165 1254 1484 36 24 20 -2 #rect
Ts0 f165 @|RichDialogIcon #fIcon
Ts0 f248 expr in #txt
Ts0 f248 1230 1448 1262 1484 #arcP
Ts0 f249 expr out #txt
Ts0 f249 1272 1508 981 1536 #arcP
Ts0 f249 1 1272 1536 #addKink
Ts0 f249 1 0.4280023872839779 0 0 #arcLabel
>Proto Ts0 .type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
>Proto Ts0 .processKind RICH_DIALOG #txt
>Proto Ts0 .ui2RdDataAction 'out.findTaskCriteriaResultCount=(panel.returnAllFoundTasksCheckBox.isSelected()? -1: panel.countTextField.text.toNumber());
out.findTaskCriteriaBusinessCreator=panel.businessCreatorTextField.text;
out.findTaskCriteriaBusinessMainContact=panel.businessMainContactTextField.text;
out.findTaskCriteriaTaskActivator=panel.taskActivatorTextField.text;
out.nameCriteria=panel.taskNameOrCaseNameCriteriaTextField.text;
out.findTaskCriteriaTaskStage=panel.taskStageTextField.text;
' #txt
>Proto Ts0 .rdData2UIAction 'panel.delegateTaskButton.visible=in.runningTaskMode;
panel.delegateTaskMenuItem.visible=in.runningTaskMode;
panel.destroyTaskButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode;
panel.destroyTaskMenuItem.visible=in.runningTaskMode;
panel.footerLabel.text=in.footerMessage;
panel.parkTaskButton.visible=in.runningTaskMode;
panel.parkTaskMenuItem.visible=in.runningTaskMode;
panel.resetTaskButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode;
panel.resetTaskMenuItem.visible=in.runningTaskMode;
panel.setTaskBlockingDelayDateButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode;
panel.setTaskBlockingDelayDateMenuItem.visible=in.runningTaskMode;
panel.setTaskExpiryDateButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode;
panel.setTaskExpiryDateMenuItem.visible=in.runningTaskMode;
panel.startTaskButton.visible=in.runningTaskMode;
panel.startTaskOnSiblingTabMenuItem.visible=in.runningTaskMode;
panel.startTaskUnderThisTabMenuItem.visible=in.runningTaskMode;
panel.taskPrioritiesList.listData=in.taskPrioritiesList;
panel.tasksTable.listData=in.filteredTasks;
panel.taskStatesList.listData=in.taskStatesList;
' #txt
>Proto Ts0 -8 -8 16 16 16 26 #rect
>Proto Ts0 '' #fIcon
Ts0 f17 mainOut f16 tail #connect
Ts0 f16 head f15 mainIn #connect
Ts0 f25 mainOut f38 tail #connect
Ts0 f38 head f30 mainIn #connect
Ts0 f33 mainOut f57 tail #connect
Ts0 f57 head f12 in #connect
Ts0 f20 mainOut f61 tail #connect
Ts0 f61 head f59 mainIn #connect
Ts0 f65 mainOut f64 tail #connect
Ts0 f64 head f37 mainIn #connect
Ts0 f28 mainOut f68 tail #connect
Ts0 f68 head f67 in #connect
Ts0 f80 head f79 mainIn #connect
Ts0 f79 mainOut f71 tail #connect
Ts0 f71 head f29 mainIn #connect
Ts0 f85 head f84 mainIn #connect
Ts0 f84 mainOut f83 tail #connect
Ts0 f83 head f29 mainIn #connect
Ts0 f22 mainOut f44 tail #connect
Ts0 f44 head f40 in #connect
Ts0 f34 mainOut f63 tail #connect
Ts0 f63 head f36 mainIn #connect
Ts0 f58 head f36 mainIn #connect
Ts0 f12 out f102 tail #connect
Ts0 f102 head f101 mainIn #connect
Ts0 f12 out f58 tail #connect
Ts0 f92 mainOut f94 tail #connect
Ts0 f94 head f12 in #connect
Ts0 f99 mainOut f95 tail #connect
Ts0 f95 head f67 in #connect
Ts0 f67 out f104 tail #connect
Ts0 f104 head f103 mainIn #connect
Ts0 f67 out f80 tail #connect
Ts0 f103 mainOut f82 tail #connect
Ts0 f82 head f81 in #connect
Ts0 f105 mainOut f70 tail #connect
Ts0 f70 head f29 mainIn #connect
Ts0 f32 out f72 tail #connect
Ts0 f72 head f105 mainIn #connect
Ts0 f81 out f74 tail #connect
Ts0 f74 head f73 mainIn #connect
Ts0 f81 out f85 tail #connect
Ts0 f73 mainOut f69 tail #connect
Ts0 f69 head f32 in #connect
Ts0 f32 out f75 tail #connect
Ts0 f75 head f29 mainIn #connect
Ts0 f101 mainOut f97 tail #connect
Ts0 f97 head f96 mainIn #connect
Ts0 f96 mainOut f106 tail #connect
Ts0 f106 head f100 in #connect
Ts0 f100 out f62 tail #connect
Ts0 f62 head f34 mainIn #connect
Ts0 f100 out f120 tail #connect
Ts0 f120 head f36 mainIn #connect
Ts0 f6 mainOut f122 tail #connect
Ts0 f122 head f121 in #connect
Ts0 f125 head f124 mainIn #connect
Ts0 f41 mainOut f129 tail #connect
Ts0 f129 head f128 in #connect
Ts0 f128 out f24 tail #connect
Ts0 f24 head f2 mainIn #connect
Ts0 f132 head f131 mainIn #connect
Ts0 f131 mainOut f46 tail #connect
Ts0 f46 head f23 mainIn #connect
Ts0 f128 out f134 tail #connect
Ts0 f134 head f133 mainIn #connect
Ts0 f133 mainOut f130 tail #connect
Ts0 f130 head f23 mainIn #connect
Ts0 f13 mainOut f53 tail #connect
Ts0 f53 head f15 mainIn #connect
Ts0 f137 mainOut f140 tail #connect
Ts0 f140 head f4 mainIn #connect
Ts0 f3 mainOut f141 tail #connect
Ts0 f141 head f90 mainIn #connect
Ts0 f90 mainOut f93 tail #connect
Ts0 f93 head f137 mainIn #connect
Ts0 f15 mainOut f91 tail #connect
Ts0 f91 head f137 mainIn #connect
Ts0 f124 mainOut f8 tail #connect
Ts0 f8 head f4 mainIn #connect
Ts0 f0 mainOut f87 tail #connect
Ts0 f87 head f21 mainIn #connect
Ts0 f135 mainOut f150 tail #connect
Ts0 f150 head f119 mainIn #connect
Ts0 f119 mainOut f149 tail #connect
Ts0 f149 head f37 mainIn #connect
Ts0 f151 mainOut f155 tail #connect
Ts0 f155 head f154 mainIn #connect
Ts0 f154 mainOut f153 tail #connect
Ts0 f153 head f152 mainIn #connect
Ts0 f40 out f158 tail #connect
Ts0 f158 head f157 in #connect
Ts0 f40 out f132 tail #connect
Ts0 f157 out f43 tail #connect
Ts0 f43 head f41 mainIn #connect
Ts0 f157 out f159 tail #connect
Ts0 f159 head f156 mainIn #connect
Ts0 f156 mainOut f160 tail #connect
Ts0 f160 head f23 mainIn #connect
Ts0 f167 mainOut f170 tail #connect
Ts0 f170 head f169 in #connect
Ts0 f169 out f172 tail #connect
Ts0 f172 head f171 mainIn #connect
Ts0 f169 out f173 tail #connect
Ts0 f173 head f163 mainIn #connect
Ts0 f161 mainOut f175 tail #connect
Ts0 f175 head f174 in #connect
Ts0 f176 head f163 mainIn #connect
Ts0 f162 mainOut f178 tail #connect
Ts0 f178 head f177 in #connect
Ts0 f179 mainOut f182 tail #connect
Ts0 f182 head f181 in #connect
Ts0 f181 out f184 tail #connect
Ts0 f184 head f183 mainIn #connect
Ts0 f174 out f188 tail #connect
Ts0 f188 head f187 mainIn #connect
Ts0 f174 out f176 tail #connect
Ts0 f187 mainOut f168 tail #connect
Ts0 f168 head f167 mainIn #connect
Ts0 f177 out f190 tail #connect
Ts0 f190 head f189 mainIn #connect
Ts0 f189 mainOut f180 tail #connect
Ts0 f180 head f179 mainIn #connect
Ts0 f191 mainOut f195 tail #connect
Ts0 f195 head f194 in #connect
Ts0 f198 head f192 mainIn #connect
Ts0 f181 out f166 tail #connect
Ts0 f166 head f163 mainIn #connect
Ts0 f177 out f186 tail #connect
Ts0 f186 head f163 mainIn #connect
Ts0 f199 mainOut f201 tail #connect
Ts0 f201 head f185 in #connect
Ts0 f204 head f192 mainIn #connect
Ts0 f49 mainOut f206 tail #connect
Ts0 f206 head f205 mainIn #connect
Ts0 f205 mainOut f86 tail #connect
Ts0 f86 head f1 mainIn #connect
Ts0 f60 mainOut f209 tail #connect
Ts0 f209 head f208 mainIn #connect
Ts0 f121 out f5 tail #connect
Ts0 f5 head f17 mainIn #connect
Ts0 f121 out f125 tail #connect
Ts0 f7 mainOut f14 tail #connect
Ts0 f14 head f4 mainIn #connect
Ts0 f39 mainOut f98 tail #connect
Ts0 f98 head f89 mainIn #connect
Ts0 f89 mainOut f47 tail #connect
Ts0 f47 head f1 mainIn #connect
Ts0 f113 mainOut f114 tail #connect
Ts0 f114 head f21 mainIn #connect
Ts0 f9 mainOut f52 tail #connect
Ts0 f52 head f50 mainIn #connect
Ts0 f21 mainOut f88 tail #connect
Ts0 f88 head f56 in #connect
Ts0 f56 out f110 tail #connect
Ts0 f110 head f49 mainIn #connect
Ts0 f51 mainOut f115 tail #connect
Ts0 f115 head f56 in #connect
Ts0 f11 mainOut f10 tail #connect
Ts0 f10 head f56 in #connect
Ts0 f42 mainOut f18 tail #connect
Ts0 f18 head f56 in #connect
Ts0 f111 mainOut f48 tail #connect
Ts0 f48 head f56 in #connect
Ts0 f45 mainOut f54 tail #connect
Ts0 f54 head f56 in #connect
Ts0 f56 out f116 tail #connect
Ts0 f116 head f55 mainIn #connect
Ts0 f55 mainOut f112 tail #connect
Ts0 f112 head f205 mainIn #connect
Ts0 f56 out f117 tail #connect
Ts0 f117 head f1 mainIn #connect
Ts0 f123 out f139 tail #connect
Ts0 f139 head f202 mainIn #connect
Ts0 f123 out f142 tail #connect
Ts0 f142 head f192 mainIn #connect
Ts0 f143 out f145 tail #connect
Ts0 f145 head f196 mainIn #connect
Ts0 f143 out f146 tail #connect
Ts0 f146 head f192 mainIn #connect
Ts0 f147 mainOut f144 tail #connect
Ts0 f144 head f143 in #connect
Ts0 f197 mainOut f138 tail #connect
Ts0 f138 head f123 in #connect
Ts0 f76 mainOut f210 tail #connect
Ts0 f210 head f207 mainIn #connect
Ts0 f126 mainOut f211 tail #connect
Ts0 f211 head f207 mainIn #connect
Ts0 f207 mainOut f212 tail #connect
Ts0 f212 head f127 mainIn #connect
Ts0 f194 out f215 tail #connect
Ts0 f215 head f214 mainIn #connect
Ts0 f194 out f198 tail #connect
Ts0 f214 mainOut f213 tail #connect
Ts0 f213 head f78 mainIn #connect
Ts0 f78 mainOut f217 tail #connect
Ts0 f217 head f216 in #connect
Ts0 f216 out f148 tail #connect
Ts0 f148 head f147 mainIn #connect
Ts0 f216 out f218 tail #connect
Ts0 f218 head f192 mainIn #connect
Ts0 f185 out f220 tail #connect
Ts0 f220 head f219 mainIn #connect
Ts0 f185 out f204 tail #connect
Ts0 f219 mainOut f222 tail #connect
Ts0 f222 head f221 mainIn #connect
Ts0 f221 mainOut f224 tail #connect
Ts0 f224 head f223 in #connect
Ts0 f223 out f203 tail #connect
Ts0 f203 head f197 mainIn #connect
Ts0 f223 out f225 tail #connect
Ts0 f225 head f192 mainIn #connect
Ts0 f226 mainOut f229 tail #connect
Ts0 f229 head f65 mainIn #connect
Ts0 f30 mainOut f31 tail #connect
Ts0 f31 head f19 in #connect
Ts0 f19 out f27 tail #connect
Ts0 f27 head f26 mainIn #connect
Ts0 f19 out f66 tail #connect
Ts0 f66 head f35 mainIn #connect
Ts0 f35 mainOut f107 tail #connect
Ts0 f107 head f26 mainIn #connect
Ts0 f2 mainOut f109 tail #connect
Ts0 f109 head f108 in #connect
Ts0 f108 out f118 tail #connect
Ts0 f118 head f23 mainIn #connect
Ts0 f108 out f227 tail #connect
Ts0 f227 head f136 mainIn #connect
Ts0 f136 mainOut f228 tail #connect
Ts0 f228 head f23 mainIn #connect
Ts0 f171 mainOut f231 tail #connect
Ts0 f231 head f230 in #connect
Ts0 f230 out f164 tail #connect
Ts0 f164 head f163 mainIn #connect
Ts0 f230 out f233 tail #connect
Ts0 f233 head f232 mainIn #connect
Ts0 f232 mainOut f234 tail #connect
Ts0 f234 head f163 mainIn #connect
Ts0 f183 mainOut f236 tail #connect
Ts0 f236 head f235 in #connect
Ts0 f235 out f200 tail #connect
Ts0 f200 head f163 mainIn #connect
Ts0 f235 out f238 tail #connect
Ts0 f238 head f237 mainIn #connect
Ts0 f237 mainOut f239 tail #connect
Ts0 f239 head f163 mainIn #connect
Ts0 f196 mainOut f241 tail #connect
Ts0 f241 head f240 in #connect
Ts0 f240 out f193 tail #connect
Ts0 f193 head f192 mainIn #connect
Ts0 f240 out f243 tail #connect
Ts0 f243 head f242 mainIn #connect
Ts0 f242 mainOut f244 tail #connect
Ts0 f244 head f192 mainIn #connect
Ts0 f202 mainOut f246 tail #connect
Ts0 f246 head f245 in #connect
Ts0 f245 out f247 tail #connect
Ts0 f247 head f192 mainIn #connect
Ts0 f245 out f248 tail #connect
Ts0 f248 head f165 mainIn #connect
Ts0 f165 mainOut f249 tail #connect
Ts0 f249 head f192 mainIn #connect
