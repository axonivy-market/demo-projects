[Ivy]
[>Created: Mon Apr 02 14:21:42 CEST 2012]
1168625F1BC1155F 3.17 #module
>Proto >Proto Collection #zClass
Ts0 TaskDisplayListProcess Big #zClass
Ts0 RD #cInfo
Ts0 #process
Ts0 @TextInP .xml .xml #zField
Ts0 @TextInP .responsibility .responsibility #zField
Ts0 @TextInP .resExport .resExport #zField
Ts0 @TextInP .type .type #zField
Ts0 @TextInP .processKind .processKind #zField
Ts0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Ts0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Ts0 @AnnotationInP-0n ai ai #zField
Ts0 @MessageFlowInP-0n messageIn messageIn #zField
Ts0 @MessageFlowOutP-0n messageOut messageOut #zField
Ts0 @RichDialogInitStart f0 '' #zField
Ts0 @RichDialogProcessEnd f1 '' #zField
Ts0 @RichDialogProcessStart f11 '' #zField
Ts0 @RichDialogProcessStart f28 '' #zField
Ts0 @RichDialogProcessEnd f29 '' #zField
Ts0 @RichDialogProcessStart f33 '' #zField
Ts0 @RichDialogProcessEnd f36 '' #zField
Ts0 @RichDialogProcessStart f22 '' #zField
Ts0 @RichDialogProcessEnd f23 '' #zField
Ts0 @RichDialogProcessStart f25 '' #zField
Ts0 @RichDialogProcessEnd f26 '' #zField
Ts0 @RichDialogProcessStep f30 '' #zField
Ts0 @RichDialog f41 '' #zField
Ts0 @RichDialogProcessStep f49 '' #zField
Ts0 @Alternative f12 '' #zField
Ts0 @PushWFArc f57 '' #zField
Ts0 @RichDialogProcessStep f21 '' #zField
Ts0 @RichDialogMethodStart f20 '' #zField
Ts0 @RichDialogProcessEnd f59 '' #zField
Ts0 @PushWFArc f61 '' #zField
Ts0 @RichDialogProcessEnd f37 '' #zField
Ts0 @RichDialogProcessStep f65 '' #zField
Ts0 @Alternative f67 '' #zField
Ts0 @RichDialogMethodStart f76 '' #zField
Ts0 @RichDialogProcessStep f79 '' #zField
Ts0 @PushWFArc f80 '' #zField
Ts0 @PushWFArc f71 '' #zField
Ts0 @Alternative f81 '' #zField
Ts0 @RichDialogProcessStep f84 '' #zField
Ts0 @PushWFArc f83 '' #zField
Ts0 @RichDialogProcessStep f2 '' #zField
Ts0 @RichDialog f34 '' #zField
Ts0 @PushWFArc f63 '' #zField
Ts0 @PushWFArc f58 '' #zField
Ts0 @RichDialogProcessStart f92 '' #zField
Ts0 @RichDialogProcessStart f99 '' #zField
Ts0 @RichDialogProcessStep f101 '' #zField
Ts0 @PushWFArc f102 '' #zField
Ts0 @PushWFArc f94 '' #zField
Ts0 @RichDialogProcessStep f103 '' #zField
Ts0 @PushWFArc f104 '' #zField
Ts0 @PushWFArc f82 '' #zField
Ts0 @RichDialog f105 '' #zField
Ts0 @PushWFArc f70 '' #zField
Ts0 @Alternative f32 '' #zField
Ts0 @RichDialogProcessStep f73 '' #zField
Ts0 @PushWFArc f74 '' #zField
Ts0 @PushWFArc f69 '' #zField
Ts0 @RichDialogProcessStep f96 '' #zField
Ts0 @Alternative f100 '' #zField
Ts0 @PushWFArc f106 '' #zField
Ts0 @PushWFArc f120 '' #zField
Ts0 @RichDialogProcessStart f126 '' #zField
Ts0 @Alternative f128 '' #zField
Ts0 @PushWFArc f129 '' #zField
Ts0 @PushWFArc f24 '' #zField
Ts0 @RichDialogBroadcastStart f135 '' #zField
Ts0 @PushWFArc f87 '' #zField
Ts0 @RichDialogProcessStep f119 '' #zField
Ts0 @PushWFArc f150 '' #zField
Ts0 @PushWFArc f149 '' #zField
Ts0 @RichDialogProcessStart f151 '' #zField
Ts0 @RichDialogProcessEnd f152 '' #zField
Ts0 @RichDialogProcessStep f154 '' #zField
Ts0 @PushWFArc f155 '' #zField
Ts0 @PushWFArc f153 '' #zField
Ts0 @RichDialogProcessStart f161 '' #zField
Ts0 @RichDialogProcessStart f162 '' #zField
Ts0 @RichDialogProcessEnd f163 '' #zField
Ts0 @RichDialog f167 '' #zField
Ts0 @Alternative f169 '' #zField
Ts0 @PushWFArc f170 '' #zField
Ts0 @RichDialogProcessStep f171 '' #zField
Ts0 @PushWFArc f172 '' #zField
Ts0 @PushWFArc f173 '' #zField
Ts0 @Alternative f174 '' #zField
Ts0 @PushWFArc f176 '' #zField
Ts0 @Alternative f177 '' #zField
Ts0 @RichDialog f179 '' #zField
Ts0 @Alternative f181 '' #zField
Ts0 @PushWFArc f182 '' #zField
Ts0 @RichDialogProcessStep f183 '' #zField
Ts0 @PushWFArc f184 '' #zField
Ts0 @RichDialogProcessStart f191 '' #zField
Ts0 @RichDialogProcessEnd f192 '' #zField
Ts0 @Alternative f194 '' #zField
Ts0 @RichDialogProcessStep f196 '' #zField
Ts0 @PushWFArc f198 '' #zField
Ts0 @RichDialogProcessStart f199 '' #zField
Ts0 @PushWFArc f166 '' #zField
Ts0 @PushWFArc f186 '' #zField
Ts0 @Alternative f185 '' #zField
Ts0 @RichDialogProcessStep f202 '' #zField
Ts0 @PushWFArc f204 '' #zField
Ts0 @RichDialogProcessStep f205 '' #zField
Ts0 @PushWFArc f206 '' #zField
Ts0 @PushWFArc f86 '' #zField
Ts0 @RichDialogProcessStart f60 '' #zField
Ts0 @RichDialogProcessEnd f208 '' #zField
Ts0 @PushWFArc f209 '' #zField
Ts0 @RichDialogProcessStart f39 '' #zField
Ts0 @RichDialogProcessStep f89 '' #zField
Ts0 @PushWFArc f98 '' #zField
Ts0 @RichDialogMethodStart f111 '' #zField
Ts0 @RichDialogInitStart f113 '' #zField
Ts0 @PushWFArc f114 '' #zField
Ts0 @RichDialogMethodStart f9 '' #zField
Ts0 @RichDialogProcessEnd f50 '' #zField
Ts0 @PushWFArc f52 '' #zField
Ts0 @Alternative f56 '' #zField
Ts0 @PushWFArc f88 '' #zField
Ts0 @PushWFArc f110 '' #zField
Ts0 @PushWFArc f10 '' #zField
Ts0 @PushWFArc f48 '' #zField
Ts0 @RichDialogMethodStart f45 '' #zField
Ts0 @PushWFArc f54 '' #zField
Ts0 @RichDialogProcessStep f55 '' #zField
Ts0 @PushWFArc f116 '' #zField
Ts0 @PushWFArc f112 '' #zField
Ts0 @PushWFArc f117 '' #zField
Ts0 @RichDialogFireEvent f207 '' #zField
Ts0 @RichDialogProcessEnd f127 '' #zField
Ts0 @PushWFArc f212 '' #zField
Ts0 @RichDialog f78 '' #zField
Ts0 @Alternative f216 '' #zField
Ts0 @PushWFArc f217 '' #zField
Ts0 @PushWFArc f218 '' #zField
Ts0 @RichDialog f221 '' #zField
Ts0 @Alternative f223 '' #zField
Ts0 @PushWFArc f224 '' #zField
Ts0 @PushWFArc f225 '' #zField
Ts0 @RichDialogBroadcastStart f226 '' #zField
Ts0 @PushWFArc f229 '' #zField
Ts0 @Alternative f19 '' #zField
Ts0 @PushWFArc f31 '' #zField
Ts0 @PushWFArc f27 '' #zField
Ts0 @RichDialog f35 '' #zField
Ts0 @PushWFArc f66 '' #zField
Ts0 @PushWFArc f107 '' #zField
Ts0 @Alternative f108 '' #zField
Ts0 @PushWFArc f109 '' #zField
Ts0 @PushWFArc f118 '' #zField
Ts0 @RichDialog f136 '' #zField
Ts0 @PushWFArc f227 '' #zField
Ts0 @PushWFArc f228 '' #zField
Ts0 @Alternative f230 '' #zField
Ts0 @PushWFArc f231 '' #zField
Ts0 @PushWFArc f164 '' #zField
Ts0 @RichDialog f232 '' #zField
Ts0 @PushWFArc f233 '' #zField
Ts0 @PushWFArc f234 '' #zField
Ts0 @Alternative f235 '' #zField
Ts0 @PushWFArc f236 '' #zField
Ts0 @PushWFArc f200 '' #zField
Ts0 @RichDialog f237 '' #zField
Ts0 @PushWFArc f238 '' #zField
Ts0 @PushWFArc f239 '' #zField
Ts0 @Alternative f240 '' #zField
Ts0 @PushWFArc f241 '' #zField
Ts0 @PushWFArc f193 '' #zField
Ts0 @RichDialog f242 '' #zField
Ts0 @PushWFArc f243 '' #zField
Ts0 @PushWFArc f244 '' #zField
Ts0 @Alternative f245 '' #zField
Ts0 @PushWFArc f246 '' #zField
Ts0 @PushWFArc f247 '' #zField
Ts0 @RichDialog f165 '' #zField
Ts0 @PushWFArc f248 '' #zField
Ts0 @PushWFArc f249 '' #zField
Ts0 @RichDialog f251 '' #zField
Ts0 @Alternative f253 '' #zField
Ts0 @PushWFArc f72 '' #zField
Ts0 @Alternative f3 '' #zField
Ts0 @RichDialogProcessStep f5 '' #zField
Ts0 @PushWFArc f8 '' #zField
Ts0 @Alternative f13 '' #zField
Ts0 @PushWFArc f14 '' #zField
Ts0 @RichDialog f17 '' #zField
Ts0 @Alternative f77 '' #zField
Ts0 @PushWFArc f90 '' #zField
Ts0 @RichDialogProcessStep f91 '' #zField
Ts0 @PushWFArc f93 '' #zField
Ts0 @RichDialogProcessStep f121 '' #zField
Ts0 @PushWFArc f122 '' #zField
Ts0 @PushWFArc f124 '' #zField
Ts0 @RichDialogProcessStep f125 '' #zField
Ts0 @Alternative f141 '' #zField
Ts0 @PushWFArc f210 '' #zField
Ts0 @PushWFArc f53 '' #zField
Ts0 @PushWFArc f211 '' #zField
Ts0 @PushWFArc f16 '' #zField
Ts0 @RichDialogProcessStep f15 '' #zField
Ts0 @PushWFArc f258 '' #zField
Ts0 @PushWFArc f262 '' #zField
Ts0 @RichDialogProcessStart f254 '' #zField
Ts0 @RichDialogProcessEnd f266 '' #zField
Ts0 @Alternative f267 '' #zField
Ts0 @PushWFArc f269 '' #zField
Ts0 @RichDialogProcessStep f68 '' #zField
Ts0 @PushWFArc f272 '' #zField
Ts0 @PushWFArc f263 '' #zField
Ts0 @RichDialogProcessStep f264 '' #zField
Ts0 @Alternative f270 '' #zField
Ts0 @PushWFArc f273 '' #zField
Ts0 @PushWFArc f64 '' #zField
Ts0 @PushWFArc f265 '' #zField
Ts0 @PushWFArc f268 '' #zField
Ts0 @PushWFArc f95 '' #zField
Ts0 @RichDialogProcessStep f75 '' #zField
Ts0 @PushWFArc f276 '' #zField
Ts0 @PushWFArc f275 '' #zField
Ts0 @RichDialogProcessStep f279 '' #zField
Ts0 @PushWFArc f280 '' #zField
Ts0 @PushWFArc f62 '' #zField
Ts0 @RichDialogProcessStart f281 '' #zField
Ts0 @Alternative f282 '' #zField
Ts0 @PushWFArc f285 '' #zField
Ts0 @PushWFArc f284 '' #zField
Ts0 @RichDialogMethodStart f287 '' #zField
Ts0 @RichDialogProcessEnd f288 '' #zField
Ts0 @RichDialogProcessStep f291 '' #zField
Ts0 @PushWFArc f292 '' #zField
Ts0 @PushWFArc f290 '' #zField
Ts0 @RichDialogFireEvent f293 '' #zField
Ts0 @PushWFArc f274 '' #zField
Ts0 @Alternative f295 '' #zField
Ts0 @PushWFArc f296 '' #zField
Ts0 @PushWFArc f297 '' #zField
Ts0 @RichDialogProcessEnd f289 '' #zField
Ts0 @RichDialogMethodStart f278 '' #zField
Ts0 @RichDialogProcessStep f299 '' #zField
Ts0 @PushWFArc f300 '' #zField
Ts0 @PushWFArc f298 '' #zField
Ts0 @PushWFArc f303 '' #zField
Ts0 @PushWFArc f302 '' #zField
Ts0 @RichDialogProcessStep f305 '' #zField
Ts0 @PushWFArc f306 '' #zField
Ts0 @PushWFArc f304 '' #zField
Ts0 @PushWFArc f137 '' #zField
Ts0 @PushWFArc f4 '' #zField
Ts0 @RichDialogProcessEnd f7 '' #zField
Ts0 @PushWFArc f140 '' #zField
Ts0 @RichDialogProcessStep f6 '' #zField
Ts0 @PushWFArc f47 '' #zField
Ts0 @PushWFArc f294 '' #zField
Ts0 @PushWFArc f261 '' #zField
Ts0 @Alternative f252 '' #zField
Ts0 @PushWFArc f256 '' #zField
Ts0 @PushWFArc f257 '' #zField
Ts0 @RichDialogProcessStep f301 '' #zField
Ts0 @PushWFArc f311 '' #zField
Ts0 @PushWFArc f271 '' #zField
Ts0 @PushWFArc f307 '' #zField
Ts0 @Alternative f18 '' #zField
Ts0 @PushWFArc f42 '' #zField
Ts0 @PushWFArc f51 '' #zField
Ts0 @PushWFArc f97 '' #zField
Ts0 @PushWFArc f85 '' #zField
Ts0 @RichDialogProcessStep f158 '' #zField
Ts0 @PushWFArc f159 '' #zField
Ts0 @PushWFArc f160 '' #zField
Ts0 @PushWFArc f175 '' #zField
Ts0 @PushWFArc f168 '' #zField
Ts0 @RichDialogProcessStep f187 '' #zField
Ts0 @PushWFArc f188 '' #zField
Ts0 @PushWFArc f178 '' #zField
Ts0 @RichDialogProcessStep f144 '' #zField
Ts0 @PushWFArc f147 '' #zField
Ts0 @PushWFArc f148 '' #zField
Ts0 @PushWFArc f189 '' #zField
Ts0 @PushWFArc f190 '' #zField
Ts0 @PushWFArc f143 '' #zField
Ts0 @PushWFArc f123 '' #zField
Ts0 @RichDialogProcessStep f138 '' #zField
Ts0 @PushWFArc f139 '' #zField
Ts0 @PushWFArc f142 '' #zField
Ts0 @RichDialogProcessStep f145 '' #zField
Ts0 @Alternative f146 '' #zField
Ts0 @PushWFArc f38 '' #zField
Ts0 @PushWFArc f195 '' #zField
Ts0 @PushWFArc f180 '' #zField
Ts0 @PushWFArc f197 '' #zField
Ts0 @Alternative f201 '' #zField
Ts0 @PushWFArc f203 '' #zField
Ts0 @RichDialogProcessEnd f214 '' #zField
Ts0 @PushWFArc f215 '' #zField
Ts0 @PushWFArc f213 '' #zField
Ts0 @RichDialogProcessStep f40 '' #zField
Ts0 @PushWFArc f44 '' #zField
Ts0 @Alternative f115 '' #zField
Ts0 @PushWFArc f131 '' #zField
Ts0 @PushWFArc f156 '' #zField
Ts0 @PushWFArc f219 '' #zField
Ts0 @PushWFArc f132 '' #zField
>Proto Ts0 Ts0 TaskDisplayListProcess #zField
Ts0 f0 guid 1168B153651C96FA #txt
Ts0 f0 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f0 method start() #txt
Ts0 f0 disableUIEvents false #txt
Ts0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f0 inParameterMapAction 'out.runningTaskMode=true;
out.taskDisplayMode=-1;
out.taskDisplayModeText="";
' #txt
Ts0 f0 outParameterDecl '<> result;
' #txt
Ts0 f0 embeddedRdInitializations '* ' #txt
Ts0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
        <nameStyle>7,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f0 70 78 20 20 13 0 #rect
Ts0 f0 @|RichDialogInitStartIcon #fIcon
Ts0 f1 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f1 67 459 26 26 14 0 #rect
Ts0 f1 @|RichDialogProcessEndIcon #fIcon
Ts0 f11 guid 1168CA38A597F980 #txt
Ts0 f11 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f11 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f11 actionTable 'out=in;
' #txt
Ts0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refreshTaskDisplayList</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f11 430 126 20 20 13 0 #rect
Ts0 f11 @|RichDialogProcessStartIcon #fIcon
Ts0 f28 guid 116A0E226E35360E #txt
Ts0 f28 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f28 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f28 actionTable 'out=in;
' #txt
Ts0 f28 actionCode '// define valid display
out.selectedTaskDisplayId = in.taskListChildrenDisplayId;' #txt
Ts0 f28 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startTaskUnderThisTab</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f28 2334 182 20 20 13 0 #rect
Ts0 f28 @|RichDialogProcessStartIcon #fIcon
Ts0 f29 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f29 2283 747 26 26 14 0 #rect
Ts0 f29 @|RichDialogProcessEndIcon #fIcon
Ts0 f33 guid 116A4E0E799A14D1 #txt
Ts0 f33 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f33 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f33 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListChildrenDisplayId;
' #txt
Ts0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>openTaskInformationUnderThisTab</name>
        <nameStyle>31,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f33 1830 206 20 20 13 0 #rect
Ts0 f33 @|RichDialogProcessStartIcon #fIcon
Ts0 f36 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f36 1827 707 26 26 14 0 #rect
Ts0 f36 @|RichDialogProcessEndIcon #fIcon
Ts0 f22 guid 116CE5EA710FB1B8 #txt
Ts0 f22 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f22 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f22 actionTable 'out=in;
out.securityMember=null;
' #txt
Ts0 f22 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegateTasks</name>
        <nameStyle>13,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f22 2830 326 20 20 13 0 #rect
Ts0 f22 @|RichDialogProcessStartIcon #fIcon
Ts0 f23 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f23 2827 747 26 26 14 0 #rect
Ts0 f23 @|RichDialogProcessEndIcon #fIcon
Ts0 f25 guid 116CE60D53BB777D #txt
Ts0 f25 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f25 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f25 actionTable 'out=in;
' #txt
Ts0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>parkTasks</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f25 2670 878 20 20 13 0 #rect
Ts0 f25 @|RichDialogProcessStartIcon #fIcon
Ts0 f26 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f26 2667 1355 26 26 14 0 #rect
Ts0 f26 @|RichDialogProcessEndIcon #fIcon
Ts0 f30 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f30 actionTable 'out=in;
' #txt
Ts0 f30 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import java.util.Iterator;
import ch.ivyteam.ivy.workflow.ITask;


Iterator tasksIterator;


// clear the current exception value
out.setException(null);

Number currentTaskIndexInTheSelectedList = -1; 

try
{
		tasksIterator = out.selectedTasks.iterator();
		
		while (tasksIterator.hasNext())
		{
	      // State of Task must be one of the following values CREATED, RESUMED but not SUSPENDED
				ITaskWrapper currentWfTaskWrapper = tasksIterator.next() as ITaskWrapper;
	      ITask currentTask = currentWfTaskWrapper.wfTask;
	
	      if (currentTask.getState().equals(ch.ivyteam.ivy.workflow.TaskState.CREATED) || 
	          currentTask.getState().equals( ch.ivyteam.ivy.workflow.TaskState.RESUMED))
	      {
							// park the task
	            ivy.session.parkTask(currentTask);
	
						// update the list of displayed tasks
						currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(currentWfTaskWrapper);
						out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);	
	      }			
		}// end while
	
}
catch (Exception ex)
{
	out.setException(ex);	
}' #txt
Ts0 f30 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>park selected tasks and 
fire the bcevent &quot;xivyTaskParked&quot;</name>
        <nameStyle>58,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f30 2662 1124 36 24 20 -2 #rect
Ts0 f30 @|RichDialogProcessStepIcon #fIcon
Ts0 f41 targetDisplay TOP #txt
Ts0 f41 richDialogId ch.ivyteam.ivy.workflow.ui.security.SecurityMemberSelect #txt
Ts0 f41 startMethod startAndChooseSecurityMember() #txt
Ts0 f41 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f41 requestActionDecl '<> param;' #txt
Ts0 f41 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f41 responseMappingAction 'out=in;
out.securityMember=result.aSecurityMember;
out.securityMemberSelected=result.aSecurityMemberSelected;
' #txt
Ts0 f41 windowConfiguration '{/title "<%=in.delegateTaskWindowTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f41 isAsynch false #txt
Ts0 f41 isInnerRd true #txt
Ts0 f41 isDialog true #txt
Ts0 f41 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load the Rich Dialog
and choose the security member</name>
        <nameStyle>51,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f41 2822 500 36 24 20 -2 #rect
Ts0 f41 @|RichDialogIcon #fIcon
Ts0 f49 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f49 actionTable 'out=in;
' #txt
Ts0 f49 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;

import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;
import ch.ivyteam.ivy.persistence.IQueryResult;
import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.PropertyOrder;
import ch.ivyteam.ivy.workflow.IPropertyFilter;
import java.util.Locale;



IQueryResult queryResult;
List<ITask> result = [];

List<PropertyOrder> order = [];
IPropertyFilter filter;
java.util.EnumSet states;
int startIndex;
int count;
Boolean returnAllCount;
int resultCount;
int allCount;



// setup order
order.add(new PropertyOrder(ch.ivyteam.ivy.workflow.TaskProperty.NAME));


// setup filter
filter = in.#originalPropertyFilter;


// states
states = null;


// results configuration
startIndex = 0;
count = -1;	// get all results
returnAllCount = true;

// find 
queryResult = WorkflowUIAccessPermissionHandler.findTasks(filter, order, startIndex, count, returnAllCount, in.runningTaskMode, in.taskDisplayMode);

// results
resultCount = queryResult.getResultCount(); // number of results returned
allCount = queryResult.getAllCount(); // number of all results found
result.addAll(queryResult.getResultList());


out.tasks.clear();
for (ITask wfTask: result)
{
	ITaskWrapper wfTaskWrapper = null;
	wfTaskWrapper.wfTask = wfTask;
	wfTaskWrapper.setBusinessMilestoneTimestamp(wfTask.getBusinessMilestoneTimestamp());
  wfTaskWrapper.setCaseBusinessMilestoneTimestamp(wfTask.getCase().getBusinessMilestoneTimestamp());
	wfTaskWrapper.setCaseBusinessStartTimestamp(wfTask.getCase().getBusinessStartTimestamp());
	wfTaskWrapper.setExpiryTimestamp(wfTask.getExpiryTimestamp());
	wfTaskWrapper.setStartTimestamp(wfTask.getStartTimestamp());	
	wfTaskWrapper.setDelayTimestamp(wfTask.getDelayTimestamp());
	
	wfTaskWrapper.priority = 3 - wfTask.getPriority().intValue();
	wfTaskWrapper.setState(wfTask.getState());
	
	out.tasks.add(wfTaskWrapper);
}


String task = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/task").toString();
String tasks = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/tasks").toString();
if (!Locale.GERMAN.getLanguage().equals(ivy.session.getContentLocale().getLanguage()))
{
	task = task.toLowerCase(ivy.session.getContentLocale());
	tasks = tasks.toLowerCase(ivy.session.getContentLocale());
}
// inform the user about the found result
out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/found") + " " + 
										in.tasks.size() + " " + 
										(in.tasks.size() == 1 ? task 
																					: tasks);
' #txt
Ts0 f49 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f49 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>find the tasks
according to the
recieved 
original property filter</name>
        <nameStyle>42,7,9
24,0,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f49 62 316 36 24 20 -2 #rect
Ts0 f49 @|RichDialogProcessStepIcon #fIcon
Ts0 f12 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f12 1826 266 28 28 14 0 #rect
Ts0 f12 @|AlternativeIcon #fIcon
Ts0 f57 expr out #txt
Ts0 f57 1840 226 1840 266 #arcP
Ts0 f21 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f21 actionTable 'out=in;
' #txt
Ts0 f21 actionCode 'import ch.ivyteam.ivy.event.SystemEventCategory;
import ch.ivyteam.ivy.workflow.ui.utils.UniqueDisplayIdFactory;
import ch.ivyteam.ivy.richdialog.widgets.displays.RCloseableTabbedDisplay;


out.taskListChildrenDisplayId = "xivyTaskDisplayId" + UniqueDisplayIdFactory.buildTaskListDisplayId();
panel.taskDisplayTabbedDisplay.displayId = out.taskListChildrenDisplayId;

out.hasPermissionDelegateTasks = ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.DELEGATE_TASKS);


// build the list of task states for find criteria
out.taskStatesList = [];
out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED);
out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.RESUMED);
out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.PARKED);

if (out.hasWfAdministratorPermissions)
{
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.CREATED);	
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.DELAYED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.DESTROYED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.DONE);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.FAILED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.JOIN_FAILED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.JOINING);
	// out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.PARKED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.READY_FOR_JOIN);
	// out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.RESUMED);
	// out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.UNASSIGNED);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.WAITING_FOR_INTERMEDIATE_EVENT);
	out.taskStatesList.add(ch.ivyteam.ivy.workflow.TaskState.ZOMBIE);
}



// build the list of task priorities
out.taskPrioritiesList = [];
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.EXCEPTION);
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.HIGH);
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.NORMAL);
out.taskPrioritiesList.add(ch.ivyteam.ivy.workflow.WorkflowPriority.LOW);



out.delegateTaskWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskShortDesc");



// register to System events of Workflow category
ivy.rd.subscribeToSystemEvents(SystemEventCategory.WORKFLOW);' #txt
Ts0 f21 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>build the unique display id
build the list of task states 
build the list of task priorities
define if should be wfAdministrator mode or not
define permissions
register System events of Workflow category</name>
        <nameStyle>203,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f21 62 140 36 24 20 -2 #rect
Ts0 f21 @|RichDialogProcessStepIcon #fIcon
Ts0 f20 guid 1189D75281BC256E #txt
Ts0 f20 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f20 method getDisplayId() #txt
Ts0 f20 disableUIEvents false #txt
Ts0 f20 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f20 outParameterDecl '<java.lang.String aDisplayId> result;
' #txt
Ts0 f20 outParameterMapAction 'result.aDisplayId=in.displayId;
' #txt
Ts0 f20 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getDisplayId()</name>
        <nameStyle>14,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f20 430 566 20 20 13 0 #rect
Ts0 f20 @|RichDialogMethodStartIcon #fIcon
Ts0 f59 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f59 427 747 26 26 14 0 #rect
Ts0 f59 @|RichDialogProcessEndIcon #fIcon
Ts0 f61 expr out #txt
Ts0 f61 440 586 440 747 #arcP
Ts0 f37 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f37 3683 139 26 26 14 0 #rect
Ts0 f37 @|RichDialogProcessEndIcon #fIcon
Ts0 f65 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f65 actionTable 'out=in;
' #txt
Ts0 f65 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.workflow.ITask;
import java.util.Iterator;

Iterator iterator;
ITaskWrapper currentWfTaskWrapper;
ITask currentTask;

Boolean found = false;
Number taskIndexInTheList = -1;


iterator = in.filteredTasks.iterator();

for (Number broadcastedTaskId: in.broadcastedTaskIdentifiers)
{
  found = false;

	while (iterator.hasNext() && !found)
	{
		currentWfTaskWrapper = iterator.next() as ITaskWrapper;
		currentTask = currentWfTaskWrapper.wfTask;
		
		if (currentTask.getIdentifier() == broadcastedTaskId)
		{
			found = true;
			taskIndexInTheList = in.filteredTasks.indexOf(currentWfTaskWrapper);
			ivy.log.debug("Task {0}-{1} changed its state to {2}.", 
											currentWfTaskWrapper.wfTask.getIdentifier(),
											currentWfTaskWrapper.wfTask.getName(),
											currentWfTaskWrapper.wfTask.getState());
			out.filteredTasks.elementChanged(currentWfTaskWrapper);
		}   
	}
}' #txt
Ts0 f65 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f65 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if task found
update the task state</name>
        <nameStyle>51,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f65 3294 76 36 24 20 -2 #rect
Ts0 f65 @|RichDialogProcessStepIcon #fIcon
Ts0 f67 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is initialized?</name>
        <nameStyle>20,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f67 2282 298 28 28 14 0 #rect
Ts0 f67 @|AlternativeIcon #fIcon
Ts0 f76 guid 1189E88D7EEAAAB4 #txt
Ts0 f76 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f76 method close() #txt
Ts0 f76 disableUIEvents false #txt
Ts0 f76 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f76 outParameterDecl '<java.lang.Boolean closeCanceled> result;
' #txt
Ts0 f76 outActionCode 'result.closeCanceled = in.closeCanceled;' #txt
Ts0 f76 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close()</name>
        <nameStyle>7,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f76 894 46 20 20 13 0 #rect
Ts0 f76 @|RichDialogMethodStartIcon #fIcon
Ts0 f79 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f79 actionTable 'out=in;
' #txt
Ts0 f79 actionCode 'panel.footerLabel.text = "Invalid selection.";' #txt
Ts0 f79 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f79 2622 348 36 24 20 -2 #rect
Ts0 f79 @|RichDialogProcessStepIcon #fIcon
Ts0 f80 expr in #txt
Ts0 f80 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f80 2310 312 2640 348 #arcP
Ts0 f80 1 2640 312 #addKink
Ts0 f80 0 0.710471366366112 0 0 #arcLabel
Ts0 f71 expr out #txt
Ts0 f71 2640 372 2309 760 #arcP
Ts0 f71 1 2640 760 #addKink
Ts0 f71 0 0.7065989631614573 0 0 #arcLabel
Ts0 f81 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f81 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task can be started?</name>
        <nameStyle>20,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f81 2282 386 28 28 14 0 #rect
Ts0 f81 @|AlternativeIcon #fIcon
Ts0 f84 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f84 actionTable 'out=in;
' #txt
Ts0 f84 actionCode 'if (out.automaticTasksExecutionMode)
{
	out.automaticTasksExecutionMode = false;
}' #txt
Ts0 f84 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f84 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>disable the 
automatic tasks execution</name>
        <nameStyle>38,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f84 2566 548 36 24 20 -2 #rect
Ts0 f84 @|RichDialogProcessStepIcon #fIcon
Ts0 f83 expr out #txt
Ts0 f83 2584 572 2308 759 #arcP
Ts0 f83 1 2584 752 #addKink
Ts0 f83 1 0.09048507202068115 0 0 #arcLabel
Ts0 f2 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f2 actionTable 'out=in;
' #txt
Ts0 f2 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;
import java.util.Iterator;
import ch.ivyteam.ivy.workflow.ITask;


ITask currentTask;

// clear the current exception value
out.setException(null);

Number currentTaskIndexInTheSelectedList = -1;


try
{
	
	for(ITaskWrapper taskWrapper: in.selectedTasks)
	{		
		currentTask = taskWrapper.wfTask;
	
		WorkflowUIAccessPermissionHandler.delegateTaskAsSystemUser(currentTask, in.securityMember);
		
		// fire the bcevent that task has been delegated
		panel.fireXivyTaskDelegated(currentTask.getIdentifier());
		
		// update the list of displayed tasks
		currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(taskWrapper);
		out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);
								
	}
}
catch (Exception ex)
{
	out.setException(ex);	
}

' #txt
Ts0 f2 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f2 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegate all selected tasks and 
fire the bcevent &quot;xivyTaskDelegated&quot;</name>
        <nameStyle>69,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f2 2822 620 36 24 20 -2 #rect
Ts0 f2 @|RichDialogProcessStepIcon #fIcon
Ts0 f34 targetWindow THIS #txt
Ts0 f34 targetDisplay EXISTING:<%=in.selectedTaskDisplayId%> #txt
Ts0 f34 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDisplay #txt
Ts0 f34 startMethod start(ch.ivyteam.ivy.workflow.ITask,Boolean,Boolean) #txt
Ts0 f34 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f34 panelName <%=in.tabTitle%> #txt
Ts0 f34 requestActionDecl '<ch.ivyteam.ivy.workflow.ITask aTask, Boolean aStartTaskRequested, Boolean aHasWfAdministratorPermissions> param;' #txt
Ts0 f34 requestMappingAction 'param.aTask=in.selectedTask;
param.aStartTaskRequested=false;
param.aHasWfAdministratorPermissions=in.hasWfAdministratorPermissions;
' #txt
Ts0 f34 requestActionCode 'in.tabTitle = in.#selectedTask.getName() is initialized? 
						in.selectedTask.getName(): 
						ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/task") + " " + in.selectedTask.getIdentifier();' #txt
Ts0 f34 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f34 responseMappingAction 'out=in;
' #txt
Ts0 f34 windowConfiguration '* ' #txt
Ts0 f34 isAsynch true #txt
Ts0 f34 isInnerRd true #txt
Ts0 f34 isDialog false #txt
Ts0 f34 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load the Rich Dialog
with task details
to specified display id</name>
        <nameStyle>62,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f34 1822 652 36 24 20 -2 #rect
Ts0 f34 @|RichDialogIcon #fIcon
Ts0 f63 expr out #txt
Ts0 f63 1840 676 1840 707 #arcP
Ts0 f58 expr in #txt
Ts0 f58 1853 281 1853 720 #arcP
Ts0 f58 1 2056 296 #addKink
Ts0 f58 2 2056 720 #addKink
Ts0 f58 1 0.45970145375293403 0 0 #arcLabel
Ts0 f92 guid 118C22345A17837B #txt
Ts0 f92 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f92 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f92 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListParentDisplayId;
' #txt
Ts0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>openTaskInformationOnSibling</name>
        <nameStyle>28,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f92 1894 238 20 20 13 0 #rect
Ts0 f92 @|RichDialogProcessStartIcon #fIcon
Ts0 f99 guid 118C223601C9E2B6 #txt
Ts0 f99 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f99 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f99 actionTable 'out=in;
out.selectedTaskDisplayId=in.taskListParentDisplayId;
' #txt
Ts0 f99 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startTaskOnSiblingTab</name>
        <nameStyle>21,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f99 2334 214 20 20 13 0 #rect
Ts0 f99 @|RichDialogProcessStartIcon #fIcon
Ts0 f101 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f101 actionTable 'out=in;
' #txt
Ts0 f101 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;

ITaskWrapper wfTaskWrapper = panel.tasksTable.getSelectedListEntry() as ITaskWrapper;
out.selectedTask = wfTaskWrapper.wfTask;

out.taskAlreadyLoadedOnDisplay = false;' #txt
Ts0 f101 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f101 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get the 
selected task
task already loaded to false</name>
        <nameStyle>51,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f101 1822 332 36 24 20 -2 #rect
Ts0 f101 @|RichDialogProcessStepIcon #fIcon
Ts0 f102 expr in #txt
Ts0 f102 outCond 'panel.tasksTable.getSelectedListEntry() != null && panel.tasksTable.getSelectedListEntry() instanceof ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper' #txt
Ts0 f102 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selected entry != null
and selected entry is ITask</name>
        <nameStyle>50,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f102 1840 294 1840 332 #arcP
Ts0 f94 expr out #txt
Ts0 f94 1904 258 1852 278 #arcP
Ts0 f94 1 1904 272 #addKink
Ts0 f94 1 0.07112480377861213 0 0 #arcLabel
Ts0 f103 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f103 actionTable 'out=in;
' #txt
Ts0 f103 actionCode 'out.taskAlreadyLoadedOnDisplay = false;' #txt
Ts0 f103 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f103 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task already loaded to false</name>
        <nameStyle>28,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f103 2278 348 36 24 20 0 #rect
Ts0 f103 @|RichDialogProcessStepIcon #fIcon
Ts0 f104 expr in #txt
Ts0 f104 outCond 'in.#selectedTask is initialized' #txt
Ts0 f104 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f104 2296 326 2296 348 #arcP
Ts0 f82 expr out #txt
Ts0 f82 2296 372 2296 386 #arcP
Ts0 f105 targetWindow THIS #txt
Ts0 f105 targetDisplay EXISTING:<%=in.selectedTaskDisplayId%> #txt
Ts0 f105 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDisplay #txt
Ts0 f105 startMethod start(ch.ivyteam.ivy.workflow.ITask,Boolean,Boolean) #txt
Ts0 f105 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f105 panelName <%=in.tabTitle%> #txt
Ts0 f105 requestActionDecl '<ch.ivyteam.ivy.workflow.ITask aTask, Boolean aStartTaskRequested, Boolean aHasWfAdministratorPermissions> param;' #txt
Ts0 f105 requestMappingAction 'param.aTask=in.selectedTask;
param.aStartTaskRequested=true;
param.aHasWfAdministratorPermissions=in.hasWfAdministratorPermissions;
' #txt
Ts0 f105 requestActionCode 'in.tabTitle = in.#selectedTask.getName() is initialized? 
						in.selectedTask.getName(): 
						ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/task") + " " + in.selectedTask.getIdentifier();' #txt
Ts0 f105 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f105 responseMappingAction 'out=in;
' #txt
Ts0 f105 windowConfiguration '* ' #txt
Ts0 f105 isAsynch true #txt
Ts0 f105 isInnerRd true #txt
Ts0 f105 isDialog false #txt
Ts0 f105 userContext '* ' #txt
Ts0 f105 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load TaskDisplay
and start task</name>
        <nameStyle>17,7,9
14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f105 2278 692 36 24 20 -2 #rect
Ts0 f105 @|RichDialogIcon #fIcon
Ts0 f70 expr out #txt
Ts0 f70 2296 716 2296 747 #arcP
Ts0 f32 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is
already loaded?</name>
        <nameStyle>23,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f32 2282 490 28 28 14 0 #rect
Ts0 f32 @|AlternativeIcon #fIcon
Ts0 f73 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f73 actionTable 'out=in;
' #txt
Ts0 f73 actionCode 'import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;
import com.ulcjava.base.application.ULCComponent;
import ch.ivyteam.ivy.richdialog.widgets.displays.RCloseableTabbedDisplay;


RCloseableTabbedDisplay selectedTabbedDisplay;
List<ULCComponent> componentsList;


if (in.selectedTaskDisplayId.equals(in.taskListParentDisplayId))
{
	// parent display
	selectedTabbedDisplay = in.taskDisplayListParentDisplay;
	componentsList = in.taskDisplayListParentDisplay.getComponents().toList();
}
else
{
	// display under this tab
	selectedTabbedDisplay = panel.taskDisplayTabbedDisplay as RCloseableTabbedDisplay;
	componentsList = panel.taskDisplayTabbedDisplay.getComponents().toList();
}



for (int i=0; i< componentsList.size(); i++)
{
	ULCComponent currentComponent = componentsList.get(i);
	
	if (currentComponent instanceof TaskDisplayPanel && (currentComponent as TaskDisplayPanel).getTaskIdentifier() == in.selectedTask.getIdentifier().intValue())
	{
		// task has been already loaded
		selectedTabbedDisplay.setSelectedComponent(currentComponent);
		out.taskAlreadyLoadedOnDisplay = true;
		
		// exit from the loop
		i = componentsList.size();
	}
	
}


' #txt
Ts0 f73 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if the task is loaded
select it</name>
        <nameStyle>47,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f73 2278 436 36 24 20 -14 #rect
Ts0 f73 @|RichDialogProcessStepIcon #fIcon
Ts0 f74 expr in #txt
Ts0 f74 outCond '(in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) == 0 || in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.PARKED) == 0) &&
(ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler.userIsTaskActivatorCandidate(ivy.session,in.selectedTask) ||ch.ivyteam.ivy.addons.restricted.workflow.CaseManagedTeamHelper.isSessionUserTeamManagerOnWfTask(in.selectedTask))' #txt
Ts0 f74 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f74 2296 414 2296 436 #arcP
Ts0 f74 0 0.5 -1 0 #arcLabel
Ts0 f69 expr out #txt
Ts0 f69 2296 460 2296 490 #arcP
Ts0 f96 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f96 actionTable 'out=in;
' #txt
Ts0 f96 actionCode 'import ch.ivyteam.ivy.richdialog.widgets.displays.RCloseableTabbedDisplay;
import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;
import com.ulcjava.base.application.ULCComponent;


RCloseableTabbedDisplay selectedTabbedDisplay;
List<ULCComponent> componentsList;


if (in.selectedTaskDisplayId.equals(in.taskListParentDisplayId))
{
	// parent display
	selectedTabbedDisplay = in.taskDisplayListParentDisplay;
	componentsList = in.taskDisplayListParentDisplay.getComponents().toList();
}
else
{
	// display under this tab
	selectedTabbedDisplay = panel.taskDisplayTabbedDisplay as RCloseableTabbedDisplay;
	componentsList = panel.taskDisplayTabbedDisplay.getComponents().toList();
}



for (int i=0; i< componentsList.size(); i++)
{
	ULCComponent currentComponent = componentsList.get(i);
	
	if (currentComponent instanceof TaskDisplayPanel && (currentComponent as TaskDisplayPanel).getTaskIdentifier() == in.selectedTask.getIdentifier().intValue())
	{
		// task has been already loaded
		// it should be selected and refresh
		selectedTabbedDisplay.setSelectedComponent(currentComponent);
		out.taskAlreadyLoadedOnDisplay = true;
		
		// exit from the loop
		break;
	}
	
}


' #txt
Ts0 f96 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f96 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if the task is loaded
set as selected and 
refresh it</name>
        <nameStyle>69,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f96 1822 452 36 24 20 -2 #rect
Ts0 f96 @|RichDialogProcessStepIcon #fIcon
Ts0 f100 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f100 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f100 1826 514 28 28 14 0 #rect
Ts0 f100 @|AlternativeIcon #fIcon
Ts0 f106 expr out #txt
Ts0 f106 1840 476 1840 514 #arcP
Ts0 f120 expr in #txt
Ts0 f120 1854 528 1852 718 #arcP
Ts0 f120 1 1904 528 #addKink
Ts0 f120 2 1904 712 #addKink
Ts0 f120 1 0.47026520291019663 0 0 #arcLabel
Ts0 f126 guid 118EB87984A5A5A8 #txt
Ts0 f126 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f126 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f126 actionTable 'out=in;
' #txt
Ts0 f126 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close</name>
        <nameStyle>5,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f126 1494 38 20 20 13 0 #rect
Ts0 f126 @|RichDialogProcessStartIcon #fIcon
Ts0 f128 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f128 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>security member
 was selected?</name>
        <nameStyle>30,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f128 2826 562 28 28 14 0 #rect
Ts0 f128 @|AlternativeIcon #fIcon
Ts0 f129 expr out #txt
Ts0 f129 2840 524 2840 562 #arcP
Ts0 f24 expr in #txt
Ts0 f24 outCond in.securityMemberSelected #txt
Ts0 f24 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f24 2840 590 2840 620 #arcP
Ts0 f135 guid 118EBEE8542826BA #txt
Ts0 f135 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f135 broadcast xivyTaskDelegated #txt
Ts0 f135 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f135 actionTable 'out=in;
' #txt
Ts0 f135 actionCode 'out.broadcastedTaskIdentifiers.clear();
out.broadcastedTaskIdentifiers.add(param.aTaskIdentifier);' #txt
Ts0 f135 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Accepted broadcast: xivyTaskDelegated</name>
        <nameStyle>37,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f135 3686 30 20 20 13 0 #rect
Ts0 f135 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f87 expr out #txt
Ts0 f87 80 98 80 140 #arcP
Ts0 f87 0 0.5241792439081309 0 0 #arcLabel
Ts0 f119 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f119 actionTable 'out=in;
' #txt
Ts0 f119 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.workflow.ITask;
import java.util.Iterator;

Iterator iterator;
ITaskWrapper currentWfTaskWrapper;
ITask currentTask;

Boolean found = false;
Number taskIndexInTheList = -1;


iterator = in.filteredTasks.iterator();

out.footerMessage = "";

// do not remove the delagate task if user is WfAmdin and taskDisplayMode is "all tasks"
if(!in.hasWfAdministratorPermissions || in.taskDisplayMode!=2)
{
	for (Number broadcastedTaskId: in.broadcastedTaskIdentifiers)
	{	
		while (iterator.hasNext() && !found)
		{
			currentWfTaskWrapper = iterator.next() as ITaskWrapper;
			currentTask = currentWfTaskWrapper.wfTask;
			
			if (currentTask.getIdentifier() == broadcastedTaskId)
			{
				// remove it if the current user is not allowed to start the delegated task
				if(!currentTask.getActivator().isMember(ivy.session,false))
				{
					out.filteredTasks.remove(currentWfTaskWrapper);
				}	
				found = true;		
			}
		}	
	}
	
	   
}
' #txt
Ts0 f119 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f119 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop
and if task found
remove it from task list</name>
        <nameStyle>54,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f119 3678 68 36 24 20 -2 #rect
Ts0 f119 @|RichDialogProcessStepIcon #fIcon
Ts0 f150 expr out #txt
Ts0 f150 3696 50 3696 68 #arcP
Ts0 f150 0 0.8041288016850019 0 0 #arcLabel
Ts0 f149 expr out #txt
Ts0 f149 3696 92 3696 139 #arcP
Ts0 f149 0 0.4983121001942044 0 0 #arcLabel
Ts0 f151 guid 11A0591A096BF4F3 #txt
Ts0 f151 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f151 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f151 actionTable 'out=in;
' #txt
Ts0 f151 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateButtonsAccordingToSelection</name>
        <nameStyle>33,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f151 2926 878 20 20 13 0 #rect
Ts0 f151 @|RichDialogProcessStartIcon #fIcon
Ts0 f152 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f152 2923 1123 26 26 14 0 #rect
Ts0 f152 @|RichDialogProcessEndIcon #fIcon
Ts0 f154 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f154 actionTable 'out=in;
' #txt
Ts0 f154 actionCode 'import ch.ivyteam.ivy.security.IUser;
import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.addons.restricted.workflow.CaseManagedTeamHelper;
import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;
import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.TaskState;


List<ITaskWrapper> selectedWfTaskWrappers;
selectedWfTaskWrappers.clear();
selectedWfTaskWrappers.addAll(panel.tasksTable.getSelectedListEntries());

IUser sessionUser = ivy.session.getSessionUser();
	

//------------------------------
// auto start tasks execution
//------------------------------
Boolean enableAutoStartTasks = selectedWfTaskWrappers.isEmpty();
panel.automaticTasksExecutionToggleButton.enabled = enableAutoStartTasks;		



if (!selectedWfTaskWrappers.isEmpty())
{	
	ITask currentTask;
	
	// is user team manager on this task? if yes, he could see task details, start it and if he can delegate, delegate it
	Boolean isSessionUserTeamManagerOnWfTask = false;
	
	Boolean enableTaskDetails = true;
	Boolean enableStartTask = true;
	Boolean enableParkTask = true;
	Boolean enableDelegateTask = true;
	Boolean enableSetExpiryDate = true;
	Boolean enableSetBlockingDelay = true;
	Boolean enableResetTask = true;
	Boolean enableDestroyTask = true;
	
	//
	// task display modes are:
	// -1=get all tasks of the case, 0=your tasks, 1=team tasks, 2=all env. tasks (wf admin mode), 3=any query
	//
	
		
	for (ITaskWrapper currentWfTaskWrapper: selectedWfTaskWrappers)
	{

		currentTask = currentWfTaskWrapper.wfTask;
		
		// is user team manager on this task?
		isSessionUserTeamManagerOnWfTask = CaseManagedTeamHelper.isSessionUserTeamManagerOnWfTask(currentTask);		
		

		//----------------------
		// task details			
		//----------------------
		if (enableTaskDetails)
		{
			if (
					(in.taskDisplayMode == -1 && isSessionUserTeamManagerOnWfTask) ||					
					(in.taskDisplayMode >= 0 && in.taskDisplayMode <= 2) ||
					(in.taskDisplayMode == 3 && (	WorkflowUIAccessPermissionHandler.userHasWorkedOnTask(sessionUser, currentTask) || 
																				WorkflowUIAccessPermissionHandler.userIsTaskActivatorCandidate(ivy.session, currentTask) ||
																				isSessionUserTeamManagerOnWfTask || 
																				in.hasWfAdministratorPermissions))
					)
			{
				enableTaskDetails = true;
			}
			else
			{
				enableTaskDetails = false;
			}				
		}

			
		//----------------------
		// start task
		//----------------------
		if (enableStartTask)
		{
			if ((currentTask.getState().equals(TaskState.SUSPENDED) || currentTask.getState().equals(TaskState.PARKED)) &&
						(
							(in.taskDisplayMode == -1 && isSessionUserTeamManagerOnWfTask) ||
							(in.taskDisplayMode == 0 || in.taskDisplayMode == 1) ||
							(in.taskDisplayMode == 3 && (	WorkflowUIAccessPermissionHandler.userIsTaskActivatorCandidate(ivy.session, currentTask) || 
																						in.hasWfAdministratorPermissions || 
																						isSessionUserTeamManagerOnWfTask))
						)
					)
			{
				enableStartTask = true;
			}
			else
			{
				enableStartTask = false;
			}
		}
	

		//----------------------
		// park task
		//----------------------
		if (enableParkTask)
		{
			if (currentTask.getState().equals(TaskState.RESUMED) && 
						(
							(in.taskDisplayMode == -1 && in.hasPermissionDelegateTasks && isSessionUserTeamManagerOnWfTask) ||
							((in.taskDisplayMode == 0 || in.taskDisplayMode == 1) && currentTask.getWorkerUserName().equals(ivy.session.getSessionUserName())) ||
							(in.taskDisplayMode == 2 && in.hasWfAdministratorPermissions) ||
							(in.taskDisplayMode == 3 && (sessionUser.getName().equals(currentTask.getWorkerUserName()) || in.hasWfAdministratorPermissions || (in.hasPermissionDelegateTasks && isSessionUserTeamManagerOnWfTask)))
						)
					)
			{
				enableParkTask = true;
			}
			else
			{
				enableParkTask = false;
			}
		}
		
		//----------------------
		// delegate task
		//----------------------
		if (enableDelegateTask)
		{
			if ((currentTask.getState().equals(TaskState.SUSPENDED) || currentTask.getState().equals(TaskState.PARKED) || currentTask.getState().equals(TaskState.UNASSIGNED)) &&
						(
							(in.taskDisplayMode == -1 && in.hasPermissionDelegateTasks && isSessionUserTeamManagerOnWfTask) ||
							((in.taskDisplayMode == 0 || in.taskDisplayMode == 1) && in.hasPermissionDelegateTasks) ||
							(in.taskDisplayMode == 2 && in.hasWfAdministratorPermissions) ||
							(in.taskDisplayMode == 3 && (in.hasWfAdministratorPermissions || (in.hasPermissionDelegateTasks && isSessionUserTeamManagerOnWfTask)))
						)
					)
			{
				enableDelegateTask = true;
			}
			else
			{
				enableDelegateTask = false;
			}
		}
		
		//----------------------	
		// set expiry date
		//----------------------
		if (enableSetExpiryDate)
		{
			if ((currentTask.getExpiryTimestamp() is initialized && currentTask.getState().equals(TaskState.SUSPENDED)) && 
						(
							(in.taskDisplayMode == 2 || in.taskDisplayMode == 3) && in.hasWfAdministratorPermissions
						)
					)
			{
				enableSetExpiryDate = true;	
			}
			else
			{
				enableSetExpiryDate = false;	
			}						
		}
		
		//-------------------------	
		// set blocking delay date
		//-------------------------
		if (enableSetBlockingDelay)
		{
			if ((currentTask.getDelayTimestamp() is initialized) && currentTask.getState().equals(TaskState.DELAYED) &&
						(
							(in.taskDisplayMode == 2 || in.taskDisplayMode == 3) && in.hasWfAdministratorPermissions
						)
					)
			{
				enableSetBlockingDelay = true;
			}
			else
			{
				enableSetBlockingDelay = false;	
			}			
		}

		//----------------------
		// reset the task
		//----------------------
		if (enableResetTask)
		{
			if ((	currentTask.getState().equals(TaskState.CREATED) || 
						currentTask.getState().equals(TaskState.RESUMED) ||
						currentTask.getState().equals(TaskState.PARKED) || 
						currentTask.getState().equals(TaskState.READY_FOR_JOIN)) &&							
							(
								(in.taskDisplayMode == 2 || in.taskDisplayMode == 3) && in.hasWfAdministratorPermissions
							)
					)
			{
				enableResetTask = true;	
			}
			else
			{
				enableResetTask = false;	
			}
		}

		//----------------------
		// destroy the task
		//----------------------
		if (enableDestroyTask)
		{
			if ((	currentTask.getState().equals(TaskState.DELAYED) ||
						currentTask.getState().equals(TaskState.SUSPENDED) ||
						currentTask.getState().equals(TaskState.PARKED) ||
						currentTask.getState().equals(TaskState.RESUMED) ||
						currentTask.getState().equals(TaskState.UNASSIGNED) ||
						currentTask.getState().equals(TaskState.FAILED) ||
						currentTask.getState().equals(TaskState.READY_FOR_JOIN) ||
						currentTask.getState().equals(TaskState.JOINING) ||
						currentTask.getState().equals(TaskState.JOIN_FAILED) ||
						currentTask.getState().equals(TaskState.CREATED)) &&								
								(
									(in.taskDisplayMode == 2 || in.taskDisplayMode == 3) && in.hasWfAdministratorPermissions
								)
				)	
			{
				enableDestroyTask = true;
			}
			else
			{
				enableDestroyTask = false;
			}
		}		
								
	}// end for
	
	
	// enable/disable buttons according to the selection entries on task list
	
	// task details
	panel.informOnTaskButton.enabled = enableTaskDetails;
	panel.informOnTaskOnSiblingTabMenuItem.enabled = panel.informOnTaskButton.enabled;
	
	// start task
	panel.startTaskButton.enabled = enableStartTask;	
	panel.startTaskOnSiblingTabMenuItem.enabled = panel.startTaskButton.enabled;
	
	// park task
	panel.parkTaskButton.enabled = enableParkTask;
	panel.parkTaskMenuItem.enabled = panel.parkTaskButton.enabled;
	
	// delegate task
	panel.delegateTaskButton.enabled = enableDelegateTask;
	panel.delegateTaskMenuItem.enabled = panel.delegateTaskButton.enabled;
	
	// set expiry date
	panel.setTaskExpiryDateButton.enabled = enableSetExpiryDate;
	panel.setTaskExpiryDateMenuItem.enabled = enableSetExpiryDate;
	
	// set blocking delay date
	panel.setTaskBlockingDelayDateButton.enabled = enableSetBlockingDelay;
	panel.setTaskBlockingDelayDateMenuItem.enabled = enableSetBlockingDelay;
	
	// reset the task
	panel.resetTaskButton.enabled = enableResetTask;
	panel.resetTaskMenuItem.enabled = enableResetTask;
	
	// destroy the task
	panel.destroyTaskButton.enabled = enableDestroyTask;
	panel.destroyTaskMenuItem.enabled = enableDestroyTask;
	
}' #txt
Ts0 f154 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f154 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update buttons
and popup menu items
acc. to the table selection</name>
        <nameStyle>63,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f154 2918 988 36 24 21 2 #rect
Ts0 f154 @|RichDialogProcessStepIcon #fIcon
Ts0 f155 expr out #txt
Ts0 f155 2936 898 2936 988 #arcP
Ts0 f153 expr out #txt
Ts0 f153 2936 1012 2936 1123 #arcP
Ts0 f161 guid 11A06D4212D900B5 #txt
Ts0 f161 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f161 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f161 actionTable 'out=in;
' #txt
Ts0 f161 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setTaskExpiryTimestamp</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f161 1510 878 20 20 13 0 #rect
Ts0 f161 @|RichDialogProcessStartIcon #fIcon
Ts0 f162 guid 11A06D4293CB465C #txt
Ts0 f162 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f162 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f162 actionTable 'out=in;
' #txt
Ts0 f162 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setTaskBlockingDelayTimestamp</name>
        <nameStyle>29,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f162 1774 878 20 20 13 0 #rect
Ts0 f162 @|RichDialogProcessStartIcon #fIcon
Ts0 f163 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f163 1507 1355 26 26 14 0 #rect
Ts0 f163 @|RichDialogProcessEndIcon #fIcon
Ts0 f167 targetWindow NEW:card: #txt
Ts0 f167 targetDisplay TOP #txt
Ts0 f167 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDateSelect #txt
Ts0 f167 startMethod selectTaskExpiryDate(String,String) #txt
Ts0 f167 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f167 requestActionDecl '<String aTitle, String aText> param;' #txt
Ts0 f167 requestActionCode 'param.aTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampShortDesc");
param.aText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampLongDesc");' #txt
Ts0 f167 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f167 responseMappingAction 'out=in;
out.taskDateSelectDisabledSelectionDate=result.aDisabledDateSelection;
out.taskDateSelectPressedButton=result.aPressedButton;
out.taskDateSelectSelectedDate=result.aSelectedDate;
' #txt
Ts0 f167 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampShortDesc\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f167 isAsynch false #txt
Ts0 f167 isInnerRd true #txt
Ts0 f167 isDialog true #txt
Ts0 f167 userContext '* ' #txt
Ts0 f167 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>select the new
task expiry date</name>
        <nameStyle>31,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f167 1502 1084 36 24 20 -2 #rect
Ts0 f167 @|RichDialogIcon #fIcon
Ts0 f169 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>what is pressed button?</name>
        <nameStyle>23,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f169 1506 1130 28 28 14 0 #rect
Ts0 f169 @|AlternativeIcon #fIcon
Ts0 f170 expr out #txt
Ts0 f170 1520 1108 1520 1130 #arcP
Ts0 f171 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f171 actionTable 'out=in;
' #txt
Ts0 f171 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;

// clear the current exception value
out.setException(null);

Number currentTaskIndexInTheSelectedList = -1;

try
{
	for (ITaskWrapper wfTaskWrapper: in.selectedTasks)
	{		
		ITask selectedTask = wfTaskWrapper.wfTask;
		
			if (in.taskDateSelectDisabledSelectionDate)
			{
				selectedTask.setExpiryTimestamp(null);				
			}
			else
			{
				selectedTask.setExpiryTimestamp(in.taskDateSelectSelectedDate);		
			}
			
			// update the property accordingly
			wfTaskWrapper.setExpiryTimestamp(selectedTask.getExpiryTimestamp());
			
			// update the list of displayed tasks
			currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(wfTaskWrapper);
			out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);
	}
}
catch (Exception ex)
{
	out.setException(ex);
}' #txt
Ts0 f171 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f171 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set the expiry date 
and update the list of tasks</name>
        <nameStyle>49,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f171 1502 1196 36 24 20 -2 #rect
Ts0 f171 @|RichDialogProcessStepIcon #fIcon
Ts0 f172 expr in #txt
Ts0 f172 outCond "ok".equals(in.taskDateSelectPressedButton) #txt
Ts0 f172 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ok</name>
        <nameStyle>2,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f172 1520 1158 1520 1196 #arcP
Ts0 f173 expr in #txt
Ts0 f173 1534 1144 1533 1368 #arcP
Ts0 f173 1 1640 1144 #addKink
Ts0 f173 2 1640 1368 #addKink
Ts0 f173 1 0.4081206979362798 0 0 #arcLabel
Ts0 f174 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f174 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection is empty?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f174 1506 1010 28 28 14 0 #rect
Ts0 f174 @|AlternativeIcon #fIcon
Ts0 f176 expr in #txt
Ts0 f176 1534 1024 1533 1368 #arcP
Ts0 f176 1 1688 1024 #addKink
Ts0 f176 2 1688 1368 #addKink
Ts0 f176 1 0.42316247071589663 0 0 #arcLabel
Ts0 f177 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f177 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection is empty?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f177 1770 1010 28 28 14 0 #rect
Ts0 f177 @|AlternativeIcon #fIcon
Ts0 f179 targetWindow NEW:card: #txt
Ts0 f179 targetDisplay TOP #txt
Ts0 f179 richDialogId ch.ivyteam.ivy.workflow.ui.task.TaskDateSelect #txt
Ts0 f179 startMethod selectTaskBlockingDelayDate(String,String) #txt
Ts0 f179 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f179 requestActionDecl '<String aTitle, String aText> param;' #txt
Ts0 f179 requestActionCode 'param.aTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampShortDesc");
param.aText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampLongDesc");' #txt
Ts0 f179 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f179 responseMappingAction 'out=in;
out.taskDateSelectDisabledSelectionDate=result.aDisabledDateSelection;
out.taskDateSelectPressedButton=result.aPressedButton;
out.taskDateSelectSelectedDate=result.aSelectedDate;
' #txt
Ts0 f179 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampShortDesc\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f179 isAsynch false #txt
Ts0 f179 isInnerRd true #txt
Ts0 f179 isDialog true #txt
Ts0 f179 userContext '* ' #txt
Ts0 f179 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>select the new
task blocking delay date</name>
        <nameStyle>39,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f179 1766 1084 36 24 20 -2 #rect
Ts0 f179 @|RichDialogIcon #fIcon
Ts0 f181 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f181 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>what is pressed button?</name>
        <nameStyle>23,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f181 1770 1130 28 28 14 0 #rect
Ts0 f181 @|AlternativeIcon #fIcon
Ts0 f182 expr out #txt
Ts0 f182 1784 1108 1784 1130 #arcP
Ts0 f183 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f183 actionTable 'out=in;
' #txt
Ts0 f183 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;


// clear the current exception value
out.setException(null);

Number currentTaskIndexInTheSelectedList = -1;

try
{
	for (ITaskWrapper wfTaskWrapper: in.selectedTasks)
	{
		ITask selectedTask = wfTaskWrapper.wfTask;

		if (in.taskDateSelectDisabledSelectionDate)
		{
			selectedTask.setDelayTimestamp(null);
		}
		else
		{
			selectedTask.setDelayTimestamp(in.taskDateSelectSelectedDate);
		}
		
		wfTaskWrapper.setDelayTimestamp(selectedTask.getDelayTimestamp());
		
		// update the list of displayed tasks
		currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(wfTaskWrapper);
		out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);		
	}
}
catch(Exception ex)
{
	out.setException(ex);
}' #txt
Ts0 f183 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f183 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set the blocking delay date
and update list of tasks</name>
        <nameStyle>52,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f183 1766 1196 36 24 20 -2 #rect
Ts0 f183 @|RichDialogProcessStepIcon #fIcon
Ts0 f184 expr in #txt
Ts0 f184 outCond "ok".equals(in.taskDateSelectPressedButton) #txt
Ts0 f184 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ok</name>
        <nameStyle>2,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f184 1784 1158 1784 1196 #arcP
Ts0 f191 guid 11A0856682016BF4 #txt
Ts0 f191 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f191 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f191 actionTable 'out=in;
' #txt
Ts0 f191 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetTask</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f191 2046 878 20 20 13 0 #rect
Ts0 f191 @|RichDialogProcessStartIcon #fIcon
Ts0 f192 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f192 2043 1355 26 26 14 0 #rect
Ts0 f192 @|RichDialogProcessEndIcon #fIcon
Ts0 f194 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f194 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection is empty?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f194 2042 1002 28 28 14 0 #rect
Ts0 f194 @|AlternativeIcon #fIcon
Ts0 f196 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f196 actionTable 'out=in;
' #txt
Ts0 f196 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;

// clear the current exception value
out.setException(null);

Number currentTaskIndexInTheSelectedList = -1;

try
{
	for (ITaskWrapper taskWrapper: in.selectedTasks)
	{
		ITask selectedTask = taskWrapper.wfTask;		
		selectedTask.reset();
		
		// update the list of displayed tasks
		currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(taskWrapper);
		out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);		
	}
}
catch (Exception ex)
{
	out.setException(ex);
}
' #txt
Ts0 f196 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f196 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>reset all selected tasks</name>
        <nameStyle>24,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f196 2038 1196 36 24 20 -2 #rect
Ts0 f196 @|RichDialogProcessStepIcon #fIcon
Ts0 f198 expr in #txt
Ts0 f198 2070 1016 2069 1368 #arcP
Ts0 f198 1 2224 1016 #addKink
Ts0 f198 2 2224 1368 #addKink
Ts0 f198 1 0.46827506590861234 0 0 #arcLabel
Ts0 f199 guid 11A085A17A139EA8 #txt
Ts0 f199 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f199 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f199 actionTable 'out=in;
' #txt
Ts0 f199 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>destroyTask</name>
        <nameStyle>11,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f199 2302 878 20 20 13 0 #rect
Ts0 f199 @|RichDialogProcessStartIcon #fIcon
Ts0 f166 expr in #txt
Ts0 f166 1798 1144 1533 1368 #arcP
Ts0 f166 1 1904 1144 #addKink
Ts0 f166 2 1904 1368 #addKink
Ts0 f166 1 0.350666226702224 0 0 #arcLabel
Ts0 f186 expr in #txt
Ts0 f186 1798 1024 1533 1368 #arcP
Ts0 f186 1 1952 1024 #addKink
Ts0 f186 2 1952 1368 #addKink
Ts0 f186 1 0.40047013396376785 0 0 #arcLabel
Ts0 f185 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f185 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection is empty?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f185 2298 994 28 28 14 0 #rect
Ts0 f185 @|AlternativeIcon #fIcon
Ts0 f202 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f202 actionTable 'out=in;
' #txt
Ts0 f202 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;

// clear the current exception value
out.setException(null);

Number currentTaskIndexInTheSelectedList = -1;

try
{
	for (ITaskWrapper taskWrapper: in.selectedTasks)
	{
		ITask selectedTask = taskWrapper.wfTask;
		selectedTask.destroy();	
		
		// update the list of displayed tasks
		currentTaskIndexInTheSelectedList = in.filteredTasks.indexOf(taskWrapper);
		out.filteredTasks.elementChangedAt(currentTaskIndexInTheSelectedList);			
	}
}
catch (Exception ex)
{
	out.setException(ex);	
}' #txt
Ts0 f202 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f202 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>destroy selected tasks</name>
        <nameStyle>22,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f202 2294 1196 36 24 20 -2 #rect
Ts0 f202 @|RichDialogProcessStepIcon #fIcon
Ts0 f204 expr in #txt
Ts0 f204 2326 1008 2069 1368 #arcP
Ts0 f204 1 2480 1008 #addKink
Ts0 f204 2 2480 1368 #addKink
Ts0 f204 1 0.6799774213660794 0 0 #arcLabel
Ts0 f205 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f205 actionTable 'out=in;
' #txt
Ts0 f205 actionCode 'out.filteredTasks.clear();

out.filteredTasks.addAll(in.tasks);' #txt
Ts0 f205 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f205 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clear filtered tasks
and add all tasks</name>
        <nameStyle>38,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f205 62 404 36 24 20 -2 #rect
Ts0 f205 @|RichDialogProcessStepIcon #fIcon
Ts0 f206 expr out #txt
Ts0 f206 80 340 80 404 #arcP
Ts0 f206 0 0.7145526639437965 0 0 #arcLabel
Ts0 f86 expr out #txt
Ts0 f86 80 428 80 459 #arcP
Ts0 f60 guid 11A6D1CCD4AB222D #txt
Ts0 f60 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f60 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f60 actionTable 'out=in;
' #txt
Ts0 f60 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.workflow.ITask;
import java.util.regex.Pattern;
import java.util.Locale;


out.filteredTasks.clear();


if (out.tasks.size() > 0)
{
	Pattern patternOnName = Pattern.compile(".*" + in.nameCriteria + ".*", Pattern.CASE_INSENSITIVE);
	
	
	for(ITaskWrapper currentWfTaskWrapper: in.tasks)
	{
		ITask currentTask = currentWfTaskWrapper.wfTask;
		
		if (patternOnName.matcher(currentTask.getName()).matches() || 
					patternOnName.matcher("" + currentTask.getIdentifier()).matches() ||
					
					patternOnName.matcher("" + currentTask.getCase().getIdentifier()).matches() ||
					patternOnName.matcher(currentTask.getCase().getName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getProcessCategoryCode()).matches() || 
					patternOnName.matcher(currentTask.getCase().getProcessCategoryName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getProcessCode()).matches() ||
					patternOnName.matcher(currentTask.getCase().getProcessName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getTypeCode()).matches() ||
					patternOnName.matcher(currentTask.getCase().getTypeName()).matches() ||
					
					patternOnName.matcher(currentTask.getCase().getSubTypeCode()).matches() ||					
					patternOnName.matcher(currentTask.getCase().getSubTypeName()).matches() ||
					
					patternOnName.matcher("" + currentTask.getCase().getBusinessMainContactType()).matches() ||
					patternOnName.matcher("" + currentTask.getCase().getBusinessMainContactId()).matches() ||
					patternOnName.matcher(currentTask.getCase().getBusinessMainContactName()).matches() ||
					
					patternOnName.matcher("" + currentTask.getCase().getBusinessObjectCode()).matches() ||
					patternOnName.matcher("" + currentTask.getCase().getBusinessObjectName()).matches() ||
					
					patternOnName.matcher("" + currentTask.getActivatorName()).matches() ||
										
					patternOnName.matcher(currentTask.getCase().getBusinessCreatorUser()).matches() ||
					
					patternOnName.matcher(currentTask.getKindCode()).matches() ||
					patternOnName.matcher(currentTask.getKindName()).matches()
				)
		{
			out.filteredTasks.add(currentWfTaskWrapper);
		}
	}
}
else
{
	out.filteredTasks.addAll(in.tasks);	
}


String task = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/task").toString();
String tasks = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/tasks").toString();

if (!Locale.GERMAN.getLanguage().equals(ivy.session.getContentLocale().getLanguage()))
{
	task = task.toLowerCase(ivy.session.getContentLocale());
	tasks = tasks.toLowerCase(ivy.session.getContentLocale());
}
// inform the user about the found result
out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/found") + " " + 
										in.filteredTasks.size() + " " + 
										(in.filteredTasks.size() == 1 ? task 
																					: tasks);


' #txt
Ts0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTasks</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f60 2766 326 20 20 13 0 #rect
Ts0 f60 @|RichDialogProcessStartIcon #fIcon
Ts0 f208 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f208 2763 459 26 26 14 0 #rect
Ts0 f208 @|RichDialogProcessEndIcon #fIcon
Ts0 f209 expr out #txt
Ts0 f209 2776 346 2776 459 #arcP
Ts0 f39 guid 11AE8E7F33044A1E #txt
Ts0 f39 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f39 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f39 actionTable 'out=in;
' #txt
Ts0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onLoad</name>
        <nameStyle>6,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f39 1566 46 20 20 13 0 #rect
Ts0 f39 @|RichDialogProcessStartIcon #fIcon
Ts0 f89 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f89 actionTable 'out=in;
' #txt
Ts0 f89 actionCode 'import com.ulcjava.base.application.border.ULCTitledBorder;


panel.refreshTaskListMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/refreshTaskListShortDesc");
// panel.refreshTaskListMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/refreshTaskList16");

panel.findTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/findTaskShortDesc");
// panel.findTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/findTask16");

panel.informOnTaskOnSiblingTabMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/informOnTaskShortDesc");
// panel.informOnTaskOnSiblingTabMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/informOnTask16");

panel.startTaskOnSiblingTabMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/startTaskShortDesc");
panel.startTaskOnSiblingTabMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/start16");

panel.parkTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskShortDesc");
// panel.parkTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/park16");

panel.delegateTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskShortDesc");
// panel.delegateTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/delegate16");

panel.setTaskExpiryDateMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryTimestampShortDesc");
// panel.setTaskExpiryDateMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/setExpiry16");

panel.setTaskBlockingDelayDateMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayTimestampShortDesc");
// panel.setTaskBlockingDelayDateMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/setBlockingDelay16");

panel.resetTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/cancelTaskShortDesc");
// panel.resetTaskMenuItem.iconUri = ivy.cms.cr("/ch/ivyteam/ivy/workflow/ui/task/images/reset16");


panel.destroyTaskMenuItem.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskShortDesc");


// if parent display not defined, then use the existing one
if (!in.#taskDisplayListParentDisplay is initialized)
{
	in.taskDisplayListParentDisplay = panel.taskDisplayTabbedDisplay;
}


// set the "find tasks" on text search
panel.taskNameOrCaseNameCriteriaTextField.setText(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/findTaskByTaskOrCaseNameShortDesc"));' #txt
Ts0 f89 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f89 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>define text, tooltiptext and icons 
on the popup menu entries
from cms
define the parent display if not defined</name>
        <nameStyle>111,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f89 1558 116 36 24 20 -2 #rect
Ts0 f89 @|RichDialogProcessStepIcon #fIcon
Ts0 f98 expr out #txt
Ts0 f98 1576 66 1576 116 #arcP
Ts0 f98 0 0.5084264667537303 0 0 #arcLabel
Ts0 f111 guid 11B2C29E18858E15 #txt
Ts0 f111 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f111 method refresh() #txt
Ts0 f111 disableUIEvents false #txt
Ts0 f111 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh()</name>
    </language>
</elementInfo>
' #txt
Ts0 f111 494 158 20 20 13 0 #rect
Ts0 f111 @|RichDialogMethodStartIcon #fIcon
Ts0 f113 guid 11B2C397226E51AC #txt
Ts0 f113 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f113 method start(Boolean,ch.ivyteam.ivy.richdialog.widgets.displays.RCloseableTabbedDisplay,ch.ivyteam.ivy.workflow.IPropertyFilter,Number,Boolean) #txt
Ts0 f113 disableUIEvents false #txt
Ts0 f113 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Boolean aRunningTaskMode,ch.ivyteam.ivy.richdialog.widgets.displays.RCloseableTabbedDisplay aTaskDisplayListParentDisplay,ch.ivyteam.ivy.workflow.IPropertyFilter aPropertyFilter,java.lang.Number aTaskDisplayMode,java.lang.Boolean aHasWfAdministratorPermissions> param = methodEvent.getInputArguments();
' #txt
Ts0 f113 inActionCode 'import ch.ivyteam.ivy.workflow.ui.utils.UserPropertyKeys;
import ch.ivyteam.ivy.security.IUser;
import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUserPropertyHelper;

out.hasWfAdministratorPermissions = param.aHasWfAdministratorPermissions;
out.originalPropertyFilter = param.aPropertyFilter;
out.runningTaskMode = param.aRunningTaskMode;
out.taskDisplayListParentDisplay = param.aTaskDisplayListParentDisplay;
out.taskDisplayMode = param.aTaskDisplayMode;
out.taskDisplayModeText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/taskDisplayMode" + param.aTaskDisplayMode + "LongDesc");
out.taskListParentDisplayId = param.aTaskDisplayListParentDisplay.displayId;


// get the auto hide menu during task execution preference
IUser sessionUser = ivy.session.getSessionUser();

boolean enableAutoHideMenuMode = WorkflowUserPropertyHelper.getMenuAutoHidePreference(sessionUser);
ivy.log.debug("User {0} preference {1} has value {2}.", sessionUser.getName(), UserPropertyKeys.MENU_AUTO_HIDE_PROPERTY_KEY, enableAutoHideMenuMode);
out.autoHideMenuParameter = enableAutoHideMenuMode.toString();' #txt
Ts0 f113 outParameterDecl '<> result;
' #txt
Ts0 f113 embeddedRdInitializations '* ' #txt
Ts0 f113 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start(Boolean,RCloseableTabbedDisplay,IPropertyFilter,Number,Boolean)</name>
    </language>
</elementInfo>
' #txt
Ts0 f113 134 78 20 20 13 0 #rect
Ts0 f113 @|RichDialogInitStartIcon #fIcon
Ts0 f114 expr out #txt
Ts0 f114 144 98 98 152 #arcP
Ts0 f114 1 144 152 #addKink
Ts0 f114 1 0.007622397463515455 0 0 #arcLabel
Ts0 f9 guid 11B3DADB5466EF52 #txt
Ts0 f9 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f9 method caseIsInitialized() #txt
Ts0 f9 disableUIEvents false #txt
Ts0 f9 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f9 outParameterDecl '<java.lang.Boolean aCaseIsInitialized> result;
' #txt
Ts0 f9 outParameterMapAction 'result.aCaseIsInitialized=in.#aCase is initialized;
' #txt
Ts0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>caseIsInitialized()</name>
        <nameStyle>19,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f9 430 334 20 20 13 0 #rect
Ts0 f9 @|RichDialogMethodStartIcon #fIcon
Ts0 f50 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f50 427 483 26 26 14 0 #rect
Ts0 f50 @|RichDialogProcessEndIcon #fIcon
Ts0 f52 expr out #txt
Ts0 f52 440 354 440 483 #arcP
Ts0 f56 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f56 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f56 66 258 28 28 14 0 #rect
Ts0 f56 @|AlternativeIcon #fIcon
Ts0 f88 expr out #txt
Ts0 f88 80 164 80 258 #arcP
Ts0 f110 expr in #txt
Ts0 f110 outCond 'in.#originalPropertyFilter is initialized' #txt
Ts0 f110 80 286 80 316 #arcP
Ts0 f10 expr out #txt
Ts0 f10 440 146 94 272 #arcP
Ts0 f10 1 440 272 #addKink
Ts0 f10 1 0.6644507902066362 0 0 #arcLabel
Ts0 f48 expr out #txt
Ts0 f48 504 178 94 272 #arcP
Ts0 f48 1 504 272 #addKink
Ts0 f48 1 0.3106180666817441 0 0 #arcLabel
Ts0 f45 guid 11B40754687FB16D #txt
Ts0 f45 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f45 method findTasksByCase(ch.ivyteam.ivy.workflow.ICase) #txt
Ts0 f45 disableUIEvents false #txt
Ts0 f45 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.workflow.ICase aCase> param = methodEvent.getInputArguments();
' #txt
Ts0 f45 inParameterMapAction 'out.aCase=param.aCase;
' #txt
Ts0 f45 outParameterDecl '<> result;
' #txt
Ts0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTasksByCase(ICase)</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f45 542 190 20 20 13 0 #rect
Ts0 f45 @|RichDialogMethodStartIcon #fIcon
Ts0 f54 expr out #txt
Ts0 f54 552 210 94 272 #arcP
Ts0 f54 1 552 272 #addKink
Ts0 f54 1 0.31609858833696647 0 0 #arcLabel
Ts0 f55 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f55 actionTable 'out=in;
' #txt
Ts0 f55 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.workflow.ITask;
import java.util.Locale;

List<ITask> result;
result.clear();
result.addAll(in.aCase.getTasks());

out.tasks.clear();

for (ITask wfTask: result)
{
	ITaskWrapper wfTaskWrapper = null;
	wfTaskWrapper.wfTask = wfTask;
	wfTaskWrapper.setBusinessMilestoneTimestamp(wfTask.getBusinessMilestoneTimestamp());
  wfTaskWrapper.setCaseBusinessMilestoneTimestamp(wfTask.getCase().getBusinessMilestoneTimestamp());
	wfTaskWrapper.setCaseBusinessStartTimestamp(wfTask.getCase().getBusinessStartTimestamp());
	wfTaskWrapper.setExpiryTimestamp(wfTask.getExpiryTimestamp());
	wfTaskWrapper.setStartTimestamp(wfTask.getStartTimestamp());
	wfTaskWrapper.setDelayTimestamp(wfTask.getDelayTimestamp());	
	
	out.tasks.add(wfTaskWrapper);
}


String task = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/task").toString();
String tasks = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/tasks").toString();
if (!Locale.GERMAN.getLanguage().equals(ivy.session.getContentLocale().getLanguage()))
{
	task = task.toLowerCase(ivy.session.getContentLocale());
	tasks = tasks.toLowerCase(ivy.session.getContentLocale());
}
// inform the user about the found result
out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/found") + " " + 
										in.tasks.size() + " " + 
										(in.tasks.size() == 1 ? task 
																					: tasks);

' #txt
Ts0 f55 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f55 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get tasks 
of the case</name>
        <nameStyle>22,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f55 222 316 36 24 20 -2 #rect
Ts0 f55 @|RichDialogProcessStepIcon #fIcon
Ts0 f116 expr in #txt
Ts0 f116 outCond 'in.#aCase is initialized' #txt
Ts0 f116 93 273 240 316 #arcP
Ts0 f116 1 240 288 #addKink
Ts0 f116 0 0.7182183850583899 0 0 #arcLabel
Ts0 f112 expr out #txt
Ts0 f112 240 340 98 416 #arcP
Ts0 f112 1 240 416 #addKink
Ts0 f112 1 0.26627527012032626 0 0 #arcLabel
Ts0 f117 expr in #txt
Ts0 f117 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do nothing</name>
        <nameStyle>10,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f117 94 272 92 470 #arcP
Ts0 f117 1 344 280 #addKink
Ts0 f117 2 344 448 #addKink
Ts0 f117 1 0.1889362128916778 0 0 #arcLabel
Ts0 f207 actionCode panel.fireXivyCloseTaskDisplayList(); #txt
Ts0 f207 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f207 fireEvent xivyCloseTaskDisplayList() #txt
Ts0 f207 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Fire the RDEvent
&quot;closeTaskDisplayList&quot;</name>
        <nameStyle>39,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f207 1182 412 36 24 20 -2 #rect
Ts0 f207 @|RichDialogFireEventIcon #fIcon
Ts0 f127 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f127 1123 459 26 26 14 0 #rect
Ts0 f127 @|RichDialogProcessEndIcon #fIcon
Ts0 f212 expr out #txt
Ts0 f212 1200 436 1148 470 #arcP
Ts0 f212 1 1200 464 #addKink
Ts0 f212 1 0.25269193952791486 0 0 #arcLabel
Ts0 f78 targetWindow NEW:card: #txt
Ts0 f78 targetDisplay TOP #txt
Ts0 f78 richDialogId ch.ivyteam.ivy.addons.commondialogs.QuestionDialog #txt
Ts0 f78 startMethod askQuestionWithTitle(String,String,String,List<String>) #txt
Ts0 f78 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f78 panelName <%=in.questionWindowTitle%> #txt
Ts0 f78 requestActionDecl '<String icon, String questionTitle, String questionText, List<String> buttons> param;' #txt
Ts0 f78 requestMappingAction 'param.buttons=["yes", "no"];
' #txt
Ts0 f78 requestActionCode 'in.questionWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/confirmation");

param.icon = "question";
param.questionTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/cancelTaskShortDesc"); 
param.questionText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/continue");' #txt
Ts0 f78 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f78 responseMappingAction 'out=in;
out.questionDialogPressedButtonResult=result.pressedButton;
' #txt
Ts0 f78 windowConfiguration '{/title "<%=in.questionWindowTitle%>"/width 550 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f78 isAsynch false #txt
Ts0 f78 isInnerRd true #txt
Ts0 f78 isDialog true #txt
Ts0 f78 userContext '* ' #txt
Ts0 f78 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>preparea question 
and show Question dialog</name>
        <nameStyle>19,7,9
9,7,9
15,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f78 2038 1068 36 24 20 -2 #rect
Ts0 f78 @|RichDialogIcon #fIcon
Ts0 f216 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f216 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>user pressed yes</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f216 2042 1122 28 28 14 0 #rect
Ts0 f216 @|AlternativeIcon #fIcon
Ts0 f217 expr out #txt
Ts0 f217 2056 1092 2056 1122 #arcP
Ts0 f218 expr in #txt
Ts0 f218 2070 1136 2069 1368 #arcP
Ts0 f218 1 2192 1136 #addKink
Ts0 f218 2 2192 1368 #addKink
Ts0 f218 1 0.30156433950130573 0 0 #arcLabel
Ts0 f221 targetWindow NEW:card: #txt
Ts0 f221 targetDisplay TOP #txt
Ts0 f221 richDialogId ch.ivyteam.ivy.addons.commondialogs.QuestionDialog #txt
Ts0 f221 startMethod askQuestionWithTitle(String,String,String,List<String>) #txt
Ts0 f221 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f221 panelName <%=in.questionWindowTitle%> #txt
Ts0 f221 requestActionDecl '<String icon, String questionTitle, String questionText, List<String> buttons> param;' #txt
Ts0 f221 requestMappingAction 'param.buttons=["yes", "no"];
' #txt
Ts0 f221 requestActionCode 'in.questionWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/confirmation");

param.icon = "question";
param.questionTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskShortDesc");
param.questionText = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/continue");
' #txt
Ts0 f221 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f221 responseMappingAction 'out=in;
out.questionDialogPressedButtonResult=result.pressedButton;
' #txt
Ts0 f221 windowConfiguration '{/title "<%=in.questionWindowTitle%>"/width 550 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f221 isAsynch false #txt
Ts0 f221 isInnerRd true #txt
Ts0 f221 isDialog true #txt
Ts0 f221 userContext '* ' #txt
Ts0 f221 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepare question
and show Question dialog</name>
        <nameStyle>41,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f221 2294 1068 36 24 20 -2 #rect
Ts0 f221 @|RichDialogIcon #fIcon
Ts0 f223 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f223 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>user pressed yes?</name>
        <nameStyle>17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f223 2298 1122 28 28 14 0 #rect
Ts0 f223 @|AlternativeIcon #fIcon
Ts0 f224 expr out #txt
Ts0 f224 2312 1092 2312 1122 #arcP
Ts0 f225 expr in #txt
Ts0 f225 2326 1136 2069 1368 #arcP
Ts0 f225 1 2448 1136 #addKink
Ts0 f225 2 2448 1368 #addKink
Ts0 f225 1 0.9432801396712388 0 0 #arcLabel
Ts0 f226 guid 11E4147805919F81 #txt
Ts0 f226 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f226 broadcast ivy_systemevent_workflow_task_changed #txt
Ts0 f226 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f226 actionTable 'out=in;
' #txt
Ts0 f226 actionCode 'import java.util.Collections;

out.broadcastedTaskIdentifiers = param.aWorkflowSystemEventParameter.getIdentifiers();
Collections.sort(out.broadcastedTaskIdentifiers);

ivy.log.debug("Task display list recieved tasks that has state changed {0}",
							out.broadcastedTaskIdentifiers);' #txt
Ts0 f226 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ivy_systemevent_workflow_task_changed</name>
        <nameStyle>37,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f226 3302 30 20 20 13 0 #rect
Ts0 f226 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f229 expr out #txt
Ts0 f229 3312 50 3312 76 #arcP
Ts0 f229 0 0.6395396119816713 0 0 #arcLabel
Ts0 f19 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f19 2666 1266 28 28 14 0 #rect
Ts0 f19 @|AlternativeIcon #fIcon
Ts0 f31 expr out #txt
Ts0 f31 2680 1148 2680 1266 #arcP
Ts0 f27 expr in #txt
Ts0 f27 outCond '!in.#exception is initialized' #txt
Ts0 f27 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f27 2680 1294 2680 1355 #arcP
Ts0 f35 targetWindow NEW #txt
Ts0 f35 targetDisplay TOP #txt
Ts0 f35 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Ts0 f35 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f35 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f35 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f35 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f35 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/parkTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f35 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f35 responseMappingAction 'out=in;
' #txt
Ts0 f35 windowConfiguration '#Mon Apr 27 00:09:45 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f35 isAsynch false #txt
Ts0 f35 isInnerRd true #txt
Ts0 f35 isDialog true #txt
Ts0 f35 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show
error dialog</name>
        <nameStyle>17,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f35 2758 1308 36 24 20 -2 #rect
Ts0 f35 @|RichDialogIcon #fIcon
Ts0 f66 expr in #txt
Ts0 f66 2694 1280 2776 1308 #arcP
Ts0 f66 1 2776 1280 #addKink
Ts0 f66 1 0.16116133066661872 0 0 #arcLabel
Ts0 f107 expr out #txt
Ts0 f107 2776 1332 2693 1368 #arcP
Ts0 f107 1 2776 1368 #addKink
Ts0 f107 0 0.7614934725566147 0 0 #arcLabel
Ts0 f108 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f108 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f108 2826 674 28 28 14 0 #rect
Ts0 f108 @|AlternativeIcon #fIcon
Ts0 f109 expr out #txt
Ts0 f109 2840 644 2840 674 #arcP
Ts0 f109 0 0.9690956827408201 0 0 #arcLabel
Ts0 f118 expr in #txt
Ts0 f118 outCond '!in.#exception is initialized' #txt
Ts0 f118 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f118 2840 702 2840 747 #arcP
Ts0 f136 targetWindow NEW #txt
Ts0 f136 targetDisplay TOP #txt
Ts0 f136 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Ts0 f136 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f136 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f136 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f136 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f136 requestActionCode 'param.error = new java.lang.Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskFailed").toString() + in.selectedTask.getIdentifier(),
	in.exception);

ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskFailed").toString() + in.selectedTask.getIdentifier(), 
	in.exception);' #txt
Ts0 f136 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f136 responseMappingAction 'out=in;
' #txt
Ts0 f136 windowConfiguration '#Mon Apr 27 00:09:36 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f136 isAsynch false #txt
Ts0 f136 isInnerRd true #txt
Ts0 f136 isDialog true #txt
Ts0 f136 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show
error dialog</name>
        <nameStyle>17,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f136 2902 708 36 24 20 -2 #rect
Ts0 f136 @|RichDialogIcon #fIcon
Ts0 f227 expr in #txt
Ts0 f227 2854 688 2920 708 #arcP
Ts0 f227 1 2920 688 #addKink
Ts0 f227 0 0.7253141469135801 0 0 #arcLabel
Ts0 f228 expr out #txt
Ts0 f228 2920 732 2852 756 #arcP
Ts0 f228 1 2920 736 #addKink
Ts0 f228 1 0.31722231981890764 0 0 #arcLabel
Ts0 f230 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f230 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f230 1506 1266 28 28 14 -16 #rect
Ts0 f230 @|AlternativeIcon #fIcon
Ts0 f231 expr out #txt
Ts0 f231 1520 1220 1520 1266 #arcP
Ts0 f164 expr in #txt
Ts0 f164 outCond '!in.#exception is initialized' #txt
Ts0 f164 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f164 1520 1294 1520 1355 #arcP
Ts0 f232 targetWindow NEW #txt
Ts0 f232 targetDisplay TOP #txt
Ts0 f232 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Ts0 f232 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f232 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f232 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f232 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f232 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);


ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskExpiryFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f232 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f232 responseMappingAction 'out=in;
' #txt
Ts0 f232 windowConfiguration '#Mon Apr 27 00:22:37 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f232 isAsynch false #txt
Ts0 f232 isInnerRd true #txt
Ts0 f232 isDialog true #txt
Ts0 f232 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f232 1574 1308 36 24 20 -2 #rect
Ts0 f232 @|RichDialogIcon #fIcon
Ts0 f233 expr in #txt
Ts0 f233 1534 1280 1592 1308 #arcP
Ts0 f233 1 1592 1280 #addKink
Ts0 f233 0 0.7414335424923689 0 0 #arcLabel
Ts0 f234 expr out #txt
Ts0 f234 1592 1332 1533 1368 #arcP
Ts0 f234 1 1592 1368 #addKink
Ts0 f234 0 0.5582356547776101 0 0 #arcLabel
Ts0 f235 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f235 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f235 1770 1258 28 28 14 0 #rect
Ts0 f235 @|AlternativeIcon #fIcon
Ts0 f236 expr out #txt
Ts0 f236 1784 1220 1784 1258 #arcP
Ts0 f236 0 0.5906754678307391 0 0 #arcLabel
Ts0 f200 expr in #txt
Ts0 f200 outCond '!in.#exception is initialized' #txt
Ts0 f200 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f200 1784 1286 1533 1368 #arcP
Ts0 f200 1 1784 1368 #addKink
Ts0 f200 1 0.365450428998305 0 0 #arcLabel
Ts0 f237 targetWindow NEW #txt
Ts0 f237 targetDisplay TOP #txt
Ts0 f237 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Ts0 f237 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f237 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f237 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f237 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f237 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/setTaskBlockingDelayFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f237 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f237 responseMappingAction 'out=in;
' #txt
Ts0 f237 windowConfiguration '#Mon Apr 27 00:25:43 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f237 isAsynch false #txt
Ts0 f237 isInnerRd true #txt
Ts0 f237 isDialog true #txt
Ts0 f237 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f237 1830 1308 36 24 20 -2 #rect
Ts0 f237 @|RichDialogIcon #fIcon
Ts0 f238 expr in #txt
Ts0 f238 1798 1272 1848 1308 #arcP
Ts0 f238 1 1848 1272 #addKink
Ts0 f238 0 0.9020113168155675 0 0 #arcLabel
Ts0 f239 expr out #txt
Ts0 f239 1848 1332 1533 1368 #arcP
Ts0 f239 1 1848 1368 #addKink
Ts0 f239 1 0.4233140623957903 0 0 #arcLabel
Ts0 f240 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f240 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f240 2042 1250 28 28 14 0 #rect
Ts0 f240 @|AlternativeIcon #fIcon
Ts0 f241 expr out #txt
Ts0 f241 2056 1220 2056 1250 #arcP
Ts0 f193 expr in #txt
Ts0 f193 outCond '!in.#exception is initialized' #txt
Ts0 f193 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f193 2056 1278 2056 1355 #arcP
Ts0 f242 targetWindow NEW #txt
Ts0 f242 targetDisplay TOP #txt
Ts0 f242 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Ts0 f242 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f242 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f242 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f242 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f242 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/resetTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/resetTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f242 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f242 responseMappingAction 'out=in;
' #txt
Ts0 f242 windowConfiguration '#Mon Apr 27 00:28:39 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f242 isAsynch false #txt
Ts0 f242 isInnerRd true #txt
Ts0 f242 isDialog true #txt
Ts0 f242 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f242 2102 1308 36 24 20 -2 #rect
Ts0 f242 @|RichDialogIcon #fIcon
Ts0 f243 expr in #txt
Ts0 f243 2070 1264 2120 1308 #arcP
Ts0 f243 1 2120 1264 #addKink
Ts0 f243 0 0.809017480539028 0 0 #arcLabel
Ts0 f244 expr out #txt
Ts0 f244 2120 1332 2069 1368 #arcP
Ts0 f244 1 2120 1368 #addKink
Ts0 f244 1 0.022674115514358446 0 0 #arcLabel
Ts0 f245 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f245 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exception ?</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f245 2298 1250 28 28 14 0 #rect
Ts0 f245 @|AlternativeIcon #fIcon
Ts0 f246 expr out #txt
Ts0 f246 2312 1220 2312 1250 #arcP
Ts0 f246 0 0.2789269004312667 0 0 #arcLabel
Ts0 f247 expr in #txt
Ts0 f247 outCond '!in.#exception is initialized' #txt
Ts0 f247 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f247 2312 1278 2069 1368 #arcP
Ts0 f247 1 2312 1368 #addKink
Ts0 f247 1 0.3104047977233754 0 0 #arcLabel
Ts0 f165 targetWindow NEW #txt
Ts0 f165 targetDisplay TOP #txt
Ts0 f165 richDialogId ch.ivyteam.ivy.addons.commondialogs.ErrorDialog #txt
Ts0 f165 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
Ts0 f165 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f165 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
Ts0 f165 requestMappingAction 'param.showCopyButton=true;
param.showDetailButton=true;
' #txt
Ts0 f165 requestActionCode 'param.error = new Exception(
	ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);
	
ivy.log.error(ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/destroyTaskFailed").toString() + " " + in.selectedTask.getIdentifier(),
	in.exception);' #txt
Ts0 f165 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f165 responseMappingAction 'out=in;
' #txt
Ts0 f165 windowConfiguration '#Mon Apr 27 00:30:51 CEST 2009
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Error
' #txt
Ts0 f165 isAsynch false #txt
Ts0 f165 isInnerRd true #txt
Ts0 f165 isDialog true #txt
Ts0 f165 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show 
error dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f165 2358 1308 36 24 20 -2 #rect
Ts0 f165 @|RichDialogIcon #fIcon
Ts0 f248 expr in #txt
Ts0 f248 2326 1264 2376 1308 #arcP
Ts0 f248 1 2376 1264 #addKink
Ts0 f248 1 0.09491561709799871 0 0 #arcLabel
Ts0 f249 expr out #txt
Ts0 f249 2376 1332 2069 1368 #arcP
Ts0 f249 1 2376 1368 #addKink
Ts0 f249 1 0.4280023872839779 0 0 #arcLabel
Ts0 f251 targetDisplay TOP #txt
Ts0 f251 richDialogId ch.ivyteam.ivy.addons.commondialogs.MessageDialog #txt
Ts0 f251 startMethod showMessage(String) #txt
Ts0 f251 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f251 requestActionDecl '<String message> param;' #txt
Ts0 f251 requestMappingAction 'param.message=ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/alreadyOneTaskRunning");
' #txt
Ts0 f251 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f251 responseMappingAction 'out=in;
' #txt
Ts0 f251 windowConfiguration '{/title "Message"/width 300 /height 150 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f251 isAsynch false #txt
Ts0 f251 isInnerRd true #txt
Ts0 f251 isDialog true #txt
Ts0 f251 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Display
message
info</name>
        <nameStyle>20,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f251 2518 676 36 24 26 -19 #rect
Ts0 f251 @|RichDialogIcon #fIcon
Ts0 f253 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f253 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Is auto hide menu mode AND
more than one task running ?</name>
        <nameStyle>27,7,9
28,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f253 2282 578 28 28 17 -18 #rect
Ts0 f253 @|AlternativeIcon #fIcon
Ts0 f72 expr out #txt
Ts0 f72 2536 700 2308 759 #arcP
Ts0 f72 1 2536 744 #addKink
Ts0 f72 1 0.32576426159715605 0 0 #arcLabel
Ts0 f3 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is running task mode and
there is embedded task displays?</name>
        <nameStyle>57,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f3 890 90 28 28 14 0 #rect
Ts0 f3 @|AlternativeIcon #fIcon
Ts0 f5 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f5 actionTable 'out=in;
' #txt
Ts0 f5 actionCode 'import ch.ivyteam.ivy.richdialog.exec.panel.IRichDialogPanel;
import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;



out.availableTasksUnderThisTab.clear();

for(IRichDialogPanel richDialogPanel: panel.taskDisplayTabbedDisplay.getPanels())
{
	if (richDialogPanel instanceof TaskDisplayPanel)
	{
		out.availableTasksUnderThisTab.add(richDialogPanel as TaskDisplayPanel);
	}
}

out.counter = 0;' #txt
Ts0 f5 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f5 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get the 
current task displays</name>
        <nameStyle>30,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f5 886 148 36 24 20 -2 #rect
Ts0 f5 @|RichDialogProcessStepIcon #fIcon
Ts0 f8 expr in #txt
Ts0 f8 outCond 'in.runningTaskMode && 
panel.taskDisplayTabbedDisplay.getPanels() is initialized &&
panel.taskDisplayTabbedDisplay.getPanels().size() > 0' #txt
Ts0 f8 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f8 904 118 904 148 #arcP
Ts0 f13 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>counter value is valid?</name>
        <nameStyle>23,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f13 890 194 28 28 14 0 #rect
Ts0 f13 @|AlternativeIcon #fIcon
Ts0 f14 expr out #txt
Ts0 f14 904 172 904 194 #arcP
Ts0 f17 targetDisplay TOP #txt
Ts0 f17 richDialogId ch.ivyteam.ivy.addons.commondialogs.QuestionDialog #txt
Ts0 f17 startMethod askQuestion(String,String,List<String>) #txt
Ts0 f17 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f17 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
Ts0 f17 requestActionCode 'import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;
import ch.ivyteam.ivy.workflow.ITask;

ITask task = (in.availableTasksUnderThisTab.get(in.counter) as TaskDisplayPanel).getTask();

param.question = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/doYouWantToBookTheTask") + 
									"\n " + task.getName() + " - " + task.getIdentifier() + " ?";

param.buttons = ["yes", "no", "cancel"];' #txt
Ts0 f17 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f17 responseMappingAction 'out=in;
' #txt
Ts0 f17 responseActionCode 'out.pressedButton = result.pressedButton;' #txt
Ts0 f17 windowConfiguration '{/title "Alert"/width 450 /height 150 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f17 isAsynch false #txt
Ts0 f17 isInnerRd true #txt
Ts0 f17 isDialog true #txt
Ts0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ask question:
do you want to
book (park) the task?</name>
        <nameStyle>50,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f17 886 292 36 24 20 -2 #rect
Ts0 f17 @|RichDialogIcon #fIcon
Ts0 f77 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f77 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f77 890 338 28 28 14 0 #rect
Ts0 f77 @|AlternativeIcon #fIcon
Ts0 f90 expr out #txt
Ts0 f90 904 316 904 338 #arcP
Ts0 f91 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f91 actionTable 'out=in;
' #txt
Ts0 f91 actionCode 'import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;


// park the task
if (in.availableTasksUnderThisTab.get(in.counter) instanceof TaskDisplayPanel)
{
	ivy.session.parkTask((in.availableTasksUnderThisTab.get(in.counter) as TaskDisplayPanel).getTask());
}' #txt
Ts0 f91 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f91 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>book the task</name>
        <nameStyle>13,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f91 886 388 36 24 20 -2 #rect
Ts0 f91 @|RichDialogProcessStepIcon #fIcon
Ts0 f93 expr in #txt
Ts0 f93 outCond in.pressedButton.equals("yes") #txt
Ts0 f93 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f93 904 366 904 388 #arcP
Ts0 f121 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f121 actionTable 'out=in;
' #txt
Ts0 f121 actionCode 'import ch.ivyteam.ivy.workflow.ITask;
import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;
import ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel;

if (in.availableTasksUnderThisTab.get(in.counter) instanceof TaskDisplayPanel)
{
	ITask task = (in.availableTasksUnderThisTab.get(in.counter) as TaskDisplayPanel).getTask();
	WorkflowUIAccessPermissionHandler.resetTaskAsSystemUser(task);
}' #txt
Ts0 f121 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f121 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>reset the task</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f121 1006 388 36 24 20 -2 #rect
Ts0 f121 @|RichDialogProcessStepIcon #fIcon
Ts0 f122 expr in #txt
Ts0 f122 outCond in.pressedButton.equals("no") #txt
Ts0 f122 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f122 916 354 1024 388 #arcP
Ts0 f122 1 1024 368 #addKink
Ts0 f122 0 0.7251218595977005 0 0 #arcLabel
Ts0 f124 expr in #txt
Ts0 f124 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancel</name>
        <nameStyle>6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f124 918 352 1136 459 #arcP
Ts0 f124 1 1136 352 #addKink
Ts0 f124 1 0.11310390592796155 0 0 #arcLabel
Ts0 f125 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f125 actionTable 'out=in;
' #txt
Ts0 f125 actionCode 'import ch.ivyteam.ivy.richdialog.exec.panel.IRichDialogPanel;

IRichDialogPanel currentPanel = in.availableTasksUnderThisTab.get(in.counter);
currentPanel.getPanelAPI().unload();
' #txt
Ts0 f125 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f125 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>unload Rich Dialog</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f125 1078 300 36 24 20 -2 #rect
Ts0 f125 @|RichDialogProcessStepIcon #fIcon
Ts0 f141 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f141 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is running?</name>
        <nameStyle>16,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f141 890 242 28 28 14 0 #rect
Ts0 f141 @|AlternativeIcon #fIcon
Ts0 f210 expr in #txt
Ts0 f210 outCond 'in.counter > -1 &&
in.counter < in.availableTasksUnderThisTab.size()' #txt
Ts0 f210 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f210 904 222 904 242 #arcP
Ts0 f53 expr in #txt
Ts0 f53 outCond '(in.availableTasksUnderThisTab.get(in.counter) as ch.ivyteam.ivy.workflow.ui.task.TaskDisplay.TaskDisplayPanel).getTask().getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.RESUMED) == 0' #txt
Ts0 f53 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f53 904 270 904 292 #arcP
Ts0 f211 expr in #txt
Ts0 f211 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f211 918 256 1096 300 #arcP
Ts0 f211 1 1096 256 #addKink
Ts0 f211 1 0.1187652470280898 0 0 #arcLabel
Ts0 f16 expr in #txt
Ts0 f16 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f16 918 208 1200 412 #arcP
Ts0 f16 1 1200 208 #addKink
Ts0 f16 1 0.020051038830843006 0 0 #arcLabel
Ts0 f15 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f15 actionTable 'out=in;
' #txt
Ts0 f15 actionCode 'import com.ulcjava.base.application.ULCComponent;
import ch.ivyteam.ivy.richdialog.exec.panel.IRichDialogPanel;

for(ULCComponent component: panel.taskDisplayTabbedDisplay.getComponents())
{
	if (component instanceof IRichDialogPanel)
	{
		IRichDialogPanel currentPanel = component as IRichDialogPanel;
		currentPanel.getPanelAPI().unload();
	}	
}

' #txt
Ts0 f15 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>unload all
embedded but 
not running tasks</name>
        <nameStyle>42,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f15 1254 268 36 24 20 -2 #rect
Ts0 f15 @|RichDialogProcessStepIcon #fIcon
Ts0 f258 expr in #txt
Ts0 f258 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f258 918 104 1272 268 #arcP
Ts0 f258 1 1272 104 #addKink
Ts0 f258 0 0.8237000298752087 0 0 #arcLabel
Ts0 f262 expr out #txt
Ts0 f262 1272 292 1218 420 #arcP
Ts0 f262 1 1272 408 #addKink
Ts0 f262 0 0.810086836473021 0 0 #arcLabel
Ts0 f254 guid 128D46F6DFE11C93 #txt
Ts0 f254 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f254 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f254 actionTable 'out=in;
' #txt
Ts0 f254 actionCode '// refresh the task list and
// enable the automatic tasks execution mode only if task list is not empty
panel.refresh();
out.automaticTasksExecutionMode = !in.tasks.isEmpty();' #txt
Ts0 f254 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggleAutomaticTasksExecution</name>
        <nameStyle>29,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f254 2470 54 20 20 11 1 #rect
Ts0 f254 @|RichDialogProcessStartIcon #fIcon
Ts0 f266 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f266 2678 270 20 20 13 0 #rect
Ts0 f266 @|RichDialogProcessEndIcon #fIcon
Ts0 f267 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f267 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>continue?</name>
        <nameStyle>9,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f267 2466 218 28 28 5 -22 #rect
Ts0 f267 @|AlternativeIcon #fIcon
Ts0 f269 expr in #txt
Ts0 f269 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f269 2493 233 2688 270 #arcP
Ts0 f269 1 2688 248 #addKink
Ts0 f269 0 0.9207031720138521 0 0 #arcLabel
Ts0 f68 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f68 actionTable 'out=in;
' #txt
Ts0 f68 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;

if (in.#selectedTaskObject is initialized)
{
	ITaskWrapper wfTaskWrapper = in.selectedTaskObject as ITaskWrapper;
	out.setSelectedTask(wfTaskWrapper.getWfTask());
}' #txt
Ts0 f68 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f68 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get the selected task</name>
        <nameStyle>21,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f68 2278 252 36 24 20 -2 #rect
Ts0 f68 @|RichDialogProcessStepIcon #fIcon
Ts0 f272 expr out #txt
Ts0 f272 2344 234 2314 261 #arcP
Ts0 f272 1 2344 256 #addKink
Ts0 f272 1 0.4333616602961234 0 0 #arcLabel
Ts0 f263 expr out #txt
Ts0 f263 2334 192 2296 252 #arcP
Ts0 f263 1 2296 192 #addKink
Ts0 f263 1 0.24031723548939735 0 0 #arcLabel
Ts0 f264 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f264 actionTable 'out=in;
' #txt
Ts0 f264 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
import ch.ivyteam.ivy.workflow.TaskState;
import ch.ivyteam.ivy.workflow.ITask;

// define valid display
out.selectedTaskDisplayId = in.taskListChildrenDisplayId;

// get the first valid task
ITask task;
ITaskWrapper wfTaskWrapper;

for (int i=out.automaticTasksExecutionModeCounter; i<in.filteredTasks.size(); i++)
{
	wfTaskWrapper = in.filteredTasks.get(i);
	task = wfTaskWrapper.wfTask;
	
	if (task.getState().compareTo(TaskState.PARKED) == 0 || task.getState().compareTo(TaskState.SUSPENDED) == 0)
	{
		ivy.log.debug("Automatic task execution: setting the task {0} - {1} as selected entry on task list.", 
									task.getIdentifier(), 
									task.getName());

		out.setSelectedTask(task);
		out.automaticTasksExecutionModeCounter = i;
		break;
	}
}' #txt
Ts0 f264 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f264 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>define display
set next task to start</name>
        <nameStyle>37,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f264 2462 268 36 24 20 -2 #rect
Ts0 f264 @|RichDialogProcessStepIcon #fIcon
Ts0 f270 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f270 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is part of 
automatic tasks execution?</name>
        <nameStyle>38,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f270 3298 138 28 28 12 1 #rect
Ts0 f270 @|AlternativeIcon #fIcon
Ts0 f273 expr out #txt
Ts0 f273 3312 100 3312 138 #arcP
Ts0 f64 expr in #txt
Ts0 f64 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f64 3326 152 3683 152 #arcP
Ts0 f64 0 0.385965755678749 0 0 #arcLabel
Ts0 f265 expr out #txt
Ts0 f265 2480 292 2309 311 #arcP
Ts0 f265 1 2480 304 #addKink
Ts0 f265 1 0.40647765863651303 0 0 #arcLabel
Ts0 f268 expr in #txt
Ts0 f268 outCond in.automaticTasksExecutionMode #txt
Ts0 f268 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f268 2480 246 2480 268 #arcP
Ts0 f268 0 0.4090909090909091 -1 0 #arcLabel
Ts0 f95 expr in #txt
Ts0 f95 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f95 2310 504 2584 548 #arcP
Ts0 f95 1 2584 504 #addKink
Ts0 f95 1 0.08474281781158338 0 0 #arcLabel
Ts0 f75 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f75 actionTable 'out=in;
' #txt
Ts0 f75 actionCode 'if (in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.PARKED) == 0 || in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) == 0)
{
	out.automaticTasksExecutionModeCounter++;
}' #txt
Ts0 f75 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f75 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if task parked or reset,
then go to the next task</name>
        <nameStyle>49,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f75 3294 220 36 24 20 -2 #rect
Ts0 f75 @|RichDialogProcessStepIcon #fIcon
Ts0 f276 expr in #txt
Ts0 f276 outCond 'in.#selectedTask is initialized &&
in.broadcastedTaskIdentifiers.contains(in.selectedTask.getIdentifier().intValue()) &&
(in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.DONE) == 0  || in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.READY_FOR_JOIN) == 0 || 
in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.PARKED) == 0 || in.selectedTask.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) == 0) ' #txt
Ts0 f276 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f276 3312 166 3312 220 #arcP
Ts0 f275 expr out #txt
Ts0 f275 3294 232 2494 232 #arcP
Ts0 f275 0 0.7799929569241365 0 0 #arcLabel
Ts0 f279 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f279 actionTable 'out=in;
' #txt
Ts0 f279 actionCode '// ensure that bottom par is visible
if (in.selectedTaskDisplayId.equals(in.taskListChildrenDisplayId))
{
	double dividerLocation  = 0.45;
	panel.taskListAndTaskInformationSplitPane.setDividerLocation(dividerLocation);
	// panel.taskListAndTaskInformationSplitPane.setStyleProperties("{/orientation \"VERTICAL_SPLIT\"/dividerLocation \"0.45\"}");
}' #txt
Ts0 f279 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f279 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>if needed, 
ensure that under this tab display is visible</name>
        <nameStyle>57,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f279 1822 588 36 24 20 -2 #rect
Ts0 f279 @|RichDialogProcessStepIcon #fIcon
Ts0 f280 expr in #txt
Ts0 f280 outCond !in.taskAlreadyLoadedOnDisplay #txt
Ts0 f280 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is not
already loaded</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f280 1840 542 1840 588 #arcP
Ts0 f62 expr out #txt
Ts0 f62 1840 612 1840 652 #arcP
Ts0 f281 guid 1295FBAF087F9806 #txt
Ts0 f281 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f281 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f281 actionTable 'out=in;
' #txt
Ts0 f281 actionCode 'import ch.ivyteam.ivy.workflow.ui.data.restricted.task.ITaskWrapper;
out.selectedTaskDisplayId = in.taskListParentDisplayId;

if (panel.tasksTable.getSelectedListEntry() is initialized)
{
	out.selectedTask = (panel.tasksTable.getSelectedListEntry() as ITaskWrapper).wfTask;
}' #txt
Ts0 f281 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onAction</name>
        <nameStyle>8,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f281 2094 118 20 20 13 0 #rect
Ts0 f281 @|RichDialogProcessStartIcon #fIcon
Ts0 f282 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f282 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is running mode?</name>
        <nameStyle>16,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f282 2090 210 28 28 14 0 #rect
Ts0 f282 @|AlternativeIcon #fIcon
Ts0 f285 expr in #txt
Ts0 f285 outCond in.runningTaskMode #txt
Ts0 f285 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f285 2118 224 2278 264 #arcP
Ts0 f285 1 2160 224 #addKink
Ts0 f285 2 2160 264 #addKink
Ts0 f285 2 0.06236769560144417 0 0 #arcLabel
Ts0 f284 expr in #txt
Ts0 f284 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f284 2090 224 1854 280 #arcP
Ts0 f284 1 2040 224 #addKink
Ts0 f284 2 2040 280 #addKink
Ts0 f284 2 0.25529292054959857 0 0 #arcLabel
Ts0 f287 guid 1296045DA4BCB470 #txt
Ts0 f287 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f287 method stopAutomaticTasksExecution() #txt
Ts0 f287 disableUIEvents false #txt
Ts0 f287 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f287 inActionCode 'out.automaticTasksExecutionMode = false;' #txt
Ts0 f287 outParameterDecl '<> result;
' #txt
Ts0 f287 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>stopAutomaticTasksExecution()</name>
        <nameStyle>29,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f287 550 334 20 20 13 0 #rect
Ts0 f287 @|RichDialogMethodStartIcon #fIcon
Ts0 f288 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f288 550 486 20 20 13 0 #rect
Ts0 f288 @|RichDialogProcessEndIcon #fIcon
Ts0 f291 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f291 actionTable 'out=in;
' #txt
Ts0 f291 actionCode 'double dividerLocation  = 0.35;
panel.taskListAndTaskInformationSplitPane.setDividerLocation(dividerLocation);

// bottom component to stay the same size and the top component to be flexible when the split pane gets bigger
panel.taskListAndTaskInformationSplitPane.setResizeWeight(1.0);' #txt
Ts0 f291 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f291 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ensure that task list and 
his display are visible</name>
        <nameStyle>50,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f291 542 396 36 24 20 -2 #rect
Ts0 f291 @|RichDialogProcessStepIcon #fIcon
Ts0 f292 expr out #txt
Ts0 f292 560 354 560 396 #arcP
Ts0 f292 0 0.6554267565702753 0 0 #arcLabel
Ts0 f290 expr out #txt
Ts0 f290 560 420 560 486 #arcP
Ts0 f290 0 0.5028572574264953 0 0 #arcLabel
Ts0 f293 actionCode panel.fireAutomaticTasksExecutionStarted(); #txt
Ts0 f293 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f293 fireEvent automaticTasksExecutionStarted() #txt
Ts0 f293 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire automaticTasksExecutionStarted</name>
        <nameStyle>35,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f293 2462 180 36 24 20 -2 #rect
Ts0 f293 @|RichDialogFireEventIcon #fIcon
Ts0 f274 expr out #txt
Ts0 f274 2480 204 2480 218 #arcP
Ts0 f295 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f295 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>automatic execution
mode enabled?</name>
        <nameStyle>33,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f295 2466 90 28 28 14 0 #rect
Ts0 f295 @|AlternativeIcon #fIcon
Ts0 f296 expr out #txt
Ts0 f296 2480 74 2480 90 #arcP
Ts0 f296 0 0.8556390977443609 0 0 #arcLabel
Ts0 f297 expr in #txt
Ts0 f297 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f297 2494 104 2491 229 #arcP
Ts0 f297 1 2544 104 #addKink
Ts0 f297 2 2544 216 #addKink
Ts0 f297 1 0.3563845837716993 0 0 #arcLabel
Ts0 f289 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f289 542 750 20 20 13 0 #rect
Ts0 f289 @|RichDialogProcessEndIcon #fIcon
Ts0 f278 guid 12964E9CC20C3A21 #txt
Ts0 f278 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f278 method _maximizeDisplay() #txt
Ts0 f278 disableUIEvents false #txt
Ts0 f278 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>_maximizeDisplay()</name>
    </language>
</elementInfo>
' #txt
Ts0 f278 542 566 20 20 13 0 #rect
Ts0 f278 @|RichDialogMethodStartIcon #fIcon
Ts0 f299 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f299 actionTable 'out=in;
' #txt
Ts0 f299 actionCode '// bottom component adjusts its size to fit the remaining space
panel.taskListAndTaskInformationSplitPane.setResizeWeight(0.0);


// ensure that bottom part is visible
if (in.selectedTaskDisplayId.equals(in.taskListChildrenDisplayId))
{
	double dividerLocation  = 0.0;
	panel.taskListAndTaskInformationSplitPane.setDividerLocation(dividerLocation);
}' #txt
Ts0 f299 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f299 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f299 534 644 36 24 20 -2 #rect
Ts0 f299 @|RichDialogProcessStepIcon #fIcon
Ts0 f300 expr out #txt
Ts0 f300 552 586 552 644 #arcP
Ts0 f298 expr out #txt
Ts0 f298 552 668 552 750 #arcP
Ts0 f303 expr out #txt
Ts0 f303 904 66 904 90 #arcP
Ts0 f302 expr out #txt
Ts0 f302 1504 58 918 104 #arcP
Ts0 f302 1 1504 88 #addKink
Ts0 f302 0 0.5105102294335333 0 0 #arcLabel
Ts0 f305 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f305 actionTable 'out=in;
' #txt
Ts0 f305 actionCode out.counter++; #txt
Ts0 f305 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f305 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>counter++</name>
        <nameStyle>9,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f305 886 444 36 24 20 -2 #rect
Ts0 f305 @|RichDialogProcessStepIcon #fIcon
Ts0 f306 expr out #txt
Ts0 f306 904 412 904 444 #arcP
Ts0 f306 0 0.4257357030771846 0 0 #arcLabel
Ts0 f304 expr out #txt
Ts0 f304 1024 412 922 454 #arcP
Ts0 f304 1 1024 440 #addKink
Ts0 f304 1 0.11496598543915705 0 0 #arcLabel
Ts0 f137 expr out #txt
Ts0 f137 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name></name>
    </language>
</elementInfo>
' #txt
Ts0 f137 1096 324 922 456 #arcP
Ts0 f137 1 1096 456 #addKink
Ts0 f137 0 0.6774193548387096 0 1 #arcLabel
Ts0 f4 expr out #txt
Ts0 f4 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>do the loop</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f4 886 456 890 208 #arcP
Ts0 f4 1 808 456 #addKink
Ts0 f4 2 808 208 #addKink
Ts0 f4 1 0.5080645161290323 0 0 #arcLabel
Ts0 f7 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f7 1566 182 20 20 13 0 #rect
Ts0 f7 @|RichDialogProcessEndIcon #fIcon
Ts0 f140 expr out #txt
Ts0 f140 1576 140 1576 182 #arcP
Ts0 f140 0 0.4054720091859857 0 0 #arcLabel
Ts0 f6 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f6 actionTable 'out=in;
' #txt
Ts0 f6 actionCode '// init the counter
out.automaticTasksExecutionModeCounter = 0;

// define valid display
out.selectedTaskDisplayId = in.taskListChildrenDisplayId;

// maximize the task display
panel._maximizeDisplay();' #txt
Ts0 f6 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init counter
maximize the sub display</name>
        <nameStyle>13,7,9
24,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f6 2462 140 36 24 20 -2 #rect
Ts0 f6 @|RichDialogProcessStepIcon #fIcon
Ts0 f47 expr in #txt
Ts0 f47 outCond in.automaticTasksExecutionMode #txt
Ts0 f47 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f47 2480 118 2480 140 #arcP
Ts0 f294 expr out #txt
Ts0 f294 2480 164 2480 180 #arcP
Ts0 f261 expr in #txt
Ts0 f261 outCond '"true".equals(in.autoHideMenuParameter) && ivy.session.findResumedWorkTasks(0,-1).size() > 0' #txt
Ts0 f261 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f261 2310 592 2536 676 #arcP
Ts0 f261 1 2536 592 #addKink
Ts0 f261 1 0.48333333333333334 1 0 #arcLabel
Ts0 f252 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f252 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>team manager 
execute task instead of...?</name>
        <nameStyle>41,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f252 2282 634 28 28 12 -33 #rect
Ts0 f252 @|AlternativeIcon #fIcon
Ts0 f256 expr in #txt
Ts0 f256 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f256 2296 606 2296 634 #arcP
Ts0 f256 0 0.2037037037037037 -12 0 #arcLabel
Ts0 f257 expr in #txt
Ts0 f257 2296 662 2296 692 #arcP
Ts0 f301 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f301 actionTable 'out=in;
' #txt
Ts0 f301 actionCode 'import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;

ivy.log.info("Team manager {0} start task {1} instead of {2} activator.",
							ivy.session.getSessionUserName(), 
							"" + in.selectedTask.getIdentifier() + (in.selectedTask.getName() is initialized? "-" + in.selectedTask.getName(): ""),
							in.selectedTask.getActivatorName());
							
WorkflowUIAccessPermissionHandler.delegateTaskAsSystemUser(in.selectedTask, ivy.session.getSessionUser());' #txt
Ts0 f301 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f301 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegate to 
session user</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f301 2430 692 36 24 20 -2 #rect
Ts0 f301 @|RichDialogProcessStepIcon #fIcon
Ts0 f311 expr out #txt
Ts0 f311 2430 704 2314 704 #arcP
Ts0 f311 0 0.5122310677637647 0 0 #arcLabel
Ts0 f271 expr out #txt
Ts0 f271 2296 276 2296 298 #arcP
Ts0 f307 expr in #txt
Ts0 f307 outCond 'in.taskDisplayMode == -1 && ch.ivyteam.ivy.addons.restricted.workflow.CaseManagedTeamHelper.isSessionUserTeamManagerOnWfTask(in.selectedTask)' #txt
Ts0 f307 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f307 2310 648 2448 692 #arcP
Ts0 f307 1 2448 648 #addKink
Ts0 f307 0 1.0 0 6 #arcLabel
Ts0 f18 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f18 1826 386 28 28 14 0 #rect
Ts0 f18 @|AlternativeIcon #fIcon
Ts0 f42 expr out #txt
Ts0 f42 1840 356 1840 386 #arcP
Ts0 f51 expr in #txt
Ts0 f51 1840 414 1840 452 #arcP
Ts0 f97 expr in #txt
Ts0 f97 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f97 2282 400 1854 400 #arcP
Ts0 f97 0 0.695735380159821 0 0 #arcLabel
Ts0 f85 expr in #txt
Ts0 f85 outCond !in.taskAlreadyLoadedOnDisplay #txt
Ts0 f85 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f85 2296 518 2296 578 #arcP
Ts0 f85 0 0.4090909090909091 -1 0 #arcLabel
Ts0 f158 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f158 actionTable 'out=in;
' #txt
Ts0 f158 actionCode 'out.selectedTasks.clear();
out.selectedTasks.addAll(panel.tasksTable.getSelectedListEntries());' #txt
Ts0 f158 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f158 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected entries</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f158 1502 940 36 24 20 -2 #rect
Ts0 f158 @|RichDialogProcessStepIcon #fIcon
Ts0 f159 expr out #txt
Ts0 f159 1520 898 1520 940 #arcP
Ts0 f160 expr out #txt
Ts0 f160 1520 964 1520 1010 #arcP
Ts0 f175 expr in #txt
Ts0 f175 outCond !in.selectedTasks.isEmpty() #txt
Ts0 f175 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f175 1520 1038 1520 1084 #arcP
Ts0 f168 expr in #txt
Ts0 f168 outCond !in.selectedTasks.isEmpty() #txt
Ts0 f168 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f168 1784 1038 1784 1084 #arcP
Ts0 f187 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f187 actionTable 'out=in;
' #txt
Ts0 f187 actionCode 'out.selectedTasks.clear();
out.selectedTasks.addAll(panel.tasksTable.getSelectedListEntries());' #txt
Ts0 f187 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f187 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected entries</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f187 1766 940 36 24 20 -2 #rect
Ts0 f187 @|RichDialogProcessStepIcon #fIcon
Ts0 f188 expr out #txt
Ts0 f188 1784 898 1784 940 #arcP
Ts0 f178 expr out #txt
Ts0 f178 1784 964 1784 1010 #arcP
Ts0 f144 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f144 actionTable 'out=in;
' #txt
Ts0 f144 actionCode 'out.selectedTasks.clear();
out.selectedTasks.addAll(panel.tasksTable.getSelectedListEntries());' #txt
Ts0 f144 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f144 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected entries</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f144 2038 940 36 24 20 -2 #rect
Ts0 f144 @|RichDialogProcessStepIcon #fIcon
Ts0 f147 expr out #txt
Ts0 f147 2056 898 2056 940 #arcP
Ts0 f148 expr out #txt
Ts0 f148 2056 964 2056 1002 #arcP
Ts0 f189 expr in #txt
Ts0 f189 outCond !in.selectedTasks.isEmpty() #txt
Ts0 f189 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f189 2056 1030 2056 1068 #arcP
Ts0 f190 expr in #txt
Ts0 f190 outCond "yes".equals(in.questionDialogPressedButtonResult) #txt
Ts0 f190 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f190 2056 1150 2056 1196 #arcP
Ts0 f190 0 0.5155933341795007 0 0 #arcLabel
Ts0 f143 expr in #txt
Ts0 f143 outCond !in.selectedTasks.isEmpty() #txt
Ts0 f143 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f143 2312 1022 2312 1068 #arcP
Ts0 f123 expr in #txt
Ts0 f123 outCond "yes".equals(in.questionDialogPressedButtonResult) #txt
Ts0 f123 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f123 2312 1150 2312 1196 #arcP
Ts0 f138 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f138 actionTable 'out=in;
' #txt
Ts0 f138 actionCode 'out.selectedTasks.clear();
out.selectedTasks.addAll(panel.tasksTable.getSelectedListEntries());' #txt
Ts0 f138 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f138 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected entries</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f138 2294 932 36 24 20 -2 #rect
Ts0 f138 @|RichDialogProcessStepIcon #fIcon
Ts0 f139 expr out #txt
Ts0 f139 2312 898 2312 932 #arcP
Ts0 f142 expr out #txt
Ts0 f142 2312 956 2312 994 #arcP
Ts0 f145 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f145 actionTable 'out=in;
' #txt
Ts0 f145 actionCode 'out.selectedTasks.clear();
out.selectedTasks.addAll(panel.tasksTable.getSelectedListEntries());' #txt
Ts0 f145 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f145 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected entries</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f145 2662 932 36 24 20 -2 #rect
Ts0 f145 @|RichDialogProcessStepIcon #fIcon
Ts0 f146 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f146 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection is empty?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f146 2666 994 28 28 14 0 #rect
Ts0 f146 @|AlternativeIcon #fIcon
Ts0 f38 expr in #txt
Ts0 f38 outCond !in.selectedTasks.isEmpty() #txt
Ts0 f38 2680 1022 2680 1124 #arcP
Ts0 f195 expr out #txt
Ts0 f195 2680 898 2680 932 #arcP
Ts0 f180 expr out #txt
Ts0 f180 2680 956 2680 994 #arcP
Ts0 f197 expr in #txt
Ts0 f197 2694 1008 2693 1368 #arcP
Ts0 f197 1 2864 1008 #addKink
Ts0 f197 2 2864 1368 #addKink
Ts0 f197 1 0.3971895448350181 0 0 #arcLabel
Ts0 f201 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f201 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is user allowed for that?</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f201 2090 154 28 28 14 0 #rect
Ts0 f201 @|AlternativeIcon #fIcon
Ts0 f203 expr out #txt
Ts0 f203 2104 138 2104 154 #arcP
Ts0 f214 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f214 2254 158 20 20 13 0 #rect
Ts0 f214 @|RichDialogProcessEndIcon #fIcon
Ts0 f215 expr in #txt
Ts0 f215 outCond '(in.taskDisplayMode == 3 &&  (!ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler.userHasWorkedOnTask(ivy.session.getSessionUser(),  in.selectedTask) && !ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler.userIsTaskActivatorCandidate(ivy.session, in.selectedTask))) ||
(in.taskDisplayMode == -1 && !ch.ivyteam.ivy.addons.restricted.workflow.CaseManagedTeamHelper.isSessionUserTeamManagerOnWfTask(in.selectedTask))' #txt
Ts0 f215 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f215 2118 168 2254 168 #arcP
Ts0 f213 expr in #txt
Ts0 f213 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f213 2104 182 2104 210 #arcP
Ts0 f40 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData out;
' #txt
Ts0 f40 actionTable 'out=in;
' #txt
Ts0 f40 actionCode 'out.selectedTasks.clear();
out.selectedTasks.addAll(panel.tasksTable.getSelectedListEntries());' #txt
Ts0 f40 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected entries</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f40 2822 372 36 24 20 -2 #rect
Ts0 f40 @|RichDialogProcessStepIcon #fIcon
Ts0 f44 expr out #txt
Ts0 f44 2840 346 2840 372 #arcP
Ts0 f115 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
Ts0 f115 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection is empty?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f115 2826 426 28 28 14 0 #rect
Ts0 f115 @|AlternativeIcon #fIcon
Ts0 f131 expr out #txt
Ts0 f131 2840 396 2840 426 #arcP
Ts0 f156 expr in #txt
Ts0 f156 2854 440 2853 760 #arcP
Ts0 f156 1 3120 440 #addKink
Ts0 f156 2 3120 760 #addKink
Ts0 f156 1 0.2603669915011455 0 0 #arcLabel
Ts0 f219 expr in #txt
Ts0 f219 outCond !in.selectedTasks.isEmpty() #txt
Ts0 f219 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f219 2840 454 2840 500 #arcP
Ts0 f132 expr in #txt
Ts0 f132 2854 576 2852 758 #arcP
Ts0 f132 1 3088 576 #addKink
Ts0 f132 2 3088 736 #addKink
Ts0 f132 1 0.18083726805984832 0 0 #arcLabel
>Proto Ts0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Start methods</swimlaneLabel>
        <swimlaneLabel>Methods</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel>Accepted broadcasts</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>378</swimlaneSize>
    <swimlaneSize>1056</swimlaneSize>
    <swimlaneSize>1803</swimlaneSize>
    <swimlaneSize>629</swimlaneSize>
    <swimlaneColor>-13369396</swimlaneColor>
    <swimlaneColor>-16724788</swimlaneColor>
    <swimlaneColor>-10040065</swimlaneColor>
    <swimlaneColor>-16724737</swimlaneColor>
</elementInfo>
' #txt
>Proto Ts0 .type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayList.TaskDisplayListData #txt
>Proto Ts0 .processKind RICH_DIALOG #txt
>Proto Ts0 .ui2RdDataAction 'out.automaticTasksExecutionMode=panel.automaticTasksExecutionToggleButton.selected;
out.nameCriteria=panel.taskNameOrCaseNameCriteriaTextField.text;
out.selectedTaskObject=panel.tasksTable.getSelectedListEntry();
' #txt
>Proto Ts0 .rdData2UIAction 'panel.automaticTasksExecutionToggleButton.visible=in.runningTaskMode && (in.taskDisplayMode == 0 || in.taskDisplayMode == 1);
panel.delegateTaskButton.visible=in.runningTaskMode && in.taskDisplayMode != -1;
panel.delegateTaskMenuItem.visible=in.runningTaskMode;
panel.destroyTaskButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode && (in.taskDisplayMode == 2 || in.taskDisplayMode == 3);
panel.destroyTaskMenuItem.visible=in.runningTaskMode;
panel.footerLabel.text=in.footerMessage;
panel.parkTaskButton.visible=in.runningTaskMode && in.taskDisplayMode != -1;
panel.parkTaskMenuItem.visible=in.runningTaskMode && !(in.#aCase is initialized);
panel.resetTaskButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode && (in.taskDisplayMode == 2 || in.taskDisplayMode == 3);
panel.resetTaskMenuItem.visible=in.runningTaskMode;
panel.setTaskBlockingDelayDateButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode && (in.taskDisplayMode == 2 || in.taskDisplayMode == 3);
panel.setTaskBlockingDelayDateMenuItem.visible=in.runningTaskMode;
panel.setTaskExpiryDateButton.visible=in.hasWfAdministratorPermissions && in.runningTaskMode && (in.taskDisplayMode == 2 || in.taskDisplayMode == 3);
panel.setTaskExpiryDateMenuItem.visible=in.runningTaskMode;
panel.startTaskButton.visible=in.runningTaskMode && (in.taskDisplayMode != 2);
panel.startTaskOnSiblingTabMenuItem.visible=in.runningTaskMode && !(in.#aCase is initialized);
panel.tasksTable.listData=in.filteredTasks;
panel.automaticTasksExecutionToggleButton.selected=in.automaticTasksExecutionMode;
' #txt
>Proto Ts0 -8 -8 16 16 16 26 #rect
>Proto Ts0 '' #fIcon
Ts0 f33 mainOut f57 tail #connect
Ts0 f57 head f12 in #connect
Ts0 f20 mainOut f61 tail #connect
Ts0 f61 head f59 mainIn #connect
Ts0 f80 head f79 mainIn #connect
Ts0 f79 mainOut f71 tail #connect
Ts0 f71 head f29 mainIn #connect
Ts0 f84 mainOut f83 tail #connect
Ts0 f83 head f29 mainIn #connect
Ts0 f34 mainOut f63 tail #connect
Ts0 f63 head f36 mainIn #connect
Ts0 f58 head f36 mainIn #connect
Ts0 f12 out f102 tail #connect
Ts0 f102 head f101 mainIn #connect
Ts0 f12 out f58 tail #connect
Ts0 f92 mainOut f94 tail #connect
Ts0 f94 head f12 in #connect
Ts0 f67 out f104 tail #connect
Ts0 f104 head f103 mainIn #connect
Ts0 f67 out f80 tail #connect
Ts0 f103 mainOut f82 tail #connect
Ts0 f82 head f81 in #connect
Ts0 f105 mainOut f70 tail #connect
Ts0 f70 head f29 mainIn #connect
Ts0 f81 out f74 tail #connect
Ts0 f74 head f73 mainIn #connect
Ts0 f73 mainOut f69 tail #connect
Ts0 f69 head f32 in #connect
Ts0 f96 mainOut f106 tail #connect
Ts0 f106 head f100 in #connect
Ts0 f120 head f36 mainIn #connect
Ts0 f41 mainOut f129 tail #connect
Ts0 f129 head f128 in #connect
Ts0 f128 out f24 tail #connect
Ts0 f24 head f2 mainIn #connect
Ts0 f0 mainOut f87 tail #connect
Ts0 f87 head f21 mainIn #connect
Ts0 f135 mainOut f150 tail #connect
Ts0 f150 head f119 mainIn #connect
Ts0 f119 mainOut f149 tail #connect
Ts0 f149 head f37 mainIn #connect
Ts0 f151 mainOut f155 tail #connect
Ts0 f155 head f154 mainIn #connect
Ts0 f154 mainOut f153 tail #connect
Ts0 f153 head f152 mainIn #connect
Ts0 f167 mainOut f170 tail #connect
Ts0 f170 head f169 in #connect
Ts0 f169 out f172 tail #connect
Ts0 f172 head f171 mainIn #connect
Ts0 f169 out f173 tail #connect
Ts0 f173 head f163 mainIn #connect
Ts0 f176 head f163 mainIn #connect
Ts0 f179 mainOut f182 tail #connect
Ts0 f182 head f181 in #connect
Ts0 f181 out f184 tail #connect
Ts0 f184 head f183 mainIn #connect
Ts0 f198 head f192 mainIn #connect
Ts0 f181 out f166 tail #connect
Ts0 f166 head f163 mainIn #connect
Ts0 f186 head f163 mainIn #connect
Ts0 f204 head f192 mainIn #connect
Ts0 f49 mainOut f206 tail #connect
Ts0 f206 head f205 mainIn #connect
Ts0 f205 mainOut f86 tail #connect
Ts0 f86 head f1 mainIn #connect
Ts0 f60 mainOut f209 tail #connect
Ts0 f209 head f208 mainIn #connect
Ts0 f39 mainOut f98 tail #connect
Ts0 f98 head f89 mainIn #connect
Ts0 f113 mainOut f114 tail #connect
Ts0 f114 head f21 mainIn #connect
Ts0 f9 mainOut f52 tail #connect
Ts0 f52 head f50 mainIn #connect
Ts0 f21 mainOut f88 tail #connect
Ts0 f88 head f56 in #connect
Ts0 f56 out f110 tail #connect
Ts0 f110 head f49 mainIn #connect
Ts0 f11 mainOut f10 tail #connect
Ts0 f10 head f56 in #connect
Ts0 f111 mainOut f48 tail #connect
Ts0 f48 head f56 in #connect
Ts0 f45 mainOut f54 tail #connect
Ts0 f54 head f56 in #connect
Ts0 f56 out f116 tail #connect
Ts0 f116 head f55 mainIn #connect
Ts0 f55 mainOut f112 tail #connect
Ts0 f112 head f205 mainIn #connect
Ts0 f56 out f117 tail #connect
Ts0 f117 head f1 mainIn #connect
Ts0 f207 mainOut f212 tail #connect
Ts0 f212 head f127 mainIn #connect
Ts0 f78 mainOut f217 tail #connect
Ts0 f217 head f216 in #connect
Ts0 f218 head f192 mainIn #connect
Ts0 f221 mainOut f224 tail #connect
Ts0 f224 head f223 in #connect
Ts0 f225 head f192 mainIn #connect
Ts0 f226 mainOut f229 tail #connect
Ts0 f229 head f65 mainIn #connect
Ts0 f30 mainOut f31 tail #connect
Ts0 f31 head f19 in #connect
Ts0 f19 out f27 tail #connect
Ts0 f27 head f26 mainIn #connect
Ts0 f19 out f66 tail #connect
Ts0 f66 head f35 mainIn #connect
Ts0 f35 mainOut f107 tail #connect
Ts0 f107 head f26 mainIn #connect
Ts0 f2 mainOut f109 tail #connect
Ts0 f109 head f108 in #connect
Ts0 f108 out f118 tail #connect
Ts0 f118 head f23 mainIn #connect
Ts0 f108 out f227 tail #connect
Ts0 f227 head f136 mainIn #connect
Ts0 f136 mainOut f228 tail #connect
Ts0 f228 head f23 mainIn #connect
Ts0 f171 mainOut f231 tail #connect
Ts0 f231 head f230 in #connect
Ts0 f230 out f164 tail #connect
Ts0 f164 head f163 mainIn #connect
Ts0 f230 out f233 tail #connect
Ts0 f233 head f232 mainIn #connect
Ts0 f232 mainOut f234 tail #connect
Ts0 f234 head f163 mainIn #connect
Ts0 f183 mainOut f236 tail #connect
Ts0 f236 head f235 in #connect
Ts0 f235 out f200 tail #connect
Ts0 f200 head f163 mainIn #connect
Ts0 f235 out f238 tail #connect
Ts0 f238 head f237 mainIn #connect
Ts0 f237 mainOut f239 tail #connect
Ts0 f239 head f163 mainIn #connect
Ts0 f196 mainOut f241 tail #connect
Ts0 f241 head f240 in #connect
Ts0 f240 out f193 tail #connect
Ts0 f193 head f192 mainIn #connect
Ts0 f240 out f243 tail #connect
Ts0 f243 head f242 mainIn #connect
Ts0 f242 mainOut f244 tail #connect
Ts0 f244 head f192 mainIn #connect
Ts0 f202 mainOut f246 tail #connect
Ts0 f246 head f245 in #connect
Ts0 f245 out f247 tail #connect
Ts0 f247 head f192 mainIn #connect
Ts0 f245 out f248 tail #connect
Ts0 f248 head f165 mainIn #connect
Ts0 f165 mainOut f249 tail #connect
Ts0 f249 head f192 mainIn #connect
Ts0 f251 mainOut f72 tail #connect
Ts0 f72 head f29 mainIn #connect
Ts0 f3 out f8 tail #connect
Ts0 f8 head f5 mainIn #connect
Ts0 f5 mainOut f14 tail #connect
Ts0 f14 head f13 in #connect
Ts0 f17 mainOut f90 tail #connect
Ts0 f90 head f77 in #connect
Ts0 f77 out f93 tail #connect
Ts0 f93 head f91 mainIn #connect
Ts0 f77 out f122 tail #connect
Ts0 f122 head f121 mainIn #connect
Ts0 f77 out f124 tail #connect
Ts0 f124 head f127 mainIn #connect
Ts0 f13 out f210 tail #connect
Ts0 f210 head f141 in #connect
Ts0 f141 out f53 tail #connect
Ts0 f53 head f17 mainIn #connect
Ts0 f141 out f211 tail #connect
Ts0 f211 head f125 mainIn #connect
Ts0 f13 out f16 tail #connect
Ts0 f16 head f207 mainIn #connect
Ts0 f3 out f258 tail #connect
Ts0 f258 head f15 mainIn #connect
Ts0 f15 mainOut f262 tail #connect
Ts0 f262 head f207 mainIn #connect
Ts0 f269 head f266 mainIn #connect
Ts0 f99 mainOut f272 tail #connect
Ts0 f272 head f68 mainIn #connect
Ts0 f28 mainOut f263 tail #connect
Ts0 f263 head f68 mainIn #connect
Ts0 f65 mainOut f273 tail #connect
Ts0 f273 head f270 in #connect
Ts0 f64 head f37 mainIn #connect
Ts0 f264 mainOut f265 tail #connect
Ts0 f265 head f67 in #connect
Ts0 f267 out f268 tail #connect
Ts0 f268 head f264 mainIn #connect
Ts0 f267 out f269 tail #connect
Ts0 f95 head f84 mainIn #connect
Ts0 f270 out f276 tail #connect
Ts0 f276 head f75 mainIn #connect
Ts0 f270 out f64 tail #connect
Ts0 f75 mainOut f275 tail #connect
Ts0 f275 head f267 in #connect
Ts0 f100 out f280 tail #connect
Ts0 f280 head f279 mainIn #connect
Ts0 f100 out f120 tail #connect
Ts0 f279 mainOut f62 tail #connect
Ts0 f62 head f34 mainIn #connect
Ts0 f282 out f285 tail #connect
Ts0 f285 head f68 mainIn #connect
Ts0 f282 out f284 tail #connect
Ts0 f284 head f12 in #connect
Ts0 f287 mainOut f292 tail #connect
Ts0 f292 head f291 mainIn #connect
Ts0 f291 mainOut f290 tail #connect
Ts0 f290 head f288 mainIn #connect
Ts0 f293 mainOut f274 tail #connect
Ts0 f274 head f267 in #connect
Ts0 f254 mainOut f296 tail #connect
Ts0 f296 head f295 in #connect
Ts0 f297 head f267 in #connect
Ts0 f278 mainOut f300 tail #connect
Ts0 f300 head f299 mainIn #connect
Ts0 f299 mainOut f298 tail #connect
Ts0 f298 head f289 mainIn #connect
Ts0 f76 mainOut f303 tail #connect
Ts0 f303 head f3 in #connect
Ts0 f126 mainOut f302 tail #connect
Ts0 f302 head f3 in #connect
Ts0 f91 mainOut f306 tail #connect
Ts0 f306 head f305 mainIn #connect
Ts0 f121 mainOut f304 tail #connect
Ts0 f304 head f305 mainIn #connect
Ts0 f125 mainOut f137 tail #connect
Ts0 f137 head f305 mainIn #connect
Ts0 f305 mainOut f4 tail #connect
Ts0 f4 head f13 in #connect
Ts0 f89 mainOut f140 tail #connect
Ts0 f140 head f7 mainIn #connect
Ts0 f295 out f47 tail #connect
Ts0 f47 head f6 mainIn #connect
Ts0 f295 out f297 tail #connect
Ts0 f6 mainOut f294 tail #connect
Ts0 f294 head f293 mainIn #connect
Ts0 f253 out f261 tail #connect
Ts0 f261 head f251 mainIn #connect
Ts0 f253 out f256 tail #connect
Ts0 f256 head f252 in #connect
Ts0 f257 head f105 mainIn #connect
Ts0 f301 mainOut f311 tail #connect
Ts0 f311 head f105 mainIn #connect
Ts0 f68 mainOut f271 tail #connect
Ts0 f271 head f67 in #connect
Ts0 f252 out f307 tail #connect
Ts0 f307 head f301 mainIn #connect
Ts0 f252 out f257 tail #connect
Ts0 f101 mainOut f42 tail #connect
Ts0 f42 head f18 in #connect
Ts0 f18 out f51 tail #connect
Ts0 f51 head f96 mainIn #connect
Ts0 f81 out f97 tail #connect
Ts0 f97 head f18 in #connect
Ts0 f32 out f85 tail #connect
Ts0 f85 head f253 in #connect
Ts0 f32 out f95 tail #connect
Ts0 f161 mainOut f159 tail #connect
Ts0 f159 head f158 mainIn #connect
Ts0 f158 mainOut f160 tail #connect
Ts0 f160 head f174 in #connect
Ts0 f174 out f175 tail #connect
Ts0 f175 head f167 mainIn #connect
Ts0 f174 out f176 tail #connect
Ts0 f177 out f168 tail #connect
Ts0 f168 head f179 mainIn #connect
Ts0 f177 out f186 tail #connect
Ts0 f162 mainOut f188 tail #connect
Ts0 f188 head f187 mainIn #connect
Ts0 f187 mainOut f178 tail #connect
Ts0 f178 head f177 in #connect
Ts0 f191 mainOut f147 tail #connect
Ts0 f147 head f144 mainIn #connect
Ts0 f144 mainOut f148 tail #connect
Ts0 f148 head f194 in #connect
Ts0 f194 out f189 tail #connect
Ts0 f189 head f78 mainIn #connect
Ts0 f194 out f198 tail #connect
Ts0 f216 out f190 tail #connect
Ts0 f190 head f196 mainIn #connect
Ts0 f216 out f218 tail #connect
Ts0 f185 out f143 tail #connect
Ts0 f143 head f221 mainIn #connect
Ts0 f185 out f204 tail #connect
Ts0 f223 out f123 tail #connect
Ts0 f123 head f202 mainIn #connect
Ts0 f223 out f225 tail #connect
Ts0 f199 mainOut f139 tail #connect
Ts0 f139 head f138 mainIn #connect
Ts0 f138 mainOut f142 tail #connect
Ts0 f142 head f185 in #connect
Ts0 f146 out f38 tail #connect
Ts0 f38 head f30 mainIn #connect
Ts0 f25 mainOut f195 tail #connect
Ts0 f195 head f145 mainIn #connect
Ts0 f145 mainOut f180 tail #connect
Ts0 f180 head f146 in #connect
Ts0 f146 out f197 tail #connect
Ts0 f197 head f26 mainIn #connect
Ts0 f281 mainOut f203 tail #connect
Ts0 f203 head f201 in #connect
Ts0 f201 out f215 tail #connect
Ts0 f215 head f214 mainIn #connect
Ts0 f201 out f213 tail #connect
Ts0 f213 head f282 in #connect
Ts0 f22 mainOut f44 tail #connect
Ts0 f44 head f40 mainIn #connect
Ts0 f40 mainOut f131 tail #connect
Ts0 f131 head f115 in #connect
Ts0 f156 head f23 mainIn #connect
Ts0 f115 out f219 tail #connect
Ts0 f219 head f41 mainIn #connect
Ts0 f115 out f156 tail #connect
Ts0 f128 out f132 tail #connect
Ts0 f132 head f23 mainIn #connect
