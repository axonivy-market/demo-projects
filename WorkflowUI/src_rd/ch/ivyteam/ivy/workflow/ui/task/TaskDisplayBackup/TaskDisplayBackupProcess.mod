[Ivy]
[>Created: Thu Jan 13 12:58:37 CET 2011]
12D7A50C12EC6EE4 3.15 #module
>Proto >Proto Collection #zClass
Ts0 TaskInformationDisplayProcess Big #zClass
Ts0 RD #cInfo
Ts0 #process
Ts0 @AnnotationInP-0n ai ai #zField
Ts0 @TextInP .xml .xml #zField
Ts0 @TextInP .responsibility .responsibility #zField
Ts0 @TextInP .resExport .resExport #zField
Ts0 @TextInP .type .type #zField
Ts0 @TextInP .processKind .processKind #zField
Ts0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Ts0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Ts0 @MessageFlowInP-0n messageIn messageIn #zField
Ts0 @MessageFlowOutP-0n messageOut messageOut #zField
Ts0 @RichDialogInitStart f0 '' #zField
Ts0 @RichDialogProcessEnd f1 '' #zField
Ts0 @RichDialogProcessEnd f6 '' #zField
Ts0 @RichDialogMethodStart f22 '' #zField
Ts0 @RichDialogProcessStep f31 '' #zField
Ts0 @RichDialogProcessStart f37 '' #zField
Ts0 @RichDialogProcessEnd f38 '' #zField
Ts0 @RichDialogProcessStep f40 '' #zField
Ts0 @Alternative f42 '' #zField
Ts0 @Alternative f45 '' #zField
Ts0 @PushWFArc f46 '' #zField
Ts0 @RichDialogFireEvent f48 '' #zField
Ts0 @PushWFArc f39 '' #zField
Ts0 @RichDialogProcessStep f50 '' #zField
Ts0 @PushWFArc f51 '' #zField
Ts0 @PushWFArc f44 '' #zField
Ts0 @RichDialogProcessStep f2 '' #zField
Ts0 @PushWFArc f72 '' #zField
Ts0 @PushWFArc f43 '' #zField
Ts0 @Alternative f73 '' #zField
Ts0 @RichDialogBroadcastStart f76 '' #zField
Ts0 @RichDialogEnd f77 '' #zField
Ts0 @Alternative f79 '' #zField
Ts0 @PushWFArc f80 '' #zField
Ts0 @PushWFArc f78 '' #zField
Ts0 @RichDialogProcessEnd f81 '' #zField
Ts0 @RichDialogBroadcastStart f83 '' #zField
Ts0 @RichDialogEnd f87 '' #zField
Ts0 @Alternative f93 '' #zField
Ts0 @PushWFArc f94 '' #zField
Ts0 @PushWFArc f88 '' #zField
Ts0 @RichDialogProcessEnd f95 '' #zField
Ts0 @PushWFArc f96 '' #zField
Ts0 @RichDialogMethodStart f111 '' #zField
Ts0 @RichDialogMethodStart f116 '' #zField
Ts0 @PushWFArc f117 '' #zField
Ts0 @RichDialogProcessStart f118 '' #zField
Ts0 @RichDialogProcessStep f121 '' #zField
Ts0 @Alternative f122 '' #zField
Ts0 @PushWFArc f123 '' #zField
Ts0 @PushWFArc f124 '' #zField
Ts0 @RichDialogProcessStep f126 '' #zField
Ts0 @PushWFArc f127 '' #zField
Ts0 @RichDialogProcessStart f128 '' #zField
Ts0 @RichDialog f131 '' #zField
Ts0 @RichDialogFireEvent f133 '' #zField
Ts0 @RichDialogProcessStep f135 '' #zField
Ts0 @Alternative f137 '' #zField
Ts0 @PushWFArc f138 '' #zField
Ts0 @PushWFArc f136 '' #zField
Ts0 @RichDialogFireEvent f140 '' #zField
Ts0 @RichDialogProcessStep f142 '' #zField
Ts0 @RichDialogEnd f144 '' #zField
Ts0 @PushWFArc f145 '' #zField
Ts0 @RichDialogEnd f129 '' #zField
Ts0 @PushWFArc f139 '' #zField
Ts0 @RichDialogProcessEnd f119 '' #zField
Ts0 @RichDialogProcessEnd f125 '' #zField
Ts0 @PushWFArc f130 '' #zField
Ts0 @RichDialogProcessStart f120 '' #zField
Ts0 @RichDialog f11 '' #zField
Ts0 @Alternative f12 '' #zField
Ts0 @PushWFArc f13 '' #zField
Ts0 @PushWFArc f23 '' #zField
Ts0 @PushWFArc f24 '' #zField
Ts0 @PushWFArc f26 '' #zField
Ts0 @RichDialogProcessStart f27 '' #zField
Ts0 @PushWFArc f47 '' #zField
Ts0 @PushWFArc f35 '' #zField
Ts0 @Alternative f52 '' #zField
Ts0 @PushWFArc f53 '' #zField
Ts0 @PushWFArc f21 '' #zField
Ts0 @PushWFArc f74 '' #zField
Ts0 @RichDialogBroadcastStart f75 '' #zField
Ts0 @PushWFArc f97 '' #zField
Ts0 @Alternative f7 '' #zField
Ts0 @PushWFArc f17 '' #zField
Ts0 @Alternative f18 '' #zField
Ts0 @PushWFArc f19 '' #zField
Ts0 @PushWFArc f20 '' #zField
Ts0 @PushWFArc f49 '' #zField
Ts0 @RichDialogEnd f66 '' #zField
Ts0 @Alternative f67 '' #zField
Ts0 @RichDialogProcessStart f68 '' #zField
Ts0 @RichDialogProcessEnd f91 '' #zField
Ts0 @RichDialogProcessStep f92 '' #zField
Ts0 @RichDialogProcessStep f98 '' #zField
Ts0 @PushWFArc f100 '' #zField
Ts0 @PushWFArc f101 '' #zField
Ts0 @PushWFArc f104 '' #zField
Ts0 @PushWFArc f105 '' #zField
Ts0 @Alternative f86 '' #zField
Ts0 @RichDialog f89 '' #zField
Ts0 @PushWFArc f107 '' #zField
Ts0 @PushWFArc f99 '' #zField
Ts0 @PushWFArc f108 '' #zField
Ts0 @PushWFArc f110 '' #zField
Ts0 @PushWFArc f141 '' #zField
Ts0 @Alternative f160 '' #zField
Ts0 @Alternative f162 '' #zField
Ts0 @RichDialogProcessStep f164 '' #zField
Ts0 @PushWFArc f165 '' #zField
Ts0 @PushWFArc f161 '' #zField
Ts0 @PushWFArc f171 '' #zField
Ts0 @PushWFArc f172 '' #zField
Ts0 @PushWFArc f41 '' #zField
Ts0 @RichDialogMethodStart f174 '' #zField
Ts0 @PushWFArc f175 '' #zField
Ts0 @RichDialogProcessStep f173 '' #zField
Ts0 @RichDialog f59 '' #zField
Ts0 @RichDialogProcessStep f146 '' #zField
Ts0 @Alternative f169 '' #zField
Ts0 @Alternative f182 '' #zField
Ts0 @PushWFArc f183 '' #zField
Ts0 @PushWFArc f185 '' #zField
Ts0 @RichDialogEnd f179 '' #zField
Ts0 @PushWFArc f176 '' #zField
Ts0 @PushWFArc f181 '' #zField
Ts0 @PushWFArc f167 '' #zField
Ts0 @RichDialog f143 '' #zField
Ts0 @PushWFArc f178 '' #zField
Ts0 @PushWFArc f163 '' #zField
Ts0 @PushWFArc f184 '' #zField
Ts0 @PushWFArc f186 '' #zField
Ts0 @RichDialogProcessEnd f193 '' #zField
Ts0 @PushWFArc f204 '' #zField
Ts0 @PushWFArc f205 '' #zField
Ts0 @RichDialogEnd f210 '' #zField
Ts0 @PushWFArc f71 '' #zField
Ts0 @RichDialogProcessStep f65 '' #zField
Ts0 @PushWFArc f206 '' #zField
Ts0 @PushWFArc f8 '' #zField
Ts0 @PushWFArc f112 '' #zField
Ts0 @PushWFArc f113 '' #zField
Ts0 @PushWFArc f102 '' #zField
Ts0 @PushWFArc f198 '' #zField
Ts0 @RichDialogProcessEnd f217 '' #zField
Ts0 @PushWFArc f4 '' #zField
Ts0 @RichDialogInitStart f14 '' #zField
Ts0 @PushWFArc f34 '' #zField
Ts0 @RichDialogEnd f57 '' #zField
Ts0 @RichDialogProcessEnd f58 '' #zField
Ts0 @PushWFArc f60 '' #zField
Ts0 @PushWFArc f9 '' #zField
Ts0 @PushWFArc f61 '' #zField
>Proto Ts0 Ts0 TaskInformationDisplayProcess #zField
Ts0 f0 guid 116A9C07145A35CE #txt
Ts0 f0 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f0 method start() #txt
Ts0 f0 disableUIEvents false #txt
Ts0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f0 outParameterDecl '<> result;
' #txt
Ts0 f0 embeddedRdInitializations '{/fileManagerRDC {/fieldName "fileManagerRDC"/startMethod "start()"/parameterMapping ""/initScript ""}/caseDetailsDisplayRDC {/fieldName "caseDetailsDisplayRDC"/startMethod "start()"/parameterMapping ""/initScript ""}/caseNoteDisplayListRDC {/fieldName "caseNoteDisplayListRDC"/startMethod "start()"/parameterMapping ""/initScript ""}/eventLogDisplayListRDC {/fieldName "eventLogDisplayListRDC"/startMethod "start()"/parameterMapping ""/initScript ""}/taskNoteDisplayListRDC {/fieldName "taskNoteDisplayListRDC"/startMethod "start()"/parameterMapping ""/initScript ""}/workflowEventsDisplayListRDC {/fieldName "workflowEventsDisplayListRDC"/startMethod "start()"/parameterMapping ""/initScript ""}/taskDetailsDisplayRDC {/fieldName "taskDetailsDisplayRDC"/startMethod "start()"/parameterMapping ""/initScript ""}}' #txt
Ts0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
        <nameStyle>7,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f0 38 86 20 20 13 0 #rect
Ts0 f0 @|RichDialogInitStartIcon #fIcon
Ts0 f1 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f1 123 331 26 26 14 0 #rect
Ts0 f1 @|RichDialogProcessEndIcon #fIcon
Ts0 f6 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f6 419 259 26 26 14 0 #rect
Ts0 f6 @|RichDialogProcessEndIcon #fIcon
Ts0 f22 guid 116E86F43DDC86FA #txt
Ts0 f22 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f22 method setTask(ch.ivyteam.ivy.workflow.ITask) #txt
Ts0 f22 disableUIEvents false #txt
Ts0 f22 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.workflow.ITask aTask> param = methodEvent.getInputArguments();
' #txt
Ts0 f22 inParameterMapAction 'out.task=param.aTask;
out.taskIdentifier=param.aTask.getIdentifier();
' #txt
Ts0 f22 outParameterDecl '<> result;
' #txt
Ts0 f22 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>setTask(ITask)</name>
        <nameStyle>14,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f22 422 70 20 20 13 0 #rect
Ts0 f22 @|RichDialogMethodStartIcon #fIcon
Ts0 f31 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f31 actionTable 'out=in;
' #txt
Ts0 f31 actionCode 'import ch.ivyteam.ivy.security.IPermission;
import ch.ivyteam.ivy.workflow.ui.utils.UniqueDisplayIdFactory;
import ch.ivyteam.ivy.event.SystemEventCategory;

out.taskExecutionDisplayId = "xivyTaskExecutionDisplayId" + UniqueDisplayIdFactory.buildTaskListDisplayId();
panel.taskExecutionDisplay.displayId = out.taskExecutionDisplayId;

out.hasPermissionDelegateTasks = ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), IPermission.DELEGATE_TASKS);

out.taskDelegateWindowTitle = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/delegateTaskShortDesc");

// register to System events of Workflow category
ivy.rd.subscribeToSystemEvents(SystemEventCategory.WORKFLOW);' #txt
Ts0 f31 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>calculate the displayId,
check if user has permission 
to delegate tasks,
register to 
system event &quot;task state changed&quot;</name>
        <nameStyle>120,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f31 118 204 36 24 20 -2 #rect
Ts0 f31 @|RichDialogProcessStepIcon #fIcon
Ts0 f37 guid 118BD7D1B6D995AF #txt
Ts0 f37 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f37 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f37 actionTable 'out=in;
' #txt
Ts0 f37 actionCode 'out.footerMessage = "";' #txt
Ts0 f37 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startTask</name>
        <nameStyle>9,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f37 822 70 20 20 13 0 #rect
Ts0 f37 @|RichDialogProcessStartIcon #fIcon
Ts0 f38 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f38 819 603 26 26 14 0 #rect
Ts0 f38 @|RichDialogProcessEndIcon #fIcon
Ts0 f40 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f40 actionTable 'out=in;
out.taskIsExecuting=true;
' #txt
Ts0 f40 actionCode 'import ch.ivyteam.ivy.workflow.ui.utils.StartConfigurationCreator;

// start the task
StartConfigurationCreator.startTask(in.taskExecutionDisplayId, panel, in.task);

in.taskIsExecuting = true;		' #txt
Ts0 f40 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>run task
and switch to 
execution tab</name>
        <nameStyle>37,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f40 814 484 36 24 24 -18 #rect
Ts0 f40 @|RichDialogProcessStepIcon #fIcon
Ts0 f42 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f42 818 162 28 28 14 0 #rect
Ts0 f42 @|AlternativeIcon #fIcon
Ts0 f45 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task state is SUSPENDED,
PARKED , DELAYED?</name>
        <nameStyle>42,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f45 818 298 28 28 8 -31 #rect
Ts0 f45 @|AlternativeIcon #fIcon
Ts0 f46 expr in #txt
Ts0 f46 outCond 'in.#task != null' #txt
Ts0 f46 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task != null</name>
        <nameStyle>12,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f46 832 190 832 298 #arcP
Ts0 f46 0 0.0 -51 -17 #arcLabel
Ts0 f48 actionDecl 'ch.ivyteam.ivy.workflow.ITask task;
' #txt
Ts0 f48 actionTable 'task=in.task;
' #txt
Ts0 f48 actionCode panel.fireXivyTaskStarted(task); #txt
Ts0 f48 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f48 fireEvent xivyTaskStarted(ch.ivyteam.ivy.workflow.ITask) #txt
Ts0 f48 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire the
&quot;xivyTaskStarted&quot;</name>
        <nameStyle>26,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f48 814 548 36 24 -110 5 #rect
Ts0 f48 @|RichDialogFireEventIcon #fIcon
Ts0 f39 expr out #txt
Ts0 f39 832 572 832 603 #arcP
Ts0 f50 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f50 actionTable 'out=in;
' #txt
Ts0 f50 actionCode 'panel.footerLabel.text = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/invalidSelection");' #txt
Ts0 f50 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f50 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user
(invalid selection)</name>
        <nameStyle>35,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f50 1094 348 36 24 20 -2 #rect
Ts0 f50 @|RichDialogProcessStepIcon #fIcon
Ts0 f51 expr in #txt
Ts0 f51 834 188 1112 348 #arcP
Ts0 f51 1 848 272 #addKink
Ts0 f51 2 1112 272 #addKink
Ts0 f51 2 0.36325892969897133 0 0 #arcLabel
Ts0 f44 expr out #txt
Ts0 f44 1112 372 845 616 #arcP
Ts0 f44 1 1112 616 #addKink
Ts0 f44 0 0.7135904902912451 0 0 #arcLabel
Ts0 f2 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f2 actionTable 'out=in;
' #txt
Ts0 f2 actionCode 'out.startTaskRequested = true;

' #txt
Ts0 f2 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f2 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start requested 
to true</name>
        <nameStyle>24,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f2 814 116 36 24 20 -2 #rect
Ts0 f2 @|RichDialogProcessStepIcon #fIcon
Ts0 f72 expr out #txt
Ts0 f72 832 90 832 116 #arcP
Ts0 f43 expr out #txt
Ts0 f43 832 140 832 162 #arcP
Ts0 f73 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start task requested ?</name>
        <nameStyle>22,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f73 1018 162 28 28 5 -35 #rect
Ts0 f73 @|AlternativeIcon #fIcon
Ts0 f76 guid 118C2C4A5D8A19A4 #txt
Ts0 f76 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f76 broadcast xivyTaskDone #txt
Ts0 f76 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f76 actionTable 'out=in;
' #txt
Ts0 f76 actionCode 'out.broadcastedTaskIdentifiers.clear();
out.broadcastedTaskIdentifiers.add(param.aTaskIdentifier);' #txt
Ts0 f76 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Accepted broadcast: xivyTaskDone</name>
        <nameStyle>32,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f76 2558 94 20 20 13 0 #rect
Ts0 f76 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f77 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f77 guid 118C2C52CA3F8377 #txt
Ts0 f77 2555 427 26 26 14 0 #rect
Ts0 f77 @|RichDialogEndIcon #fIcon
Ts0 f79 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is this task concerned?</name>
        <nameStyle>23,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f79 2554 146 28 28 14 0 #rect
Ts0 f79 @|AlternativeIcon #fIcon
Ts0 f80 expr out #txt
Ts0 f80 2568 114 2568 146 #arcP
Ts0 f78 expr in #txt
Ts0 f78 outCond in.broadcastedTaskIdentifiers.contains(in.taskIdentifier) #txt
Ts0 f78 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f78 2568 174 2568 427 #arcP
Ts0 f78 0 0.8497071731343026 0 0 #arcLabel
Ts0 f81 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f81 2891 427 26 26 14 0 #rect
Ts0 f81 @|RichDialogProcessEndIcon #fIcon
Ts0 f83 guid 118C63B937FB9980 #txt
Ts0 f83 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f83 broadcast xivyTaskDelegated #txt
Ts0 f83 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f83 actionTable 'out=in;
' #txt
Ts0 f83 actionCode 'out.broadcastedTaskIdentifiers.clear();
out.broadcastedTaskIdentifiers.add(param.aTaskIdentifier);' #txt
Ts0 f83 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>xivyTaskDelegated</name>
        <nameStyle>17,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f83 3190 94 20 20 13 0 #rect
Ts0 f83 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f87 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f87 guid 118C63C987D87F03 #txt
Ts0 f87 3187 419 26 26 14 0 #rect
Ts0 f87 @|RichDialogEndIcon #fIcon
Ts0 f93 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f93 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is this task concerned?</name>
        <nameStyle>23,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f93 3186 170 28 28 14 0 #rect
Ts0 f93 @|AlternativeIcon #fIcon
Ts0 f94 expr out #txt
Ts0 f94 3200 114 3200 170 #arcP
Ts0 f88 expr in #txt
Ts0 f88 outCond in.broadcastedTaskIdentifiers.contains(in.task.getIdentifier()) #txt
Ts0 f88 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f88 3200 198 3200 419 #arcP
Ts0 f95 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f95 3275 419 26 26 14 0 #rect
Ts0 f95 @|RichDialogProcessEndIcon #fIcon
Ts0 f96 expr in #txt
Ts0 f96 3214 184 3288 419 #arcP
Ts0 f96 1 3288 184 #addKink
Ts0 f96 1 0.329675373511861 0 0 #arcLabel
Ts0 f111 guid 118C672C7FC9B4FC #txt
Ts0 f111 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f111 method close() #txt
Ts0 f111 disableUIEvents false #txt
Ts0 f111 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f111 outParameterDecl '<java.lang.Boolean closeCanceled> result;
' #txt
Ts0 f111 outActionCode 'result.closeCanceled = in.pressedButtonToDoWithTask.equals("cancel");
ivy.log.debug("Task display panel on task {0}-{1} is canceled?{2}",
						in.task.getIdentifier(), in.task.getName(), result.closeCanceled);
' #txt
Ts0 f111 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close()</name>
        <nameStyle>7,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f111 446 726 20 20 13 0 #rect
Ts0 f111 @|RichDialogMethodStartIcon #fIcon
Ts0 f116 guid 118E5FE0435A97FC #txt
Ts0 f116 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f116 method getTaskIdentifier() #txt
Ts0 f116 disableUIEvents false #txt
Ts0 f116 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f116 outParameterDecl '<java.lang.Number aTaskIdentifier> result;
' #txt
Ts0 f116 outParameterMapAction 'result.aTaskIdentifier=in.task.getIdentifier();
' #txt
Ts0 f116 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getTaskIdentifier()</name>
        <nameStyle>19,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f116 606 70 20 20 13 0 #rect
Ts0 f116 @|RichDialogMethodStartIcon #fIcon
Ts0 f117 expr out #txt
Ts0 f117 616 90 444 270 #arcP
Ts0 f117 1 616 256 #addKink
Ts0 f117 0 0.7897293796270857 0 0 #arcLabel
Ts0 f118 guid 118EB5DB6F66B87A #txt
Ts0 f118 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f118 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f118 actionTable 'out=in;
' #txt
Ts0 f118 actionCode 'out.footerMessage = "";' #txt
Ts0 f118 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>parkTask</name>
        <nameStyle>8,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f118 1862 70 20 20 13 0 #rect
Ts0 f118 @|RichDialogProcessStartIcon #fIcon
Ts0 f121 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f121 actionTable 'out=in;
' #txt
Ts0 f121 actionCode 'import ch.ivyteam.ivy.workflow.ITask;


ITask currentTask = in.task;

// park the task
ivy.session.parkTask(currentTask);

' #txt
Ts0 f121 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f121 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>park task</name>
        <nameStyle>9,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f121 1854 260 36 24 20 -2 #rect
Ts0 f121 @|RichDialogProcessStepIcon #fIcon
Ts0 f122 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f122 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f122 1858 138 28 28 14 0 #rect
Ts0 f122 @|AlternativeIcon #fIcon
Ts0 f123 expr out #txt
Ts0 f123 1872 90 1872 138 #arcP
Ts0 f124 expr in #txt
Ts0 f124 outCond 'in.task.getState().equals( ch.ivyteam.ivy.workflow.TaskState.RESUMED)' #txt
Ts0 f124 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is RESUMED</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f124 1872 166 1872 260 #arcP
Ts0 f126 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f126 actionTable 'out=in;
' #txt
Ts0 f126 actionCode '//out.footerMessage = "Task must have state RESUMED in order to be parked";

out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/invalidSelection");' #txt
Ts0 f126 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f126 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user
(invalid selection)</name>
        <nameStyle>35,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f126 1958 252 36 24 20 -2 #rect
Ts0 f126 @|RichDialogProcessStepIcon #fIcon
Ts0 f127 expr in #txt
Ts0 f127 1886 152 1976 252 #arcP
Ts0 f127 1 1976 152 #addKink
Ts0 f127 0 0.5295767123319552 0 0 #arcLabel
Ts0 f128 guid 118EB694AFDBA1B7 #txt
Ts0 f128 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f128 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f128 actionTable 'out=in;
out.securityMemberToDelegate=null;
' #txt
Ts0 f128 actionCode 'out.footerMessage = "";' #txt
Ts0 f128 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegateTask</name>
        <nameStyle>12,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f128 2142 70 20 20 13 0 #rect
Ts0 f128 @|RichDialogProcessStartIcon #fIcon
Ts0 f131 targetWindow NEW #txt
Ts0 f131 targetDisplay TOP #txt
Ts0 f131 richDialogId ch.ivyteam.ivy.workflow.ui.security.SecurityMemberSelect #txt
Ts0 f131 startMethod startAndChooseSecurityMember() #txt
Ts0 f131 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f131 requestActionDecl '<> param;' #txt
Ts0 f131 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f131 responseMappingAction 'out=in;
out.securityMemberToDelegate=result.aSecurityMember;
out.securityMemberToDelegateSelected=result.aSecurityMemberSelected;
' #txt
Ts0 f131 windowConfiguration '#Fri Aug 01 20:33:30 CEST 2008
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=<%\\=in.taskDelegateWindowTitle%>
' #txt
Ts0 f131 isAsynch false #txt
Ts0 f131 isInnerRd true #txt
Ts0 f131 isDialog true #txt
Ts0 f131 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load the Rich Dialog
and choose the security member</name>
        <nameStyle>51,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f131 2134 228 36 24 20 -2 #rect
Ts0 f131 @|RichDialogIcon #fIcon
Ts0 f133 actionDecl 'Number aTaskIdentifier;
' #txt
Ts0 f133 actionTable 'aTaskIdentifier=in.task.getIdentifier();
' #txt
Ts0 f133 actionCode panel.fireXivyTaskParked(aTaskIdentifier); #txt
Ts0 f133 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f133 fireEvent xivyTaskParked(Number) #txt
Ts0 f133 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire the broadcast event
&quot;xivyTaskParked&quot;</name>
        <nameStyle>41,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f133 1902 340 36 24 20 -2 #rect
Ts0 f133 @|RichDialogFireEventIcon #fIcon
Ts0 f135 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f135 actionTable 'out=in;
' #txt
Ts0 f135 actionCode 'import ch.ivyteam.ivy.workflow.ITask;


ITask currentTask;


currentTask = in.task;

if (currentTask.isExpired())
{
	currentTask.setExpiryActivator(in.securityMemberToDelegate);
}
else
{
	currentTask.setOriginalActivator(in.securityMemberToDelegate);
}' #txt
Ts0 f135 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f135 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegate the task</name>
        <nameStyle>17,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f135 2134 340 36 24 20 -2 #rect
Ts0 f135 @|RichDialogProcessStepIcon #fIcon
Ts0 f137 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f137 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f137 2138 266 28 28 14 0 #rect
Ts0 f137 @|AlternativeIcon #fIcon
Ts0 f138 expr out #txt
Ts0 f138 2152 252 2152 266 #arcP
Ts0 f136 expr in #txt
Ts0 f136 outCond in.securityMemberToDelegateSelected #txt
Ts0 f136 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>security member
selected</name>
        <nameStyle>24,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f136 2152 294 2152 340 #arcP
Ts0 f140 actionDecl 'Number aTaskIdentifier;
' #txt
Ts0 f140 actionTable 'aTaskIdentifier=in.task.getIdentifier();
' #txt
Ts0 f140 actionCode panel.fireXivyTaskDelegated(aTaskIdentifier); #txt
Ts0 f140 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f140 fireEvent xivyTaskDelegated(Number) #txt
Ts0 f140 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire the bc event
&quot;xivyTaskDelegated&quot;</name>
        <nameStyle>37,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f140 2134 388 36 24 20 -2 #rect
Ts0 f140 @|RichDialogFireEventIcon #fIcon
Ts0 f142 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f142 actionTable 'out=in;
' #txt
Ts0 f142 actionCode '// out.footerMessage = "No role or user has been selected. Delegate task canceled.";

out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/invalidSelection");' #txt
Ts0 f142 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f142 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform 
the user</name>
        <nameStyle>16,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f142 2286 308 36 24 20 -2 #rect
Ts0 f142 @|RichDialogProcessStepIcon #fIcon
Ts0 f144 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f144 guid 118EB7595CDF0AEF #txt
Ts0 f144 2139 451 26 26 14 0 #rect
Ts0 f144 @|RichDialogEndIcon #fIcon
Ts0 f145 expr out #txt
Ts0 f145 2152 412 2152 451 #arcP
Ts0 f129 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f129 guid 118EB75D219F8AEF #txt
Ts0 f129 1859 451 26 26 14 0 #rect
Ts0 f129 @|RichDialogEndIcon #fIcon
Ts0 f139 expr out #txt
Ts0 f139 1915 364 1877 452 #arcP
Ts0 f119 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f119 1963 451 26 26 14 0 #rect
Ts0 f119 @|RichDialogProcessEndIcon #fIcon
Ts0 f125 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f125 2291 451 26 26 14 0 #rect
Ts0 f125 @|RichDialogProcessEndIcon #fIcon
Ts0 f130 expr out #txt
Ts0 f130 1976 276 1976 451 #arcP
Ts0 f130 0 0.4182708839231334 0 0 #arcLabel
Ts0 f120 guid 118EB8463A07C44A #txt
Ts0 f120 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f120 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f120 actionTable 'out=in;
' #txt
Ts0 f120 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close</name>
        <nameStyle>5,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f120 814 726 20 20 -15 -36 #rect
Ts0 f120 @|RichDialogProcessStartIcon #fIcon
Ts0 f11 targetWindow NEW #txt
Ts0 f11 targetDisplay TOP #txt
Ts0 f11 richDialogId ch.ivyteam.ivy.addons.commondialogs.MessageDialog #txt
Ts0 f11 startMethod showMessageWithTitle(String,String) #txt
Ts0 f11 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f11 requestActionDecl '<String aMessageTitle, String aMessageText> param;' #txt
Ts0 f11 requestMappingAction 'param.aMessageTitle="Permission denied to delegate the tasks";
param.aMessageText="You don''t have the permission called ''" + ch.ivyteam.ivy.security.IPermission.DELEGATE_TASKS.getName() + "'' that will gives you possibility to do that action. \nContact your Workflow Administrator for that.";
' #txt
Ts0 f11 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f11 responseMappingAction 'out=in;
' #txt
Ts0 f11 windowConfiguration '#Tue May 20 14:11:10 CEST 2008
height=200
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=550
title=Information
' #txt
Ts0 f11 isAsynch false #txt
Ts0 f11 isInnerRd true #txt
Ts0 f11 isDialog true #txt
Ts0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user
permission denied</name>
        <nameStyle>33,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f11 2366 300 36 24 20 -2 #rect
Ts0 f11 @|RichDialogIcon #fIcon
Ts0 f12 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f12 2138 130 28 28 14 0 #rect
Ts0 f12 @|AlternativeIcon #fIcon
Ts0 f13 expr out #txt
Ts0 f13 2152 90 2152 130 #arcP
Ts0 f23 expr in #txt
Ts0 f23 2166 144 2384 300 #arcP
Ts0 f23 1 2384 144 #addKink
Ts0 f23 0 0.8108697642399247 0 0 #arcLabel
Ts0 f24 expr out #txt
Ts0 f24 2384 324 2317 464 #arcP
Ts0 f24 1 2384 464 #addKink
Ts0 f24 1 0.5283737905401229 0 0 #arcLabel
Ts0 f26 expr in #txt
Ts0 f26 outCond in.startTaskRequested #txt
Ts0 f26 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f26 1018 176 846 176 #arcP
Ts0 f26 0 0.27472050808278337 0 0 #arcLabel
Ts0 f27 guid 11B7A82C0DBAE332 #txt
Ts0 f27 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f27 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f27 actionTable 'out=in;
' #txt
Ts0 f27 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onLoad</name>
        <nameStyle>6,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f27 1022 70 20 20 13 0 #rect
Ts0 f27 @|RichDialogProcessStartIcon #fIcon
Ts0 f47 expr in #txt
Ts0 f47 2166 280 2304 308 #arcP
Ts0 f47 1 2304 280 #addKink
Ts0 f47 0 0.5630606876192814 0 0 #arcLabel
Ts0 f35 expr out #txt
Ts0 f35 2304 332 2304 451 #arcP
Ts0 f35 0 0.7978311662093814 0 0 #arcLabel
Ts0 f52 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f52 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f52 2138 178 28 28 14 0 #rect
Ts0 f52 @|AlternativeIcon #fIcon
Ts0 f53 expr in #txt
Ts0 f53 outCond 'ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.DELEGATE_TASKS)' #txt
Ts0 f53 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>permission ok</name>
        <nameStyle>13,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f53 2152 158 2152 178 #arcP
Ts0 f21 expr in #txt
Ts0 f21 outCond '(in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) 
	|| in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED)
		|| in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.UNASSIGNED))' #txt
Ts0 f21 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task state ok for delegate</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f21 2152 206 2152 228 #arcP
Ts0 f74 expr in #txt
Ts0 f74 2166 192 2304 308 #arcP
Ts0 f74 1 2304 192 #addKink
Ts0 f74 0 0.9294295042907013 0 0 #arcLabel
Ts0 f75 guid 11E40E845FE6609C #txt
Ts0 f75 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f75 broadcast ivy_systemevent_workflow_task_changed #txt
Ts0 f75 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f75 actionTable 'out=in;
' #txt
Ts0 f75 actionCode 'import ch.ivyteam.ivy.workflow.TaskState;
import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;
import java.util.Collections;
import ch.ivyteam.ivy.workflow.ITask;

out.broadcastedTaskIdentifiers.clear();
out.broadcastedTaskIdentifiers.addAll(param.aWorkflowSystemEventParameter.getIdentifiers());

Collections.sort(out.broadcastedTaskIdentifiers);

for (Number taskId: out.broadcastedTaskIdentifiers)
{
	ITask task = WorkflowUIAccessPermissionHandler.wfFindTaskAsSystemUser(taskId);
	ivy.log.debug("Task {0}-{1} changed to <{2}>.", task.getIdentifier(), task.getName(), task.getState());
}


// if the param.aWorkflowSystemEventParameter.getIdentifiers() is like
// [127, 129]
// where 127 changed to DONE and 129 changed to RESUMED 
// and both tasks belongs to the same case
// keep the 129 as broadcastedTaskAssignedToSelf1Identifier
if (out.broadcastedTaskIdentifiers.size() == 2)
{
	ITask taskA = WorkflowUIAccessPermissionHandler.wfFindTaskAsSystemUser(out.broadcastedTaskIdentifiers.get(0));
	ITask taskB = WorkflowUIAccessPermissionHandler.wfFindTaskAsSystemUser(out.broadcastedTaskIdentifiers.get(1));
	
	if (taskA.getCase().getIdentifier().equals(taskB.getCase().getIdentifier()) && 
			taskA.getState().compareTo(TaskState.DONE) == 0 && taskB.getState().compareTo(TaskState.RESUMED) == 0)
	{
		out.broadcastedTaskAssignedToSelf1Identifier = out.broadcastedTaskIdentifiers.get(1);	
	}	
}
' #txt
Ts0 f75 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ivy_systemevent_workflow_task_changed</name>
        <nameStyle>37,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f75 2758 102 20 20 13 0 #rect
Ts0 f75 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f97 expr out #txt
Ts0 f97 1872 284 1872 451 #arcP
Ts0 f7 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>(task is done or ready for join or parked and 
	broadcasted identifiers size is 1 and it''s contains this task)
or
(broadcasted identifiers size is 1 and the task assigned to sefl1 is done)?</name>
        <nameStyle>189,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f7 2754 274 28 28 14 0 #rect
Ts0 f7 @|AlternativeIcon #fIcon
Ts0 f17 expr in #txt
Ts0 f17 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f17 2782 288 2904 427 #arcP
Ts0 f17 1 2904 288 #addKink
Ts0 f17 1 0.17499608409501777 0 0 #arcLabel
Ts0 f18 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f18 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is this task concerned or 
some of sub tasks assigned to self1?</name>
        <nameStyle>63,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f18 2754 170 28 28 14 0 #rect
Ts0 f18 @|AlternativeIcon #fIcon
Ts0 f19 expr out #txt
Ts0 f19 2768 122 2768 170 #arcP
Ts0 f19 0 0.7752765942615939 0 0 #arcLabel
Ts0 f20 expr in #txt
Ts0 f20 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f20 2782 184 2914 431 #arcP
Ts0 f20 1 2944 184 #addKink
Ts0 f20 2 2944 408 #addKink
Ts0 f20 1 0.27266271342670456 0 0 #arcLabel
Ts0 f49 expr out #txt
Ts0 f49 2152 364 2152 388 #arcP
Ts0 f66 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f66 guid 118EB75D219F8AEF #txt
Ts0 f66 1523 451 26 26 14 0 #rect
Ts0 f66 @|RichDialogEndIcon #fIcon
Ts0 f67 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f67 1522 186 28 28 14 0 #rect
Ts0 f67 @|AlternativeIcon #fIcon
Ts0 f68 guid 1205BDFF970279BD #txt
Ts0 f68 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f68 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f68 actionTable 'out=in;
' #txt
Ts0 f68 actionCode 'out.footerMessage = "";' #txt
Ts0 f68 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancelTask</name>
        <nameStyle>10,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f68 1526 70 20 20 13 0 #rect
Ts0 f68 @|RichDialogProcessStartIcon #fIcon
Ts0 f91 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f91 1627 451 26 26 14 0 #rect
Ts0 f91 @|RichDialogProcessEndIcon #fIcon
Ts0 f92 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f92 actionTable 'out=in;
' #txt
Ts0 f92 actionCode 'import ch.ivyteam.ivy.workflow.ITask;

ITask currentTask = in.task;

// cancel the task -> set to SUSPENDED
currentTask.reset();

' #txt
Ts0 f92 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancel task</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f92 1518 260 36 24 20 -2 #rect
Ts0 f92 @|RichDialogProcessStepIcon #fIcon
Ts0 f98 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f98 actionTable 'out=in;
' #txt
Ts0 f98 actionCode '//out.footerMessage = "Task must have state RESUMED in order to be parked";

out.footerMessage = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/invalidSelection");' #txt
Ts0 f98 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f98 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user
(invalid selection)</name>
        <nameStyle>35,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f98 1622 260 36 24 20 -2 #rect
Ts0 f98 @|RichDialogProcessStepIcon #fIcon
Ts0 f100 expr in #txt
Ts0 f100 outCond 'in.task.getState().equals( ch.ivyteam.ivy.workflow.TaskState.RESUMED) || 
in.task.getState().equals( ch.ivyteam.ivy.workflow.TaskState.CREATED) ||
in.task.getState().equals( ch.ivyteam.ivy.workflow.TaskState.PARKED) ||
in.task.getState().equals( ch.ivyteam.ivy.workflow.TaskState.READY_FOR_JOIN) ||
in.task.getState().equals( ch.ivyteam.ivy.workflow.TaskState.FAILED) ' #txt
Ts0 f100 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>task is RESUMED
or and can be reset </name>
        <nameStyle>36,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f100 1536 214 1536 260 #arcP
Ts0 f101 expr in #txt
Ts0 f101 1550 200 1640 260 #arcP
Ts0 f101 1 1640 200 #addKink
Ts0 f101 0 0.824168763059249 0 0 #arcLabel
Ts0 f104 expr out #txt
Ts0 f104 1640 284 1640 451 #arcP
Ts0 f105 expr out #txt
Ts0 f105 1536 284 1536 451 #arcP
Ts0 f86 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f86 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f86 1522 114 28 28 14 0 #rect
Ts0 f86 @|AlternativeIcon #fIcon
Ts0 f89 targetWindow NEW #txt
Ts0 f89 targetDisplay TOP #txt
Ts0 f89 richDialogId ch.ivyteam.ivy.addons.commondialogs.MessageDialog #txt
Ts0 f89 startMethod showMessageWithTitle(String,String) #txt
Ts0 f89 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f89 requestActionDecl '<String aMessageTitle, String aMessageText> param;' #txt
Ts0 f89 requestMappingAction 'param.aMessageTitle="Permission denied to reset the task";
param.aMessageText="You don''t have the permission called ''" + ch.ivyteam.ivy.security.IPermission.TASK_CATEGORIES_READ_ALL_WORKED_ON.getName() + "'' that will gives you possibility to do that action. \nContact your Workflow Administrator for that.";
' #txt
Ts0 f89 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f89 responseMappingAction 'out=in;
' #txt
Ts0 f89 windowConfiguration '#Mon May 04 14:33:37 CEST 2009
height=200
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=550
title=Information
' #txt
Ts0 f89 isAsynch false #txt
Ts0 f89 isInnerRd true #txt
Ts0 f89 isDialog true #txt
Ts0 f89 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inform the user
permission denied</name>
        <nameStyle>33,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f89 1694 116 36 24 20 -2 #rect
Ts0 f89 @|RichDialogIcon #fIcon
Ts0 f107 expr out #txt
Ts0 f107 1536 90 1536 114 #arcP
Ts0 f99 expr in #txt
Ts0 f99 outCond 'ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.TASK_RESET)' #txt
Ts0 f99 1536 142 1536 186 #arcP
Ts0 f108 expr in #txt
Ts0 f108 1550 128 1694 128 #arcP
Ts0 f110 expr out #txt
Ts0 f110 1712 140 1653 464 #arcP
Ts0 f110 1 1712 464 #addKink
Ts0 f110 0 0.6236092282422254 0 0 #arcLabel
Ts0 f141 expr out #txt
Ts0 f141 832 508 832 548 #arcP
Ts0 f160 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f160 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>auto hide menu mode ?</name>
        <nameStyle>21,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f160 818 402 28 28 13 -21 #rect
Ts0 f160 @|AlternativeIcon #fIcon
Ts0 f162 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f162 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>more than one
task running ?</name>
        <nameStyle>28,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f162 1002 402 28 28 -37 -50 #rect
Ts0 f162 @|AlternativeIcon #fIcon
Ts0 f164 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f164 actionTable 'out=in;
' #txt
Ts0 f164 actionCode 'import ch.ivyteam.ivy.workflow.ui.utils.UserPropertyKeys;

//TIFAM - 12.08.2009 - store initial divider posision
//test if user has read property permission otherwise get CMS value
if (ivy.session.hasPermission(ivy.request.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.USER_READ_PROPERTY) && ivy.session.getSessionUser().getProperty(UserPropertyKeys.MENU_AUTO_HIDE_PROPERTY_KEY).length() > 0)
	{
	in.autoHideMenuParameter = ivy.session.getSessionUser().getProperty(UserPropertyKeys.MENU_AUTO_HIDE_PROPERTY_KEY) ;						
	}
else
	{
	in.autoHideMenuParameter = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/parameters/menuAutoHide") ;
	}' #txt
Ts0 f164 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f164 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set auto hide 
menu parameter</name>
        <nameStyle>29,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f164 814 348 36 24 18 -13 #rect
Ts0 f164 @|RichDialogProcessStepIcon #fIcon
Ts0 f165 expr in #txt
Ts0 f165 outCond 'in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) ||
in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED) || 
in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.DELAYED)' #txt
Ts0 f165 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f165 832 326 832 348 #arcP
Ts0 f165 0 0.4090909090909091 1 0 #arcLabel
Ts0 f161 expr out #txt
Ts0 f161 832 372 832 402 #arcP
Ts0 f171 expr in #txt
Ts0 f171 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f171 1011 425 850 496 #arcP
Ts0 f171 1 976 496 #addKink
Ts0 f171 1 0.03711188646158314 0 13 #arcLabel
Ts0 f172 expr in #txt
Ts0 f172 outCond in.autoHideMenuParameter.equalsIgnoreCase("true") #txt
Ts0 f172 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f172 846 416 1002 416 #arcP
Ts0 f172 0 0.5641025641025641 0 1 #arcLabel
Ts0 f41 expr in #txt
Ts0 f41 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f41 832 430 832 484 #arcP
Ts0 f41 0 0.48148148148148145 10 0 #arcLabel
Ts0 f174 guid 12312E0B315E6DF0 #txt
Ts0 f174 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f174 method getTask() #txt
Ts0 f174 disableUIEvents false #txt
Ts0 f174 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f174 outParameterDecl '<ch.ivyteam.ivy.workflow.ITask task> result;
' #txt
Ts0 f174 outParameterMapAction 'result.task=in.task;
' #txt
Ts0 f174 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getTask()</name>
        <nameStyle>9,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f174 518 70 20 20 9 3 #rect
Ts0 f174 @|RichDialogMethodStartIcon #fIcon
Ts0 f175 expr out #txt
Ts0 f175 528 90 444 268 #arcP
Ts0 f175 1 528 248 #addKink
Ts0 f175 0 0.9648943058460099 0 0 #arcLabel
Ts0 f173 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f173 actionTable 'out=in;
' #txt
Ts0 f173 actionCode 'import ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler;

WorkflowUIAccessPermissionHandler.resetTaskAsSystemUser(in.task);' #txt
Ts0 f173 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f173 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancel
task</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f173 542 988 36 24 21 -15 #rect
Ts0 f173 @|RichDialogProcessStepIcon #fIcon
Ts0 f59 targetDisplay TOP #txt
Ts0 f59 richDialogId ch.ivyteam.ivy.addons.commondialogs.QuestionDialog #txt
Ts0 f59 startMethod askQuestion(String,String,List<String>) #txt
Ts0 f59 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f59 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
Ts0 f59 requestActionCode 'param.question = ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/task/plainStrings/doYouWantToBookTheTask") + 
									"\n " + in.task.getName() + " - " + in.task.getIdentifier() + " ?";

param.buttons = ["yes", "no", "cancel"];' #txt
Ts0 f59 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f59 responseMappingAction 'out=in;
out.pressedButtonToDoWithTask=result.pressedButton;
' #txt
Ts0 f59 windowConfiguration '{/title "Question"/width 450 /height 150 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f59 isAsynch false #txt
Ts0 f59 isInnerRd true #txt
Ts0 f59 isDialog true #txt
Ts0 f59 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ask question:
do you want to
book (park) the task?</name>
        <nameStyle>50,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f59 438 860 36 24 29 -9 #rect
Ts0 f59 @|RichDialogIcon #fIcon
Ts0 f146 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f146 actionTable 'out=in;
' #txt
Ts0 f146 actionCode '//TIFAM - 13.08.2009 - park current task
ivy.session.parkTask(in.task) ;
' #txt
Ts0 f146 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f146 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>park
task</name>
        <nameStyle>9,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f146 438 988 36 24 21 -13 #rect
Ts0 f146 @|RichDialogProcessStepIcon #fIcon
Ts0 f169 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>park the task?</name>
        <nameStyle>14,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f169 442 914 28 28 23 -18 #rect
Ts0 f169 @|AlternativeIcon #fIcon
Ts0 f182 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f182 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is task RESUMED ?</name>
        <nameStyle>17,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f182 442 810 28 28 9 -22 #rect
Ts0 f182 @|AlternativeIcon #fIcon
Ts0 f183 expr out #txt
Ts0 f183 456 884 456 914 #arcP
Ts0 f185 expr in #txt
Ts0 f185 outCond 'in.task.getState().compareTo(ch.ivyteam.ivy.workflow.TaskState.RESUMED) == 0' #txt
Ts0 f185 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f185 456 838 456 860 #arcP
Ts0 f185 0 0.2857142857142857 -20 0 #arcLabel
Ts0 f179 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f179 guid 123138DD69CA5BE2 #txt
Ts0 f179 446 1070 20 20 13 0 #rect
Ts0 f179 @|RichDialogEndIcon #fIcon
Ts0 f176 expr in #txt
Ts0 f176 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f176 470 824 466 1080 #arcP
Ts0 f176 1 696 824 #addKink
Ts0 f176 2 696 1080 #addKink
Ts0 f176 0 0.13978494623655913 1 11 #arcLabel
Ts0 f181 expr out #txt
Ts0 f181 456 1012 456 1070 #arcP
Ts0 f181 0 0.6132250232946252 0 0 #arcLabel
Ts0 f167 expr out #txt
Ts0 f167 560 1012 465 1078 #arcP
Ts0 f167 1 560 1064 #addKink
Ts0 f167 0 0.6810514021189923 0 0 #arcLabel
Ts0 f143 targetDisplay TOP #txt
Ts0 f143 richDialogId ch.ivyteam.ivy.addons.commondialogs.MessageDialog #txt
Ts0 f143 startMethod showMessage(String) #txt
Ts0 f143 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f143 requestActionDecl '<String message> param;' #txt
Ts0 f143 requestMappingAction 'param.message=ivy.cms.co("/ch/ivyteam/ivy/workflow/ui/common/plainStrings/alreadyOneTaskRunning");
' #txt
Ts0 f143 responseActionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f143 responseMappingAction 'out=in;
' #txt
Ts0 f143 windowConfiguration '{/title "Message"/width 300 /height 150 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Ts0 f143 isAsynch false #txt
Ts0 f143 isInnerRd true #txt
Ts0 f143 isDialog true #txt
Ts0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Display
message
info</name>
        <nameStyle>20,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f143 998 500 36 24 22 -27 #rect
Ts0 f143 @|RichDialogIcon #fIcon
Ts0 f178 expr in #txt
Ts0 f178 outCond 'ivy.session.findResumedWorkTasks(0,-1).size() > 0' #txt
Ts0 f178 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f178 1016 430 1016 500 #arcP
Ts0 f178 0 0.5630699018673336 -16 0 #arcLabel
Ts0 f163 expr out #txt
Ts0 f163 1016 524 845 616 #arcP
Ts0 f163 1 1016 616 #addKink
Ts0 f163 1 0.16810706465569114 0 0 #arcLabel
Ts0 f184 expr in #txt
Ts0 f184 outCond in.pressedButtonToDoWithTask.equals("yes") #txt
Ts0 f184 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f184 456 942 456 988 #arcP
Ts0 f186 expr in #txt
Ts0 f186 outCond in.pressedButtonToDoWithTask.equals("no") #txt
Ts0 f186 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f186 468 930 560 988 #arcP
Ts0 f186 1 560 944 #addKink
Ts0 f186 1 0.1618023027821841 0 0 #arcLabel
Ts0 f193 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f193 638 1022 20 20 13 0 #rect
Ts0 f193 @|RichDialogProcessEndIcon #fIcon
Ts0 f204 expr in #txt
Ts0 f204 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancel</name>
        <nameStyle>6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f204 470 928 648 1022 #arcP
Ts0 f204 1 648 928 #addKink
Ts0 f204 1 0.10981499853660062 0 0 #arcLabel
Ts0 f205 expr out #txt
Ts0 f205 824 746 469 823 #arcP
Ts0 f205 1 824 792 #addKink
Ts0 f205 1 0.18248407047134302 0 0 #arcLabel
Ts0 f210 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f210 guid 12927317941C4346 #txt
Ts0 f210 38 334 20 20 13 0 #rect
Ts0 f210 @|RichDialogEndIcon #fIcon
Ts0 f71 expr out #txt
Ts0 f71 48 106 48 334 #arcP
Ts0 f65 actionDecl 'ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData out;
' #txt
Ts0 f65 actionTable 'out=in;
' #txt
Ts0 f65 actionCode 'ivy.log.debug("Task {0} state is {1}.", in.task.getIdentifier(), in.task.getState());' #txt
Ts0 f65 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f65 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>printout the task state</name>
        <nameStyle>23,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f65 2750 228 36 24 20 -2 #rect
Ts0 f65 @|RichDialogProcessStepIcon #fIcon
Ts0 f206 expr in #txt
Ts0 f206 outCond 'in.broadcastedTaskIdentifiers.contains(in.taskIdentifier) ||
in.broadcastedTaskIdentifiers.contains(in.broadcastedTaskAssignedToSelf1Identifier)' #txt
Ts0 f206 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f206 2768 198 2768 228 #arcP
Ts0 f8 expr out #txt
Ts0 f8 2768 252 2768 274 #arcP
Ts0 f112 expr out #txt
Ts0 f112 456 746 456 810 #arcP
Ts0 f113 expr out #txt
Ts0 f113 432 90 432 259 #arcP
Ts0 f102 expr in #txt
Ts0 f102 846 312 845 616 #arcP
Ts0 f102 1 1080 312 #addKink
Ts0 f102 2 1080 616 #addKink
Ts0 f102 1 0.32046141404989686 0 0 #arcLabel
Ts0 f198 expr out #txt
Ts0 f198 1032 90 1032 162 #arcP
Ts0 f217 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f217 1262 382 20 20 13 0 #rect
Ts0 f217 @|RichDialogProcessEndIcon #fIcon
Ts0 f4 expr out #txt
Ts0 f4 136 228 136 331 #arcP
Ts0 f14 guid 12C4FACC4719186F #txt
Ts0 f14 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f14 method start(ch.ivyteam.ivy.workflow.ITask,Boolean,Boolean) #txt
Ts0 f14 disableUIEvents true #txt
Ts0 f14 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.workflow.ITask aTask,java.lang.Boolean aStartTaskRequested,java.lang.Boolean aHasWfAdministratorPermissions> param = methodEvent.getInputArguments();
' #txt
Ts0 f14 inParameterMapAction 'out.hasPermissionDelegateTasks=param.aHasWfAdministratorPermissions;
out.startTaskRequested=param.aStartTaskRequested;
out.task=param.aTask;
out.taskIdentifier=param.aTask.getIdentifier();
' #txt
Ts0 f14 outParameterDecl '<> result;
' #txt
Ts0 f14 embeddedRdInitializations '* ' #txt
Ts0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start(ITask,Boolean,Boolean)</name>
        <nameStyle>28,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f14 126 86 20 20 13 0 #rect
Ts0 f14 @|RichDialogInitStartIcon #fIcon
Ts0 f34 expr out #txt
Ts0 f34 136 106 136 204 #arcP
Ts0 f57 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f57 guid 12C9D649A0E2EB47 #txt
Ts0 f57 2758 430 20 20 13 0 #rect
Ts0 f57 @|RichDialogEndIcon #fIcon
Ts0 f58 type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
Ts0 f58 2654 430 20 20 13 0 #rect
Ts0 f58 @|RichDialogProcessEndIcon #fIcon
Ts0 f60 expr in #txt
Ts0 f60 outCond '(in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.DONE) || 
in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.READY_FOR_JOIN) || in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED)) &&  (in.broadcastedTaskIdentifiers.size() == 1 && in.task.getIdentifier() == in.broadcastedTaskIdentifiers.get(0)) ||
(in.broadcastedTaskIdentifiers.size() == 1 && in.#broadcastedTaskAssignedToSelf1Identifier is initialized && ch.ivyteam.ivy.workflow.ui.utils.WorkflowUIAccessPermissionHandler.wfFindTaskAsSystemUser(in.broadcastedTaskAssignedToSelf1Identifier).getState().equals(ch.ivyteam.ivy.workflow.TaskState.DONE))' #txt
Ts0 f60 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f60 2768 302 2768 430 #arcP
Ts0 f60 0 0.48444796027833964 -1 0 #arcLabel
Ts0 f9 expr in #txt
Ts0 f9 2582 160 2664 430 #arcP
Ts0 f9 1 2664 160 #addKink
Ts0 f9 1 0.3621785577329729 0 0 #arcLabel
Ts0 f61 expr in #txt
Ts0 f61 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f61 1046 176 1268 382 #arcP
Ts0 f61 1 1192 176 #addKink
Ts0 f61 0 0.906147323680276 0 0 #arcLabel
>Proto Ts0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Start methods</swimlaneLabel>
        <swimlaneLabel>Methods</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel>Accepted Broadcasts</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>407</swimlaneSize>
    <swimlaneSize>311</swimlaneSize>
    <swimlaneSize>1776</swimlaneSize>
    <swimlaneSize>893</swimlaneSize>
    <swimlaneColor>-16711732</swimlaneColor>
    <swimlaneColor>-6697729</swimlaneColor>
    <swimlaneColor>-6684673</swimlaneColor>
    <swimlaneColor>-16711681</swimlaneColor>
</elementInfo>
' #txt
>Proto Ts0 .type ch.ivyteam.ivy.workflow.ui.task.TaskDisplayBackup.TaskDisplayBackupData #txt
>Proto Ts0 .processKind RICH_DIALOG #txt
>Proto Ts0 .rdData2UIAction 'panel.delegateTaskButton.enabled=in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED)||
 in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED)||
  in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.UNASSIGNED);
panel.delegateTaskButton.visible=!in.taskIsExecuting;
panel.footerLabel.text=in.footerMessage;
panel.parkTaskButton.enabled=in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.RESUMED);
panel.parkTaskButton.visible=in.taskIsExecuting;
panel.startTaskToggleButton.enabled=in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.SUSPENDED) || 
in.task.getState().equals(ch.ivyteam.ivy.workflow.TaskState.PARKED);
panel.informOnTaskToggleButton.visible=in.taskIsExecuting;
panel.startTaskToggleButton.visible=!in.taskIsExecuting;
' #txt
>Proto Ts0 -8 -8 16 16 16 26 #rect
>Proto Ts0 '' #fIcon
Ts0 f42 out f46 tail #connect
Ts0 f46 head f45 in #connect
Ts0 f48 mainOut f39 tail #connect
Ts0 f39 head f38 mainIn #connect
Ts0 f42 out f51 tail #connect
Ts0 f51 head f50 mainIn #connect
Ts0 f50 mainOut f44 tail #connect
Ts0 f44 head f38 mainIn #connect
Ts0 f37 mainOut f72 tail #connect
Ts0 f72 head f2 mainIn #connect
Ts0 f2 mainOut f43 tail #connect
Ts0 f43 head f42 in #connect
Ts0 f76 mainOut f80 tail #connect
Ts0 f80 head f79 in #connect
Ts0 f79 out f78 tail #connect
Ts0 f78 head f77 mainIn #connect
Ts0 f83 mainOut f94 tail #connect
Ts0 f94 head f93 in #connect
Ts0 f93 out f88 tail #connect
Ts0 f88 head f87 mainIn #connect
Ts0 f93 out f96 tail #connect
Ts0 f96 head f95 mainIn #connect
Ts0 f116 mainOut f117 tail #connect
Ts0 f117 head f6 mainIn #connect
Ts0 f118 mainOut f123 tail #connect
Ts0 f123 head f122 in #connect
Ts0 f122 out f124 tail #connect
Ts0 f124 head f121 mainIn #connect
Ts0 f122 out f127 tail #connect
Ts0 f127 head f126 mainIn #connect
Ts0 f131 mainOut f138 tail #connect
Ts0 f138 head f137 in #connect
Ts0 f137 out f136 tail #connect
Ts0 f136 head f135 mainIn #connect
Ts0 f140 mainOut f145 tail #connect
Ts0 f145 head f144 mainIn #connect
Ts0 f133 mainOut f139 tail #connect
Ts0 f139 head f129 mainIn #connect
Ts0 f126 mainOut f130 tail #connect
Ts0 f130 head f119 mainIn #connect
Ts0 f128 mainOut f13 tail #connect
Ts0 f13 head f12 in #connect
Ts0 f23 head f11 mainIn #connect
Ts0 f11 mainOut f24 tail #connect
Ts0 f24 head f125 mainIn #connect
Ts0 f73 out f26 tail #connect
Ts0 f26 head f42 in #connect
Ts0 f137 out f47 tail #connect
Ts0 f47 head f142 mainIn #connect
Ts0 f142 mainOut f35 tail #connect
Ts0 f35 head f125 mainIn #connect
Ts0 f12 out f53 tail #connect
Ts0 f53 head f52 in #connect
Ts0 f12 out f23 tail #connect
Ts0 f52 out f21 tail #connect
Ts0 f21 head f131 mainIn #connect
Ts0 f52 out f74 tail #connect
Ts0 f74 head f142 mainIn #connect
Ts0 f121 mainOut f97 tail #connect
Ts0 f97 head f129 mainIn #connect
Ts0 f17 head f81 mainIn #connect
Ts0 f75 mainOut f19 tail #connect
Ts0 f19 head f18 in #connect
Ts0 f20 head f81 mainIn #connect
Ts0 f135 mainOut f49 tail #connect
Ts0 f49 head f140 mainIn #connect
Ts0 f67 out f100 tail #connect
Ts0 f100 head f92 mainIn #connect
Ts0 f67 out f101 tail #connect
Ts0 f101 head f98 mainIn #connect
Ts0 f98 mainOut f104 tail #connect
Ts0 f104 head f91 mainIn #connect
Ts0 f92 mainOut f105 tail #connect
Ts0 f105 head f66 mainIn #connect
Ts0 f68 mainOut f107 tail #connect
Ts0 f107 head f86 in #connect
Ts0 f86 out f99 tail #connect
Ts0 f99 head f67 in #connect
Ts0 f86 out f108 tail #connect
Ts0 f108 head f89 mainIn #connect
Ts0 f89 mainOut f110 tail #connect
Ts0 f110 head f91 mainIn #connect
Ts0 f40 mainOut f141 tail #connect
Ts0 f141 head f48 mainIn #connect
Ts0 f45 out f165 tail #connect
Ts0 f165 head f164 mainIn #connect
Ts0 f164 mainOut f161 tail #connect
Ts0 f161 head f160 in #connect
Ts0 f171 head f40 mainIn #connect
Ts0 f160 out f172 tail #connect
Ts0 f172 head f162 in #connect
Ts0 f160 out f41 tail #connect
Ts0 f41 head f40 mainIn #connect
Ts0 f174 mainOut f175 tail #connect
Ts0 f175 head f6 mainIn #connect
Ts0 f59 mainOut f183 tail #connect
Ts0 f183 head f169 in #connect
Ts0 f182 out f185 tail #connect
Ts0 f185 head f59 mainIn #connect
Ts0 f182 out f176 tail #connect
Ts0 f176 head f179 mainIn #connect
Ts0 f146 mainOut f181 tail #connect
Ts0 f181 head f179 mainIn #connect
Ts0 f173 mainOut f167 tail #connect
Ts0 f167 head f179 mainIn #connect
Ts0 f162 out f178 tail #connect
Ts0 f178 head f143 mainIn #connect
Ts0 f162 out f171 tail #connect
Ts0 f143 mainOut f163 tail #connect
Ts0 f163 head f38 mainIn #connect
Ts0 f169 out f184 tail #connect
Ts0 f184 head f146 mainIn #connect
Ts0 f169 out f186 tail #connect
Ts0 f186 head f173 mainIn #connect
Ts0 f169 out f204 tail #connect
Ts0 f204 head f193 mainIn #connect
Ts0 f120 mainOut f205 tail #connect
Ts0 f205 head f182 in #connect
Ts0 f0 mainOut f71 tail #connect
Ts0 f71 head f210 mainIn #connect
Ts0 f18 out f206 tail #connect
Ts0 f206 head f65 mainIn #connect
Ts0 f18 out f20 tail #connect
Ts0 f65 mainOut f8 tail #connect
Ts0 f8 head f7 in #connect
Ts0 f111 mainOut f112 tail #connect
Ts0 f112 head f182 in #connect
Ts0 f22 mainOut f113 tail #connect
Ts0 f113 head f6 mainIn #connect
Ts0 f45 out f102 tail #connect
Ts0 f102 head f38 mainIn #connect
Ts0 f27 mainOut f198 tail #connect
Ts0 f198 head f73 in #connect
Ts0 f31 mainOut f4 tail #connect
Ts0 f4 head f1 mainIn #connect
Ts0 f14 mainOut f34 tail #connect
Ts0 f34 head f31 mainIn #connect
Ts0 f7 out f60 tail #connect
Ts0 f60 head f57 mainIn #connect
Ts0 f7 out f17 tail #connect
Ts0 f79 out f9 tail #connect
Ts0 f9 head f58 mainIn #connect
Ts0 f73 out f61 tail #connect
Ts0 f61 head f217 mainIn #connect
