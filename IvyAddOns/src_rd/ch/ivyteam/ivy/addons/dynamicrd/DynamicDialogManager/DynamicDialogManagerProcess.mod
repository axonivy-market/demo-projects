[Ivy]
[>Created: Tue Oct 19 00:43:29 CEST 2010]
12495B5A297FD530 3.13.1 #module
>Proto >Proto Collection #zClass
Ts0 TableTreeDialogProcess Big #zClass
Ts0 RD #cInfo
Ts0 #process
Ts0 @TextInP .resExport .resExport #zField
Ts0 @TextInP .type .type #zField
Ts0 @TextInP .processKind .processKind #zField
Ts0 @AnnotationInP-0n ai ai #zField
Ts0 @TextInP .xml .xml #zField
Ts0 @TextInP .responsibility .responsibility #zField
Ts0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Ts0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Ts0 @MessageFlowInP-0n messageIn messageIn #zField
Ts0 @MessageFlowOutP-0n messageOut messageOut #zField
Ts0 @RichDialogInitStart f0 '' #zField
Ts0 @RichDialogProcessEnd f1 '' #zField
Ts0 @RichDialogProcessStart f10 '' #zField
Ts0 @RichDialogProcessStart f11 '' #zField
Ts0 @RichDialogProcessStart f12 '' #zField
Ts0 @RichDialogProcessStart f25 '' #zField
Ts0 @RichDialogProcessEnd f26 '' #zField
Ts0 @RichDialogProcessEnd f27 '' #zField
Ts0 @RichDialogProcessEnd f28 '' #zField
Ts0 @RichDialogProcessEnd f29 '' #zField
Ts0 @RichDialogMethodStart f4 '' #zField
Ts0 @RichDialogProcessEnd f2 '' #zField
Ts0 @RichDialogProcessStep f6 '' #zField
Ts0 @PushWFArc f7 '' #zField
Ts0 @PushWFArc f5 '' #zField
Ts0 @RichDialogBroadcastStart f8 '' #zField
Ts0 @RichDialogProcessEnd f9 '' #zField
Ts0 @RichDialogProcessStep f35 '' #zField
Ts0 @PushWFArc f34 '' #zField
Ts0 @RichDialogProcessStep f3 '' #zField
Ts0 @PushWFArc f41 '' #zField
Ts0 @RichDialogProcessStep f52 '' #zField
Ts0 @RichDialogProcessStart f54 '' #zField
Ts0 @RichDialogProcessEnd f50 '' #zField
Ts0 @RichDialogProcessStep f55 '' #zField
Ts0 @PushWFArc f56 '' #zField
Ts0 @PushWFArc f51 '' #zField
Ts0 @RichDialogProcessStep f31 '' #zField
Ts0 @PushWFArc f59 '' #zField
Ts0 @PushWFArc f60 '' #zField
Ts0 @RichDialogMethodStart f14 '' #zField
Ts0 @RichDialogProcessEnd f38 '' #zField
Ts0 @RichDialogProcessStep f57 '' #zField
Ts0 @PushWFArc f58 '' #zField
Ts0 @PushWFArc f39 '' #zField
Ts0 @RichDialogMethodStart f61 '' #zField
Ts0 @RichDialogProcessEnd f62 '' #zField
Ts0 @RichDialogProcessStep f63 '' #zField
Ts0 @PushWFArc f64 '' #zField
Ts0 @PushWFArc f65 '' #zField
Ts0 @RichDialogProcessStep f19 '' #zField
Ts0 @RichDialogProcessStep f40 '' #zField
Ts0 @PushWFArc f66 '' #zField
Ts0 @RichDialogProcessStart f42 '' #zField
Ts0 @RichDialogProcessEnd f43 '' #zField
Ts0 @RichDialogProcessStep f45 '' #zField
Ts0 @PushWFArc f46 '' #zField
Ts0 @PushWFArc f44 '' #zField
Ts0 @RichDialogProcessStart f67 '' #zField
Ts0 @RichDialogProcessEnd f68 '' #zField
Ts0 @RichDialogProcessStart f72 '' #zField
Ts0 @RichDialogProcessEnd f73 '' #zField
Ts0 @RichDialogProcessStep f75 '' #zField
Ts0 @PushWFArc f76 '' #zField
Ts0 @RichDialogProcessStep f77 '' #zField
Ts0 @PushWFArc f78 '' #zField
Ts0 @RichDialogProcessStep f79 '' #zField
Ts0 @PushWFArc f80 '' #zField
Ts0 @PushWFArc f69 '' #zField
Ts0 @PushWFArc f70 '' #zField
Ts0 @PushWFArc f48 '' #zField
Ts0 @RichDialogMethodStart f16 '' #zField
Ts0 @RichDialogProcessEnd f18 '' #zField
Ts0 @RichDialogProcessStep f23 '' #zField
Ts0 @PushWFArc f24 '' #zField
Ts0 @PushWFArc f20 '' #zField
Ts0 @RichDialogProcessStep f47 '' #zField
Ts0 @RichDialogProcessEnd f49 '' #zField
Ts0 @RichDialogProcessStart f53 '' #zField
Ts0 @PushWFArc f74 '' #zField
Ts0 @PushWFArc f71 '' #zField
Ts0 @RichDialogProcessStart f81 '' #zField
Ts0 @RichDialogProcessEnd f82 '' #zField
Ts0 @RichDialogProcessStep f84 '' #zField
Ts0 @PushWFArc f85 '' #zField
Ts0 @RichDialogProcessStep f86 '' #zField
Ts0 @PushWFArc f87 '' #zField
Ts0 @PushWFArc f30 '' #zField
Ts0 @RichDialogProcessStep f88 '' #zField
Ts0 @PushWFArc f89 '' #zField
Ts0 @PushWFArc f32 '' #zField
Ts0 @RichDialogProcessStep f90 '' #zField
Ts0 @PushWFArc f91 '' #zField
Ts0 @PushWFArc f33 '' #zField
Ts0 @RichDialogProcessStep f13 '' #zField
Ts0 @PushWFArc f37 '' #zField
Ts0 @RichDialogProcessStart f92 '' #zField
Ts0 @RichDialogProcessEnd f93 '' #zField
Ts0 @RichDialogProcessStep f94 '' #zField
Ts0 @PushWFArc f95 '' #zField
Ts0 @PushWFArc f96 '' #zField
Ts0 @RichDialogProcessStep f97 '' #zField
Ts0 @PushWFArc f98 '' #zField
Ts0 @RichDialogProcessStart f99 '' #zField
Ts0 @RichDialogProcessEnd f100 '' #zField
Ts0 @PushWFArc f101 '' #zField
Ts0 @RichDialogProcessStart f105 '' #zField
Ts0 @RichDialogProcessEnd f106 '' #zField
Ts0 @RichDialogProcessStep f108 '' #zField
Ts0 @PushWFArc f109 '' #zField
Ts0 @PushWFArc f107 '' #zField
Ts0 @RichDialogProcessStep f112 '' #zField
Ts0 @PushWFArc f113 '' #zField
Ts0 @PushWFArc f36 '' #zField
Ts0 @RichDialogMethodStart f114 '' #zField
Ts0 @RichDialogEnd f115 '' #zField
Ts0 @RichDialogProcessStep f117 '' #zField
Ts0 @PushWFArc f118 '' #zField
Ts0 @PushWFArc f116 '' #zField
Ts0 @RichDialogProcessStep f102 '' #zField
Ts0 @PushWFArc f103 '' #zField
Ts0 @PushWFArc f22 '' #zField
Ts0 @PushWFArc f15 '' #zField
Ts0 @RichDialogProcessStep f17 '' #zField
Ts0 @PushWFArc f21 '' #zField
Ts0 @PushWFArc f83 '' #zField
>Proto Ts0 Ts0 TableTreeDialogProcess #zField
Ts0 f0 guid 1245201CC39C1E4B #txt
Ts0 f0 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f0 method start() #txt
Ts0 f0 disableUIEvents true #txt
Ts0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f0 outParameterDecl '<> result;
' #txt
Ts0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
Ts0 f0 54 38 20 20 13 0 #rect
Ts0 f0 @|RichDialogInitStartIcon #fIcon
Ts0 f1 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f1 54 430 20 20 13 0 #rect
Ts0 f1 @|RichDialogProcessEndIcon #fIcon
Ts0 f10 guid 1247B912C80440D1 #txt
Ts0 f10 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f10 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f10 actionTable 'out=in;
' #txt
Ts0 f10 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f10 774 278 20 20 13 0 #rect
Ts0 f10 @|RichDialogProcessStartIcon #fIcon
Ts0 f11 guid 1247B913152F131C #txt
Ts0 f11 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f11 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f11 actionTable 'out=in;
' #txt
Ts0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove</name>
        <nameStyle>6,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f11 878 278 20 20 13 0 #rect
Ts0 f11 @|RichDialogProcessStartIcon #fIcon
Ts0 f12 guid 1247B9136D1E4A54 #txt
Ts0 f12 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f12 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f12 actionTable 'out=in;
' #txt
Ts0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>up</name>
        <nameStyle>2,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f12 974 278 20 20 13 0 #rect
Ts0 f12 @|RichDialogProcessStartIcon #fIcon
Ts0 f25 guid 1247B913E0414E4C #txt
Ts0 f25 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f25 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f25 actionTable 'out=in;
' #txt
Ts0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>down</name>
        <nameStyle>4,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f25 1078 278 20 20 13 0 #rect
Ts0 f25 @|RichDialogProcessStartIcon #fIcon
Ts0 f26 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f26 774 422 20 20 13 0 #rect
Ts0 f26 @|RichDialogProcessEndIcon #fIcon
Ts0 f27 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f27 878 422 20 20 13 0 #rect
Ts0 f27 @|RichDialogProcessEndIcon #fIcon
Ts0 f28 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f28 974 422 20 20 13 0 #rect
Ts0 f28 @|RichDialogProcessEndIcon #fIcon
Ts0 f29 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f29 1078 422 20 20 13 0 #rect
Ts0 f29 @|RichDialogProcessEndIcon #fIcon
Ts0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getEnabledActions(TreePath)</name>
        <nameStyle>27,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f4 guid 1247BAE2C98DCD31 #txt
Ts0 f4 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f4 method getEnabledActions(com.ulcjava.base.application.tree.TreePath) #txt
Ts0 f4 disableUIEvents false #txt
Ts0 f4 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<com.ulcjava.base.application.tree.TreePath path> param = methodEvent.getInputArguments();
' #txt
Ts0 f4 inParameterMapAction 'out.path=param.path;
' #txt
Ts0 f4 outParameterDecl '<java.util.Hashtable hash> result;
' #txt
Ts0 f4 outParameterMapAction 'result.hash=in.flags;
' #txt
Ts0 f4 438 46 20 20 13 0 #rect
Ts0 f4 @|RichDialogMethodStartIcon #fIcon
Ts0 f2 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f2 438 222 20 20 13 0 #rect
Ts0 f2 @|RichDialogProcessEndIcon #fIcon
Ts0 f6 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f6 actionTable 'out=in;
' #txt
Ts0 f6 actionCode 'import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTableTreeNode;
import java.util.Hashtable;

ParameterTableTreeNode node;
ParameterTableTreeNode parent;
Boolean enableUpAction;
Boolean enableDownAction;
Boolean enableRemoveAction;
Boolean enableAddAction;
Hashtable result;

result = new Hashtable();
if (in.#path is initialized) {
	node = in.path.getLastPathComponent() as ParameterTableTreeNode;
	parent = node.getParent() != null ? node.getParent() as ParameterTableTreeNode : null;

  enableUpAction = false;
  enableDownAction = false;
  if (#parent is initialized && parent.getValueAt(0).equals("values")) {
		enableUpAction = parent.getIndex(node) != 0;
		enableDownAction = parent.getIndex(node) != parent.getChildCount() - 1;
	}
	enableAddAction = node.getValueAt(0).equals("values");
	enableRemoveAction = true;

	result.put("add", enableAddAction);
	result.put("remove", enableRemoveAction);
	result.put("up", enableUpAction);
	result.put("down", enableDownAction);
}

out.flags = result;' #txt
Ts0 f6 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f6 430 116 36 24 20 -2 #rect
Ts0 f6 @|RichDialogProcessStepIcon #fIcon
Ts0 f7 expr out #txt
Ts0 f7 448 66 448 116 #arcP
Ts0 f5 expr out #txt
Ts0 f5 448 140 448 222 #arcP
Ts0 f8 guid 1247FE3E5474DA81 #txt
Ts0 f8 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f8 broadcast selectedDDFieldChange #txt
Ts0 f8 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f8 actionTable 'out=in;
out.cms=param.fieldChangeParam.cms;
out.component=param.fieldChangeParam.component;
' #txt
Ts0 f8 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selectedDDFieldChange</name>
        <nameStyle>21,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f8 1278 54 20 20 13 0 #rect
Ts0 f8 @|RichDialogBroadcastStartIcon #fIcon
Ts0 f9 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f9 1278 222 20 20 13 0 #rect
Ts0 f9 @|RichDialogProcessEndIcon #fIcon
Ts0 f35 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f35 actionTable 'out=in;
' #txt
Ts0 f35 actionCode 'import ch.ivyteam.ivy.addons.cmscontext.Cms;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialog.DynamicDialogPanel;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.EncapsulationTreeNodeValue;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.EncapsulationTreeHelper;

DynamicDialogPanel dd;
String componentFullName;
String constructedFullName;
List<String> cmsContext;
Class clazz;
String prefix;

if (in.#component is initialized ) {
	dd = in.component.getPanel();
	clazz = dd.getDDObjectClass();
	prefix = dd.getPrefix();
	out.classMap = dd.getClassMap();
	cmsContext = Cms.getCmsContexts(dd.getCmsContext(), in.cms);

  if (in.component != in.oldComponent) {
		out.cmsContext = null;
  	out.dataClassesEncapsulation = EncapsulationTreeHelper.fillTree(clazz, cmsContext, in.cms, out.classMap);
	  panel.selectDCComboBox.selectedIndex = in.projectDataClasses.size() - 1;
    panel.selectDCLookupTextField.text = in.projectDataClasses.get(in.projectDataClasses.size() - 1);
    out.oldComponent = in.component;
	}
	
  componentFullName = in.component.getParameters().getFullName();
  for (Tree t : out.dataClassesEncapsulation.getAllDeepChildren()) {
    if (t.getValue() instanceof EncapsulationTreeNodeValue) {
	    constructedFullName = (prefix + 
	        (t.getValue() as EncapsulationTreeNodeValue).getQualifiedName());
   		if (constructedFullName.equals(componentFullName)) {
   		  panel.attributeTableTree.selectedTreeNode = t;
				panel.attributeTableTree.scrollCellToVisible(panel.attributeTableTree.getSelectedPath(),0);
         break;
  	  }
    }
  }
} else {
	out.dataClassesEncapsulation = null;
	panel.selectDCComboBox.selectedIndex = in.projectDataClasses.size() - 1;
	panel.selectDCLookupTextField.text = in.projectDataClasses.get(in.projectDataClasses.size() - 1);
}' #txt
Ts0 f35 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f35 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f35 1270 116 36 24 20 -2 #rect
Ts0 f35 @|RichDialogProcessStepIcon #fIcon
Ts0 f34 expr out #txt
Ts0 f34 1288 140 1288 222 #arcP
Ts0 f3 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f3 actionTable 'out=in;
' #txt
Ts0 f3 actionCode ivy.rd.subscribeToSystemEvents(ch.ivyteam.ivy.event.SystemEventCategory.THIRD_PARTY); #txt
Ts0 f3 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Enable THIRD_PARTY events</name>
        <nameStyle>25,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f3 46 76 36 24 20 -2 #rect
Ts0 f3 @|RichDialogProcessStepIcon #fIcon
Ts0 f41 expr out #txt
Ts0 f41 64 58 64 76 #arcP
Ts0 f52 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f52 actionTable 'out=in;
' #txt
Ts0 f52 actionCode 'List<String> splitedPath;
List<String> splitedPathTest;
Integer mostMatchedPos;
Integer maxMatch;
Integer currentPos;
Integer cmsPathIndex;
List<String> displayedCmsContext;

for (String s : out.cmsContext) {
	displayedCmsContext.add(";" + s + ";" + in.cmsMap.get(s.startsWith("X") ? s.substring(1) : s) as String);
}

cmsPathIndex = 0;
if (!panel.cmsContextList.getSelectedValue() is initialized) {
  currentPos = 0;
	for (String s :out.cmsContext) {
		if (s.startsWith("/")) {
			cmsPathIndex = currentPos;
		}
		currentPos++;
	}
} else {
	splitedPath = in.lastCmsContext.split("/");
	mostMatchedPos = 0;
	currentPos = 0;
	maxMatch = 1;
	for (String s : out.cmsContext) {
			splitedPathTest = s.split("/");
			for (Integer i = maxMatch; i < splitedPathTest.size(); i++) {
			  if (i >= splitedPath.size()) {
				  break;
			  }
			  if (splitedPath.get(i).equals(splitedPathTest.get(i))) {
				  maxMatch++;
				  mostMatchedPos = currentPos;		
			  }
		  }
		  currentPos++;
	}
	
	if (out.cmsContext.size() > mostMatchedPos) {
		cmsPathIndex = mostMatchedPos;
	}
}

out.displayedCmsContext = displayedCmsContext;
panel.cmsContextList.listData = displayedCmsContext;
panel.cmsContextList.selectedIndex = cmsPathIndex;

panel.updateDisplayedCmsContext();' #txt
Ts0 f52 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f52 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Fill Cms context list</name>
        <nameStyle>21,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f52 766 604 36 24 20 -2 #rect
Ts0 f52 @|RichDialogProcessStepIcon #fIcon
Ts0 f54 guid 124814FF3DD472D3 #txt
Ts0 f54 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f54 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f54 actionTable 'out=in;
' #txt
Ts0 f54 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cmsContextSelected</name>
        <nameStyle>18,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f54 1078 54 20 20 13 0 #rect
Ts0 f54 @|RichDialogProcessStartIcon #fIcon
Ts0 f50 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f50 1078 222 20 20 13 0 #rect
Ts0 f50 @|RichDialogProcessEndIcon #fIcon
Ts0 f55 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f55 actionTable 'out=in;
' #txt
Ts0 f55 actionCode 'String context;
Integer index;

index = panel.cmsContextList.getSelectedIndex();

if (index >= 0 && index < in.cmsContext.size()) {
	context = in.cmsContext.get(index);
}

if (!context.equals(out.lastCmsContext)) {
  if (!context.equals("")) {
	  out.lastCmsContext = context;
  }

  panel.updateTree();
}' #txt
Ts0 f55 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f55 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f55 1070 124 36 24 20 -2 #rect
Ts0 f55 @|RichDialogProcessStepIcon #fIcon
Ts0 f56 expr out #txt
Ts0 f56 1088 74 1088 124 #arcP
Ts0 f51 expr out #txt
Ts0 f51 1088 148 1088 222 #arcP
Ts0 f31 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f31 actionTable 'out=in;
' #txt
Ts0 f31 actionCode 'import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTableTreeNode;
import com.ulcjava.base.application.tree.TreePath;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

TreePath path;
List<Boolean> flags;

path = panel.parameterTableTree.getSelectedPath();
flags = ParameterTreeHelper.updateMenu(path);

if (flags.get(0)) {
	out.errorMessage = null;
	try
	{
	  ParameterTreeHelper.remove(path, in.cms);
	  in.component.getPanel().invalidateCache();
	}
	catch (Exception e)
	{
		out.errorMessage = e.getMessage();
	}

//  panel.parameterTableTree.setValueAt(panel.parameterTableTree.getValueAt(path, ParameterTableTreeNode.VALUE_COLUMN), path, ParameterTableTreeNode.VALUE_COLUMN);
}

panel.updateTree();' #txt
Ts0 f31 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f31 870 348 36 24 20 -2 #rect
Ts0 f31 @|RichDialogProcessStepIcon #fIcon
Ts0 f59 expr out #txt
Ts0 f59 888 298 888 348 #arcP
Ts0 f60 expr out #txt
Ts0 f60 888 372 888 422 #arcP
Ts0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>valueChanged(TreePath)</name>
        <nameStyle>22,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f14 guid 124951C4B38B303D #txt
Ts0 f14 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f14 method valueChanged(com.ulcjava.base.application.tree.TreePath) #txt
Ts0 f14 disableUIEvents false #txt
Ts0 f14 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<com.ulcjava.base.application.tree.TreePath path> param = methodEvent.getInputArguments();
' #txt
Ts0 f14 inParameterMapAction 'out.path=param.path;
' #txt
Ts0 f14 outParameterDecl '<> result;
' #txt
Ts0 f14 438 278 20 20 13 0 #rect
Ts0 f14 @|RichDialogMethodStartIcon #fIcon
Ts0 f38 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f38 438 422 20 20 13 0 #rect
Ts0 f38 @|RichDialogProcessEndIcon #fIcon
Ts0 f57 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f57 actionTable 'out=in;
' #txt
Ts0 f57 actionCode 'import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

out.errorMessage = null;
try
{
	if (ParameterTreeHelper.storeValue(in.path, in.cms)) {
  	panel.updateTree();
	}
	in.component.getPanel().invalidateCache();
}
catch (Exception e)
{
	out.errorMessage = e.getMessage();
}
panel.updateDisplayedCmsContext();

' #txt
Ts0 f57 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f57 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f57 430 348 36 24 20 -2 #rect
Ts0 f57 @|RichDialogProcessStepIcon #fIcon
Ts0 f58 expr out #txt
Ts0 f58 448 298 448 348 #arcP
Ts0 f39 expr out #txt
Ts0 f39 448 372 448 422 #arcP
Ts0 f61 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateTree()</name>
        <nameStyle>12,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f61 guid 124B1F9B8406B391 #txt
Ts0 f61 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f61 method updateTree() #txt
Ts0 f61 disableUIEvents false #txt
Ts0 f61 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f61 outParameterDecl '<> result;
' #txt
Ts0 f61 622 278 20 20 13 0 #rect
Ts0 f61 @|RichDialogMethodStartIcon #fIcon
Ts0 f62 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f62 622 422 20 20 13 0 #rect
Ts0 f62 @|RichDialogProcessEndIcon #fIcon
Ts0 f63 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f63 actionTable 'out=in;
' #txt
Ts0 f63 actionCode 'import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialog.internal.TreeNode;
import com.ulcjava.base.application.tree.TreePath;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

Tree tree;
Tree selectedTreeNode;
TreePath path;
int selectedRow;

panel.parameterTableTree.enabled = ivy.session.hasPermission(ivy.wf.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.ADMINISTRATE_WORKFLOW);

if (panel.parameterTableTree.enabled) {
  selectedRow = panel.parameterTableTree.getSelectedRow();

  if (panel.cmsContextList.getSelectedIndex() >= 0 && 
      in.cmsContext.size() > panel.cmsContextList.getSelectedIndex()) {
    tree = ParameterTreeHelper.fillTree(in.cmsContext.get(panel.cmsContextList.getSelectedIndex()), in.cmsContext, in.clazz, in.filterParameters, panel.attributeTableTree.getSelectedTreeNode(), in.cms);
	  panel.setValue(tree);
   	panel.parameterTableTree.expandAll();
  } else {
	  panel.setValue(null);
  }

  panel.parameterTableTree.setRowSelection(selectedRow);
}' #txt
Ts0 f63 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f63 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f63 614 348 36 24 20 -2 #rect
Ts0 f63 @|RichDialogProcessStepIcon #fIcon
Ts0 f64 expr out #txt
Ts0 f64 632 298 632 348 #arcP
Ts0 f64 0 0.5000000000000001 0 0 #arcLabel
Ts0 f65 expr out #txt
Ts0 f65 632 372 632 422 #arcP
Ts0 f19 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f19 actionTable 'out=in;
' #txt
Ts0 f19 actionCode 'panel.parameterTableTree.enabled = ivy.session.getSessionUserName().equals("Developer");' #txt
Ts0 f19 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Check if user is ''Developer''</name>
        <nameStyle>28,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f19 46 124 36 24 20 -2 #rect
Ts0 f19 @|RichDialogProcessStepIcon #fIcon
Ts0 f40 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f40 actionTable 'out=in;
' #txt
Ts0 f40 actionCode 'import java.util.Set;
import java.lang.reflect.Method;
import ch.ivyteam.ivy.richdialog.config.IRichDialog;
import ch.ivyteam.ivy.richdialog.config.IProjectRichDialogManager;
import ch.ivyteam.ivy.project.IIvyProject;
import ch.ivyteam.ivy.scripting.dataclass.IDataClass;

IIvyProject project;
IProjectRichDialogManager rdManager;
Set dataClasses;
String className;

project =  ivy.request.getProject();

// Get all dataclasses
for (IDataClass dataClass : project.getProjectDataClassManager().getDataClasses(null))
{
 dataClasses.add(dataClass.name);
}	
// Remove dataclasses that are in RDC
for (IRichDialog rdc : project.getProjectRichDialogManager().getRichDialogs(null)) {
  className = rdc.getPanelClass().getPackage().getName() + "." + rdc.getSimpleName() + "Data";
	dataClasses.remove(className);
}

// Fill output
for (String class : dataClasses) {
 out.projectDataClasses.add(class);
}' #txt
Ts0 f40 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Fill data classes list combo</name>
        <nameStyle>28,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f40 46 164 36 24 20 -2 #rect
Ts0 f40 @|RichDialogProcessStepIcon #fIcon
Ts0 f66 expr out #txt
Ts0 f66 64 148 64 164 #arcP
Ts0 f42 guid 124C42E8E5D2D4C0 #txt
Ts0 f42 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f42 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f42 actionTable 'out=in;
' #txt
Ts0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>dataClassSelectionChanged</name>
        <nameStyle>25,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f42 774 54 20 20 13 0 #rect
Ts0 f42 @|RichDialogProcessStartIcon #fIcon
Ts0 f43 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f43 774 222 20 20 13 0 #rect
Ts0 f43 @|RichDialogProcessEndIcon #fIcon
Ts0 f45 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f45 actionTable 'out=in;
' #txt
Ts0 f45 actionCode 'import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.EncapsulationTreeHelper;

Object object;
String clazz;

if (in.searchable) {
  object = panel.selectDCLookupTextField.text;
} else {
  object = panel.selectDCComboBox.getSelectedItem();
}

if (object instanceof String) {
	clazz = object as String;
}

if (!clazz.equals(in.projectDataClasses.get(in.projectDataClasses.size() - 1))) {
	out.cms = ivy.cms;
	out.classMap = null;
	
  // The changed were invoked by selecting something in the combo
  out.dataClassesEncapsulation = EncapsulationTreeHelper.fillTree(clazz, 	ivy.request.getProject().getProjectClassLoader(), in.cms, in.classMap);

	out.setComponent(null);
} else {
	// The changed were invoked by the broadcast
}
panel.cmsContextList.listData.clear();
panel.setValue(null);
panel.attributeTableTree.selectedTreeNode = null;

out.lastCmsContext = "";



' #txt
Ts0 f45 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f45 768 124 33 24 20 -2 #rect
Ts0 f45 @|RichDialogProcessStepIcon #fIcon
Ts0 f46 expr out #txt
Ts0 f46 783 73 783 124 #arcP
Ts0 f44 expr out #txt
Ts0 f44 783 148 783 222 #arcP
Ts0 f67 guid 124C50DFACC55D82 #txt
Ts0 f67 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f67 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f67 actionTable 'out=in;
' #txt
Ts0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggleSearchable</name>
        <nameStyle>16,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f67 774 718 20 20 13 0 #rect
Ts0 f67 @|RichDialogProcessStartIcon #fIcon
Ts0 f68 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f68 774 854 20 20 13 0 #rect
Ts0 f68 @|RichDialogProcessEndIcon #fIcon
Ts0 f72 guid 124D96AF814C44AB #txt
Ts0 f72 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f72 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f72 actionTable 'out=in;
' #txt
Ts0 f72 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>attributeSelectionChanged</name>
        <nameStyle>25,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f72 774 510 20 20 13 0 #rect
Ts0 f72 @|RichDialogProcessStartIcon #fIcon
Ts0 f73 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f73 774 662 20 20 13 0 #rect
Ts0 f73 @|RichDialogProcessEndIcon #fIcon
Ts0 f75 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f75 actionTable 'out=in;
' #txt
Ts0 f75 actionCode 'import ch.ivyteam.ivy.addons.cmscontext.Cms;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.EncapsulationTreeNodeValue;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.EncapsulationTreeHelper;

EncapsulationTreeNodeValue node;

node = EncapsulationTreeHelper.getCurrentSelectionNode(panel.attributeTableTree);

out.cmsContext.clear();
if (#node is initialized) {
	for (String s : node.getCmsContext()) {
  	if (s.startsWith(Cms.SPECIFIC_ENVIRONMENT_URI) ||
	 		s.startsWith(Cms.INEXISTANT_NODE_PREFIX + Cms.SPECIFIC_ENVIRONMENT_URI))
  	{
	  	out.cmsContext.add(s);
  	}
	  else if (ivy.session.getSessionUserName().equals("Developer"))
  	{
	  	out.cmsContext.add(s);
  	}
  }
  out.cmsMap = node.getCmsMap();
	out.clazz = node.clazz;
} 
else 
{
	out.cmsContext = null;
	out.clazz = null;
}' #txt
Ts0 f75 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f75 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Update RDC data class</name>
        <nameStyle>21,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f75 766 556 36 24 20 -2 #rect
Ts0 f75 @|RichDialogProcessStepIcon #fIcon
Ts0 f76 expr out #txt
Ts0 f76 784 530 784 556 #arcP
Ts0 f77 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f77 actionTable 'out=in;
' #txt
Ts0 f77 actionCode '// TODO - get string from CMS
out.projectDataClasses.add("Controlled by DynamicDialog");' #txt
Ts0 f77 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f77 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Add ''Controlled by DynamicDialog''</name>
        <nameStyle>33,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f77 46 204 36 24 20 -2 #rect
Ts0 f77 @|RichDialogProcessStepIcon #fIcon
Ts0 f78 expr out #txt
Ts0 f78 64 188 64 204 #arcP
Ts0 f79 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f79 actionTable 'out=in;
' #txt
Ts0 f79 actionCode 'String text;

if (in.searchable) {
	text = "";
	if (panel.selectDCComboBox.selectedListEntry instanceof String) {
		text = panel.selectDCComboBox.selectedListEntry.toString();
	}
	panel.selectDCLookupTextField.text = text;
} else {
	panel.selectDCComboBox.selectedListEntry = panel.selectDCLookupTextField.text;
}' #txt
Ts0 f79 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Update ComboBox and LookUpTextField</name>
        <nameStyle>35,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f79 766 780 36 24 20 -2 #rect
Ts0 f79 @|RichDialogProcessStepIcon #fIcon
Ts0 f80 expr out #txt
Ts0 f80 784 738 784 780 #arcP
Ts0 f69 expr out #txt
Ts0 f69 784 804 784 854 #arcP
Ts0 f70 expr out #txt
Ts0 f70 784 628 784 662 #arcP
Ts0 f48 expr out #txt
Ts0 f48 784 580 784 604 #arcP
Ts0 f16 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateDisplayedCmsContext()</name>
    </language>
</elementInfo>
' #txt
Ts0 f16 guid 124E09AAF1B9C8C5 #txt
Ts0 f16 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f16 method updateDisplayedCmsContext() #txt
Ts0 f16 disableUIEvents false #txt
Ts0 f16 438 510 20 20 13 0 #rect
Ts0 f16 @|RichDialogMethodStartIcon #fIcon
Ts0 f18 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f18 438 662 20 20 13 0 #rect
Ts0 f18 @|RichDialogProcessEndIcon #fIcon
Ts0 f23 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f23 actionTable 'out=in;
' #txt
Ts0 f23 actionCode 'List<String> newDisplayedCmsContext;
List<String> splited;
String prefix;
Integer index;

index = panel.cmsContextList.getSelectedIndex();
for (String s : in.displayedCmsContext) {
	splited = s.split(";");
  newDisplayedCmsContext.add((in.cms.cr(splited.get(1)).equals("") ? "X" : "") + ";" + splited.get(1) + ";" + splited.get(2));
}

out.displayedCmsContext = newDisplayedCmsContext;
panel.cmsContextList.listData = out.displayedCmsContext;
panel.cmsContextList.selectedIndex = index;
' #txt
Ts0 f23 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f23 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f23 430 580 36 24 20 -2 #rect
Ts0 f23 @|RichDialogProcessStepIcon #fIcon
Ts0 f24 expr out #txt
Ts0 f24 448 530 448 580 #arcP
Ts0 f20 expr out #txt
Ts0 f20 448 604 448 662 #arcP
Ts0 f47 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f47 actionTable 'out=in;
' #txt
Ts0 f47 actionCode 'in.component.getPanel().invalidateCache();

if (in.#component != null) {
//	in.component.getPanel().reload();
	in.component.getPanel().reloadButton.doClick();
}
' #txt
Ts0 f47 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f47 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f47 966 124 36 24 20 -2 #rect
Ts0 f47 @|RichDialogProcessStepIcon #fIcon
Ts0 f49 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f49 974 222 20 20 13 0 #rect
Ts0 f49 @|RichDialogProcessEndIcon #fIcon
Ts0 f53 guid 12526087F349DAAC #txt
Ts0 f53 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f53 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f53 actionTable 'out=in;
' #txt
Ts0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refreshDD</name>
        <nameStyle>9,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f53 974 54 20 20 13 0 #rect
Ts0 f53 @|RichDialogProcessStartIcon #fIcon
Ts0 f74 expr out #txt
Ts0 f74 984 148 984 222 #arcP
Ts0 f71 expr out #txt
Ts0 f71 984 74 984 124 #arcP
Ts0 f81 guid 12548B999FBFC82A #txt
Ts0 f81 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f81 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f81 actionTable 'out=in;
' #txt
Ts0 f81 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>parameterSelectionChanged</name>
        <nameStyle>25,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f81 974 510 20 20 13 0 #rect
Ts0 f81 @|RichDialogProcessStartIcon #fIcon
Ts0 f82 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f82 974 662 20 20 13 0 #rect
Ts0 f82 @|RichDialogProcessEndIcon #fIcon
Ts0 f84 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f84 actionTable 'out=in;
' #txt
Ts0 f84 actionCode 'import com.ulcjava.base.application.tree.TreePath;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

TreePath path;
List<Boolean> flags;
Boolean refresh;
Boolean remove;
Boolean up;
Boolean down;

path = panel.parameterTableTree.getSelectedPath();
if (#path != null) {
  flags = ParameterTreeHelper.updateMenu(path);

  remove = flags.get(0);
  up = flags.get(1);
  down = flags.get(2);
}
panel.removeMenuItem.enabled = remove;
panel.upMenuItem.enabled = up;
panel.downMenuItem.enabled = down;
' #txt
Ts0 f84 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f84 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Update contextual menu</name>
        <nameStyle>22,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f84 966 556 36 24 20 -2 #rect
Ts0 f84 @|RichDialogProcessStepIcon #fIcon
Ts0 f85 expr out #txt
Ts0 f85 984 530 984 556 #arcP
Ts0 f86 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f86 actionTable 'out=in;
' #txt
Ts0 f86 actionCode panel.updateTree(); #txt
Ts0 f86 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f86 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f86 766 348 36 24 20 -2 #rect
Ts0 f86 @|RichDialogProcessStepIcon #fIcon
Ts0 f87 expr out #txt
Ts0 f87 784 298 784 348 #arcP
Ts0 f30 expr out #txt
Ts0 f30 784 372 784 422 #arcP
Ts0 f88 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f88 actionTable 'out=in;
' #txt
Ts0 f88 actionCode 'import com.ulcjava.base.application.tree.TreePath;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

TreePath path;
List<Boolean> flags;

path = panel.parameterTableTree.getSelectedPath();
flags = ParameterTreeHelper.updateMenu(path);

if (flags.get(1)) {
	out.errorMessage = null;
	try
	{
	  ParameterTreeHelper.up(path, in.cms);
		in.component.getPanel().invalidateCache();
	}
	catch (Exception e)
	{
		out.errorMessage = e.getMessage();
	}

}

panel.updateTree();' #txt
Ts0 f88 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f88 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f88 966 348 36 24 20 -2 #rect
Ts0 f88 @|RichDialogProcessStepIcon #fIcon
Ts0 f89 expr out #txt
Ts0 f89 984 298 984 348 #arcP
Ts0 f32 expr out #txt
Ts0 f32 984 372 984 422 #arcP
Ts0 f90 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f90 actionTable 'out=in;
' #txt
Ts0 f90 actionCode 'import com.ulcjava.base.application.tree.TreePath;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

TreePath path;
List<Boolean> flags;

path = panel.parameterTableTree.getSelectedPath();
flags = ParameterTreeHelper.updateMenu(path);

if (flags.get(2)) {
	out.errorMessage = null;
	try
	{
	  ParameterTreeHelper.down(path, in.cms);
	  in.component.getPanel().invalidateCache();
	}
	catch (Exception e)
	{
		out.errorMessage = e.getMessage();
	}
}

panel.updateTree();' #txt
Ts0 f90 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f90 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
Ts0 f90 1070 348 36 24 20 -2 #rect
Ts0 f90 @|RichDialogProcessStepIcon #fIcon
Ts0 f91 expr out #txt
Ts0 f91 1088 298 1088 348 #arcP
Ts0 f33 expr out #txt
Ts0 f33 1088 372 1088 422 #arcP
Ts0 f13 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f13 actionTable 'out=in;
' #txt
Ts0 f13 actionCode 'import ch.ivyteam.ivy.richdialog.widgets.containers.RScrollPane;

panel.parameterScrollPane.setCorner(RScrollPane.UPPER_RIGHT_CORNER,
                                    panel.parametersFilter);' #txt
Ts0 f13 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Add toggle button in parameter table tree corner</name>
        <nameStyle>48,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f13 46 244 36 24 20 -2 #rect
Ts0 f13 @|RichDialogProcessStepIcon #fIcon
Ts0 f37 expr out #txt
Ts0 f37 64 228 64 244 #arcP
Ts0 f92 guid 1254E5A77AFE8213 #txt
Ts0 f92 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f92 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f92 actionTable 'out=in;
' #txt
Ts0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggleParameterFilter</name>
        <nameStyle>21,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f92 1070 718 20 20 14 0 #rect
Ts0 f92 @|RichDialogProcessStartIcon #fIcon
Ts0 f93 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f93 1070 854 20 20 13 0 #rect
Ts0 f93 @|RichDialogProcessEndIcon #fIcon
Ts0 f94 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f94 actionTable 'out=in;
' #txt
Ts0 f94 actionCode 'in.filterParameters = !in.filterParameters;
panel.updateTree();' #txt
Ts0 f94 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f94 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Toggle flag
Update parameter tree</name>
        <nameStyle>33,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f94 1062 780 36 24 20 -2 #rect
Ts0 f94 @|RichDialogProcessStepIcon #fIcon
Ts0 f95 expr out #txt
Ts0 f95 1080 738 1080 780 #arcP
Ts0 f96 expr out #txt
Ts0 f96 1080 804 1080 854 #arcP
Ts0 f97 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f97 actionTable 'out=in;
' #txt
Ts0 f97 actionCode 'import java.io.FileReader;
import java.io.FileNotFoundException;
import java.util.HashMap;
import java.io.BufferedReader;

java.io.File f;
HashMap map;
String s;
List<String> a;

try {
  f = new java.io.File(System.getProperty("java.io.tmpdir"), "ddmanager.cfg");

  FileReader fr = new FileReader(f);
  BufferedReader br = new BufferedReader(fr);

  while (true) {
		s = br.readLine();
		if (#s is initialized) {
		}
		else
		{
			break;
		}
    a = s.split("=",2);
  	if (a.size() > 1) 
	  {
		  try {
  	    map.put(a.get(0), Integer.parseInt(a.get(1)));
	    }
	    catch (Exception e)
  	  {
	  	}
  	}
  }

  if (map.get("posX") != null && map.get("posY") != null) {
	  panel.getRootPane().setLocation(map.get("posX") as Integer,map.get("posY") as Integer);
  }
  if (map.get("width") != null && map.get("height") != null) {
	  panel.getRootPane().setSize(map.get("width") as Integer,map.get("height") as Integer);
  }
  if (map.get("helpSplitDividerLocation") != null) {
	  panel.helpSplitPane.setDividerLocation(map.get("helpSplitDividerLocation") as Integer);
	}
  if (map.get("mainSplitDividerLocation") != null) {
	  panel.mainSplitPane.setDividerLocation(map.get("mainSplitDividerLocation") as Integer);
	}
  if (map.get("topSplitDividerLocation") != null) {
	  panel.topSplitPane.setDividerLocation(map.get("topSplitDividerLocation") as Integer);
	}
}
catch (Exception e)
{
}' #txt
Ts0 f97 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f97 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Restore windows parameters</name>
        <nameStyle>26,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f97 46 292 37 24 20 -2 #rect
Ts0 f97 @|RichDialogProcessStepIcon #fIcon
Ts0 f98 expr out #txt
Ts0 f98 64 268 63 292 #arcP
Ts0 f99 guid 1254EE5FCF43D71F #txt
Ts0 f99 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f99 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f99 actionTable 'out=in;
' #txt
Ts0 f99 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>unload</name>
        <nameStyle>6,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f99 774 910 20 20 13 0 #rect
Ts0 f99 @|RichDialogProcessStartIcon #fIcon
Ts0 f100 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f100 774 998 20 20 13 0 #rect
Ts0 f100 @|RichDialogProcessEndIcon #fIcon
Ts0 f101 expr out #txt
Ts0 f101 784 930 784 998 #arcP
Ts0 f105 guid 1254EF6AD6CA0574 #txt
Ts0 f105 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f105 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f105 actionTable 'out=in;
' #txt
Ts0 f105 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>logon</name>
        <nameStyle>5,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f105 958 910 20 20 13 0 #rect
Ts0 f105 @|RichDialogProcessStartIcon #fIcon
Ts0 f106 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f106 958 1014 20 20 13 0 #rect
Ts0 f106 @|RichDialogProcessEndIcon #fIcon
Ts0 f108 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f108 actionTable 'out=in;
' #txt
Ts0 f108 actionCode 'ivy.session.loginSessionUser("Developer", "Developer");' #txt
Ts0 f108 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f108 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Logon as ''Developer''</name>
        <nameStyle>20,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f108 950 956 36 24 20 -2 #rect
Ts0 f108 @|RichDialogProcessStepIcon #fIcon
Ts0 f109 expr out #txt
Ts0 f109 968 930 968 956 #arcP
Ts0 f107 expr out #txt
Ts0 f107 968 980 968 1014 #arcP
Ts0 f112 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f112 actionTable 'out=in;
' #txt
Ts0 f112 actionCode 'import com.ulcjava.base.application.ULCFrame;
import com.ulcjava.base.application.ULCRootPane;

ULCRootPane root;
ULCFrame application;

root = panel.getRootPane();
if (root instanceof ULCFrame) {
	application = root as ULCFrame;
	application.setTitle("DynamicDialogManager");
}
' #txt
Ts0 f112 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f112 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Change windows title</name>
        <nameStyle>20,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f112 46 340 36 24 20 -2 #rect
Ts0 f112 @|RichDialogProcessStepIcon #fIcon
Ts0 f113 expr out #txt
Ts0 f113 63 316 64 340 #arcP
Ts0 f36 expr out #txt
Ts0 f36 1288 74 1288 116 #arcP
Ts0 f36 0 0.7209558791038956 0 0 #arcLabel
Ts0 f114 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>close()</name>
    </language>
</elementInfo>
' #txt
Ts0 f114 guid 12AE90FE64F54EEA #txt
Ts0 f114 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f114 method close() #txt
Ts0 f114 disableUIEvents false #txt
Ts0 f114 582 102 20 20 13 0 #rect
Ts0 f114 @|RichDialogMethodStartIcon #fIcon
Ts0 f115 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f115 guid 12AE90FF239D50B4 #txt
Ts0 f115 582 214 20 20 13 0 #rect
Ts0 f115 @|RichDialogEndIcon #fIcon
Ts0 f117 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f117 actionTable 'out=in;
' #txt
Ts0 f117 actionCode 'import java.io.FileWriter;
import java.io.BufferedWriter;
import java.io.OutputStreamWriter;
import java.io.FileOutputStream;
import java.io.FileNotFoundException;
import java.util.HashMap;

java.io.File f;
HashMap map;
String s;
List<String> a;

try {
  f = new java.io.File(System.getProperty("java.io.tmpdir"), "ddmanager.cfg");

  FileWriter fw = new FileWriter(f);
  BufferedWriter bw = new BufferedWriter(fw);

  bw.write("posX=" + panel.getRootPane().location.getX());
  bw.newLine();
  bw.write("posY=" + panel.getRootPane().location.getY());
  bw.newLine();
  bw.write("width=" + panel.getRootPane().size.getWidth());
  bw.newLine();
  bw.write("height=" + panel.getRootPane().size.getHeight());
  bw.newLine();
  bw.write("mainSplitDividerLocation=" + panel.mainSplitPane.dividerLocation);
  bw.newLine();
  bw.write("topSplitDividerLocation=" + panel.topSplitPane.dividerLocation);
  bw.newLine();
  bw.write("helpSplitDividerLocation=" + panel.helpSplitPane.dividerLocation);
  bw.newLine();

  bw.flush();
}
catch (Exception e)
{
}' #txt
Ts0 f117 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f117 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Store windows parameters</name>
        <nameStyle>24,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f117 574 156 37 24 20 -2 #rect
Ts0 f117 @|RichDialogProcessStepIcon #fIcon
Ts0 f118 expr out #txt
Ts0 f118 591 121 591 156 #arcP
Ts0 f116 expr out #txt
Ts0 f116 591 180 591 214 #arcP
Ts0 f102 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f102 actionTable 'out=in;
' #txt
Ts0 f102 actionCode panel.initializeCloseOperation(); #txt
Ts0 f102 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f102 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Initialize close operation</name>
        <nameStyle>26,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f102 46 388 36 24 20 -2 #rect
Ts0 f102 @|RichDialogProcessStepIcon #fIcon
Ts0 f103 expr out #txt
Ts0 f103 64 364 64 388 #arcP
Ts0 f22 expr out #txt
Ts0 f22 64 412 64 430 #arcP
Ts0 f15 expr out #txt
Ts0 f15 64 100 64 124 #arcP
Ts0 f17 actionDecl 'ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData out;
' #txt
Ts0 f17 actionTable 'out=in;
' #txt
Ts0 f17 actionCode 'import com.ulcjava.base.application.tree.TreePath;
import ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.ParameterTreeHelper;

TreePath path;
String content;

path = panel.parameterTableTree.getSelectedPath();
if (#path != null) {
	content = ParameterTreeHelper.getHelpContent(path, ivy.cms);
	if (!content.equals(""))
	{
		content = "<h1>"+ParameterTreeHelper.getNodeSubPath(path, ivy.cms)+"</h1><div style=''font-size:11px''>" + content + "</div>";
	}
}
panel.helpHtmlPane.setText(content);
ivy.log.debug(content);' #txt
Ts0 f17 type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
Ts0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Update help</name>
        <nameStyle>11,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f17 966 604 36 24 20 -2 #rect
Ts0 f17 @|RichDialogProcessStepIcon #fIcon
Ts0 f21 expr out #txt
Ts0 f21 984 580 984 604 #arcP
Ts0 f83 expr out #txt
Ts0 f83 984 628 984 662 #arcP
>Proto Ts0 .type ch.ivyteam.ivy.addons.dynamicrd.DynamicDialogManager.DynamicDialogManagerData #txt
>Proto Ts0 .processKind RICH_DIALOG #txt
>Proto Ts0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Start methods</swimlaneLabel>
        <swimlaneLabel>Getter/Setter
methods</swimlaneLabel>
        <swimlaneLabel>Methods</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel>Broadcasts</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>282</swimlaneSize>
    <swimlaneSize>121</swimlaneSize>
    <swimlaneSize>328</swimlaneSize>
    <swimlaneSize>488</swimlaneSize>
    <swimlaneSize>219</swimlaneSize>
    <swimlaneColor>-3355444</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
</elementInfo>
' #txt
>Proto Ts0 .ui2RdDataAction 'out.errorMessage=panel.errorLabel.text;
out.searchable=panel.comboLookupToggleButton.selected;
' #txt
>Proto Ts0 .rdData2UIAction 'panel.administrativeRightsLabel.visible=!ivy.session.hasPermission(ivy.wf.getApplication().getSecurityDescriptor(), ch.ivyteam.ivy.security.IPermission.ADMINISTRATE_WORKFLOW);
panel.attributeTableTree.tableTreeData=in.dataClassesEncapsulation;
panel.cmsContextList.listData=in.displayedCmsContext;
panel.cardPane.selectedName=in.searchable?"LookupTextField":"ComboBox";
panel.errorLabel.text=in.errorMessage;
panel.errorLabel.visible=!in.errorMessage.equals("");
panel.selectDCComboBox.listData=in.projectDataClasses;
panel.selectDCLookupTextField.listData=in.projectDataClasses;
panel.filterMenuItem.selected=in.filterParameters;
panel.logonButton.enabled=ivy.session.isSessionUserUnknown();
panel.parametersFilter.selected=in.filterParameters;
panel.refreshDDButton.enabled=in.#component != null;
' #txt
>Proto Ts0 -8 -8 16 16 16 26 #rect
>Proto Ts0 '' #fIcon
Ts0 f4 mainOut f7 tail #connect
Ts0 f7 head f6 mainIn #connect
Ts0 f6 mainOut f5 tail #connect
Ts0 f5 head f2 mainIn #connect
Ts0 f35 mainOut f34 tail #connect
Ts0 f34 head f9 mainIn #connect
Ts0 f0 mainOut f41 tail #connect
Ts0 f41 head f3 mainIn #connect
Ts0 f54 mainOut f56 tail #connect
Ts0 f56 head f55 mainIn #connect
Ts0 f55 mainOut f51 tail #connect
Ts0 f51 head f50 mainIn #connect
Ts0 f11 mainOut f59 tail #connect
Ts0 f59 head f31 mainIn #connect
Ts0 f31 mainOut f60 tail #connect
Ts0 f60 head f27 mainIn #connect
Ts0 f14 mainOut f58 tail #connect
Ts0 f58 head f57 mainIn #connect
Ts0 f57 mainOut f39 tail #connect
Ts0 f39 head f38 mainIn #connect
Ts0 f61 mainOut f64 tail #connect
Ts0 f64 head f63 mainIn #connect
Ts0 f63 mainOut f65 tail #connect
Ts0 f65 head f62 mainIn #connect
Ts0 f19 mainOut f66 tail #connect
Ts0 f66 head f40 mainIn #connect
Ts0 f42 mainOut f46 tail #connect
Ts0 f46 head f45 mainIn #connect
Ts0 f45 mainOut f44 tail #connect
Ts0 f44 head f43 mainIn #connect
Ts0 f72 mainOut f76 tail #connect
Ts0 f76 head f75 mainIn #connect
Ts0 f40 mainOut f78 tail #connect
Ts0 f78 head f77 mainIn #connect
Ts0 f67 mainOut f80 tail #connect
Ts0 f80 head f79 mainIn #connect
Ts0 f79 mainOut f69 tail #connect
Ts0 f69 head f68 mainIn #connect
Ts0 f52 mainOut f70 tail #connect
Ts0 f70 head f73 mainIn #connect
Ts0 f75 mainOut f48 tail #connect
Ts0 f48 head f52 mainIn #connect
Ts0 f16 mainOut f24 tail #connect
Ts0 f24 head f23 mainIn #connect
Ts0 f23 mainOut f20 tail #connect
Ts0 f20 head f18 mainIn #connect
Ts0 f47 mainOut f74 tail #connect
Ts0 f74 head f49 mainIn #connect
Ts0 f53 mainOut f71 tail #connect
Ts0 f71 head f47 mainIn #connect
Ts0 f81 mainOut f85 tail #connect
Ts0 f85 head f84 mainIn #connect
Ts0 f10 mainOut f87 tail #connect
Ts0 f87 head f86 mainIn #connect
Ts0 f86 mainOut f30 tail #connect
Ts0 f30 head f26 mainIn #connect
Ts0 f12 mainOut f89 tail #connect
Ts0 f89 head f88 mainIn #connect
Ts0 f88 mainOut f32 tail #connect
Ts0 f32 head f28 mainIn #connect
Ts0 f25 mainOut f91 tail #connect
Ts0 f91 head f90 mainIn #connect
Ts0 f90 mainOut f33 tail #connect
Ts0 f33 head f29 mainIn #connect
Ts0 f77 mainOut f37 tail #connect
Ts0 f37 head f13 mainIn #connect
Ts0 f92 mainOut f95 tail #connect
Ts0 f95 head f94 mainIn #connect
Ts0 f94 mainOut f96 tail #connect
Ts0 f96 head f93 mainIn #connect
Ts0 f13 mainOut f98 tail #connect
Ts0 f98 head f97 mainIn #connect
Ts0 f99 mainOut f101 tail #connect
Ts0 f101 head f100 mainIn #connect
Ts0 f105 mainOut f109 tail #connect
Ts0 f109 head f108 mainIn #connect
Ts0 f108 mainOut f107 tail #connect
Ts0 f107 head f106 mainIn #connect
Ts0 f97 mainOut f113 tail #connect
Ts0 f113 head f112 mainIn #connect
Ts0 f8 mainOut f36 tail #connect
Ts0 f36 head f35 mainIn #connect
Ts0 f114 mainOut f118 tail #connect
Ts0 f118 head f117 mainIn #connect
Ts0 f117 mainOut f116 tail #connect
Ts0 f116 head f115 mainIn #connect
Ts0 f112 mainOut f103 tail #connect
Ts0 f103 head f102 mainIn #connect
Ts0 f102 mainOut f22 tail #connect
Ts0 f22 head f1 mainIn #connect
Ts0 f3 mainOut f15 tail #connect
Ts0 f15 head f19 mainIn #connect
Ts0 f84 mainOut f21 tail #connect
Ts0 f21 head f17 mainIn #connect
Ts0 f17 mainOut f83 tail #connect
Ts0 f83 head f82 mainIn #connect
