<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:ic="http://ivyteam.ch/jsf/component"
      xmlns:p="http://primefaces.org/ui">
 
<h:body>
	<ui:composition template="/tamplates/HomeTemplate.xhtml">

		<ui:define name="center">
			<p:layoutUnit id="center" position="center" header="#{ivy.cms.co('/explainTexts/DelegateTaskTitel')}">
			<br></br>
			<h:outputText value="#{ivy.cms.co('/explainTexts/DelegateTaskDescription')}"/>
			<br></br><br></br><br></br>
			  
			<h:form id="formDetails">
				<p:selectOneRadio id="customRadio" value="#{data.data.delegateType}" layout="custom">  
        			<f:selectItem itemLabel="user" itemValue="user" />
        			<f:selectItem itemLabel="role" itemValue="role" />
        			<f:ajax render="formDetails"/>
    			</p:selectOneRadio>
				<h:panelGrid columns="5" id="delegate">
					<h:outputText value="#{ivy.cms.co('/labels/taskResponsible')}"/>
					<p:radioButton id="opt1" for="customRadio" itemIndex="0"/>
					<h:outputLabel for="opt1" value="user" /> 
        			<h:graphicImage library="ivy-cms" name="/images/user" style="border:0pt" alt="user"/>
        			<p:selectOneMenu id="user" value="#{data.data.delegateUser}" disabled="#{data.data.delegateType == 'role'}">
           				<f:selectItems value="#{data.data.substitute.userList}" var="user" itemLabel="#{user}" itemValue="#{user}"/>  
        			</p:selectOneMenu>
        			<br></br>
        			<p:radioButton id="opt2" for="customRadio" itemIndex="1"/>
        			<h:outputLabel for="opt2" value="role" />
        			<h:graphicImage library="ivy-cms" name="/images/role" style="border:0pt" alt="role"/>
        			<p:selectOneMenu id="role" value="#{data.data.delegateRole}" disabled="#{data.data.delegateType == 'user'}">
           				<f:selectItems value="#{data.data.substitute.roleList}" var="role" itemLabel="#{role}" itemValue="#{role}"/>  
        			</p:selectOneMenu>
        			
				</h:panelGrid>
				<p:commandButton id="save" value="#{ivy.cms.co('/labels/taskDelegate')}" actionListener="#{logic.delegateTask}" ajax="false"/>
				<p:commandButton id="back" value="#{ivy.cms.co('/labels/backButton')}" actionListener="#{logic.back}" ajax="false"/>
			</h:form>
			</p:layoutUnit>
		</ui:define>

	</ui:composition>
</h:body>
</html>